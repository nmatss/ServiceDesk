# ============================================
# ServiceDesk - Production Environment
# ============================================
# Copy this file to .env.production for production deployment
# NEVER commit production secrets to version control!

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
NEXT_PUBLIC_API_URL=https://your-domain.com/api
PORT=3000

# ============================================
# SECURITY (REQUIRED - MUST BE UNIQUE)
# ============================================
# Generate with: openssl rand -hex 32
# CRITICAL: These MUST be different from development values!

JWT_SECRET=
SESSION_SECRET=
NEXTAUTH_SECRET=
NEXTAUTH_URL=https://your-domain.com

JWT_EXPIRES_IN=28800
REFRESH_TOKEN_DURATION=7

# ============================================
# DATABASE (PostgreSQL/Neon - REQUIRED)
# ============================================
# REQUIRED: Must use PostgreSQL in production (not SQLite)
# Neon example: postgresql://user:password@ep-xxx.neon.tech/servicedesk?sslmode=require
DATABASE_URL=

# Connection Pool (Optimized for Production)
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=5000

# ============================================
# PASSWORD POLICY (Strict)
# ============================================
MIN_PASSWORD_LENGTH=12
REQUIRE_PASSWORD_SPECIAL_CHARS=true
REQUIRE_PASSWORD_NUMBERS=true
REQUIRE_PASSWORD_UPPERCASE=true

# ============================================
# MFA & SECURITY
# ============================================
ENFORCE_2FA_FOR_ADMIN=true
MFA_SECRET=
SESSION_DURATION=14400
MAX_LOGIN_ATTEMPTS=3
LOCKOUT_DURATION=60

# ============================================
# EMAIL (REQUIRED for Production)
# ============================================
EMAIL_PROVIDER=sendgrid

# SendGrid (Recommended for Production)
SENDGRID_API_KEY=

# Alternative: SMTP
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=
SMTP_PASSWORD=

EMAIL_FROM_NAME=ServiceDesk
EMAIL_FROM_ADDRESS=noreply@your-domain.com
SKIP_EMAIL_VERIFICATION=false

# ============================================
# REDIS (REQUIRED for Production)
# ============================================
# Required for session management, caching, and rate limiting
REDIS_URL=
REDIS_PASSWORD=
REDIS_CLUSTER=true
ENABLE_REDIS_CACHE=true

# Cache TTL (Production Optimized)
CACHE_TTL=7200
CACHE_TTL_SHORT=600
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=14400
CACHE_TTL_STATIC=86400

# ============================================
# STORAGE (Cloud Storage Required)
# ============================================
STORAGE_PROVIDER=s3

# AWS S3 (Recommended)
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# File Limits (Production)
MAX_FILE_SIZE_MB=25
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# ============================================
# CDN (Recommended for Production)
# ============================================
CDN_BASE_URL=https://cdn.your-domain.com
NEXT_PUBLIC_CDN_URL=https://cdn.your-domain.com
CDN_API_KEY=
CDN_ZONE_ID=

# ============================================
# SENTRY (REQUIRED for Production)
# ============================================
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=

# Source Maps Upload
SENTRY_AUTH_TOKEN=
SENTRY_ORG=
SENTRY_PROJECT=
SENTRY_UPLOAD_SOURCEMAPS=true

# Environment
SENTRY_ENVIRONMENT=production
NEXT_PUBLIC_SENTRY_ENVIRONMENT=production

# Sampling (Optimized for Cost)
SENTRY_ERROR_SAMPLE_RATE=1.0
SENTRY_TRACES_SAMPLE_RATE=0.1
NEXT_PUBLIC_SENTRY_ERROR_SAMPLE_RATE=1.0
NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=0.05

# ============================================
# DATADOG APM (Recommended for Production)
# ============================================
DD_API_KEY=
DD_SITE=datadoghq.com

# Service Info
DD_SERVICE=servicedesk
DD_ENV=production
DD_VERSION=

# APM Enabled
DD_TRACE_ENABLED=true
DD_TRACE_SAMPLE_RATE=0.3
DD_TRACE_ANALYTICS_ENABLED=true

# Logs
DD_LOGS_ENABLED=true
DD_LOGS_INJECTION=true

# Profiling
DD_PROFILING_ENABLED=true

# RUM (Browser Monitoring)
NEXT_PUBLIC_DD_RUM_ENABLED=true
NEXT_PUBLIC_DD_RUM_APPLICATION_ID=
NEXT_PUBLIC_DD_RUM_CLIENT_TOKEN=
NEXT_PUBLIC_DD_RUM_SAMPLE_RATE=50
NEXT_PUBLIC_DD_ENV=production

# ============================================
# OPENAI (Optional - Production)
# ============================================
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
AI_TEMPERATURE=0.5

ENABLE_AI_CLASSIFICATION=true
ENABLE_AI_SENTIMENT_ANALYSIS=true
ENABLE_AI_DUPLICATE_DETECTION=true
ENABLE_AI_AUTO_RESPONSE=false

# ============================================
# RATE LIMITING (Strict)
# ============================================
ENABLE_RATE_LIMITING=true
RATE_LIMIT_API=60
RATE_LIMIT_AUTH=5
RATE_LIMIT_PUBLIC=30
BYPASS_RATE_LIMIT=false

# ============================================
# CORS (Production Domains Only)
# ============================================
CORS_ORIGINS=https://your-domain.com,https://app.your-domain.com
ALLOWED_ORIGINS=https://your-domain.com
FRONTEND_URL=https://your-domain.com
TRUST_PROXY=true

# ============================================
# FEATURE FLAGS (Production)
# ============================================
ENABLE_KNOWLEDGE_BASE=true
ENABLE_ANALYTICS=true
ENABLE_WORKFLOWS=true
ENABLE_GAMIFICATION=false
ENABLE_PWA=true
ENABLE_REALTIME_NOTIFICATIONS=true
ENABLE_MULTI_TENANCY=true
ENABLE_SSO=true

# ============================================
# SSO (Production)
# ============================================
ENABLE_SSO=true
SSO_ENCRYPTION_KEY=

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=https://your-domain.com/api/auth/sso/google/callback

# Microsoft Azure AD
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
AZURE_AD_TENANT_ID=
AZURE_AD_CALLBACK_URL=https://your-domain.com/api/auth/sso/azure/callback

# Gov.br (Production)
GOVBR_CLIENT_ID=
GOVBR_CLIENT_SECRET=
GOVBR_REDIRECT_URI=https://your-domain.com/api/auth/govbr/callback
GOVBR_ENVIRONMENT=production

# ============================================
# WHATSAPP BUSINESS API
# ============================================
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_WEBHOOK_VERIFY_TOKEN=
WHATSAPP_API_VERSION=v18.0

# ============================================
# COMPLIANCE & PRIVACY
# ============================================
ENABLE_DATA_RETENTION=true
DATA_RETENTION_DAYS=365
ENABLE_AUDIT_LOGS=true
AUDIT_LOG_RETENTION_DAYS=730
ENABLE_CONSENT_MANAGEMENT=true

# ============================================
# BACKUP (Production)
# ============================================
BACKUP_RETENTION_DAYS=30
BACKUP_RETENTION_HOURS_INCREMENTAL=48
BACKUP_CLOUD_ENABLED=true
BACKUP_CLOUD_PROVIDER=s3

# ============================================
# WEBHOOKS (Production)
# ============================================
WEBHOOK_SECRET=
ENABLE_WEBHOOK_RETRY=true
WEBHOOK_TIMEOUT=10000

# ============================================
# INTEGRATIONS (Optional)
# ============================================
# Slack
SLACK_WEBHOOK_URL=
SLACK_BOT_TOKEN=

# Analytics
GOOGLE_ANALYTICS_ID=
POSTHOG_API_KEY=

# ============================================
# PWA (Production)
# ============================================
NEXT_PUBLIC_VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# ============================================
# ELASTICSEARCH (Optional - Advanced Search)
# ============================================
ELASTICSEARCH_URL=
ELASTICSEARCH_INDEX=servicedesk_knowledge
ELASTICSEARCH_API_KEY=

# ============================================
# PRODUCTION SETTINGS
# ============================================
DEBUG=false
LOG_LEVEL=warn
LOG_SQL_QUERIES=false
ENABLE_MOCK_DATA=false
ENABLE_COMPRESSION=true
ENABLE_HTTP2=true
WORKER_THREADS=4

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true

# ============================================
# LOCALIZATION
# ============================================
DEFAULT_LANGUAGE=pt-BR
SUPPORTED_LANGUAGES=pt-BR,en-US,es-ES
DEFAULT_TIMEZONE=America/Sao_Paulo

# ============================================
# WEBAUTHN
# ============================================
WEBAUTHN_RP_ID=your-domain.com
