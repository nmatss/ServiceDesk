{"numTotalTestSuites":557,"numPassedTestSuites":459,"numFailedTestSuites":98,"numPendingTestSuites":0,"numTotalTests":1435,"numPassedTests":1269,"numFailedTests":160,"numPendingTests":6,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1771180416391,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /api/health without authentication","status":"passed","title":"should allow access to /api/health without authentication","duration":6.248300000000199,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /api/status without authentication","status":"passed","title":"should allow access to /api/status without authentication","duration":6.162179000000151,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /landing without authentication","status":"passed","title":"should allow access to /landing without authentication","duration":0.8531050000001414,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /auth/login without authentication","status":"passed","title":"should allow access to /auth/login without authentication","duration":0.8399870000000647,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /auth/register without authentication","status":"passed","title":"should allow access to /auth/register without authentication","duration":2.1040530000000217,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /_next/static/* without authentication","status":"passed","title":"should allow access to /_next/static/* without authentication","duration":0.9420070000001033,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /favicon.ico without authentication","status":"passed","title":"should allow access to /favicon.ico without authentication","duration":0.5909919999999147,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Public Routes"],"fullName":"Middleware - Public Routes should allow access to /robots.txt without authentication","status":"passed","title":"should allow access to /robots.txt without authentication","duration":0.8136959999999362,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Protected Routes"],"fullName":"Middleware - Protected Routes should redirect unauthenticated user accessing /dashboard to /landing","status":"passed","title":"should redirect unauthenticated user accessing /dashboard to /landing","duration":12.89772199999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Protected Routes"],"fullName":"Middleware - Protected Routes should redirect unauthenticated user accessing /tickets to /landing","status":"passed","title":"should redirect unauthenticated user accessing /tickets to /landing","duration":1.0951829999999063,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Protected Routes"],"fullName":"Middleware - Protected Routes should redirect unauthenticated user accessing /profile to /landing","status":"passed","title":"should redirect unauthenticated user accessing /profile to /landing","duration":0.6699200000000474,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Protected Routes"],"fullName":"Middleware - Protected Routes should return 401 for unauthenticated API request to /api/tickets","status":"passed","title":"should return 401 for unauthenticated API request to /api/tickets","duration":1.9640329999999722,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Protected Routes"],"fullName":"Middleware - Protected Routes should return 401 for unauthenticated API request to /api/analytics","status":"passed","title":"should return 401 for unauthenticated API request to /api/analytics","duration":0.8771030000000337,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Protected Routes"],"fullName":"Middleware - Protected Routes should allow authenticated user to access /dashboard","status":"passed","title":"should allow authenticated user to access /dashboard","duration":9.001027000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Protected Routes"],"fullName":"Middleware - Protected Routes should allow authenticated user to access /tickets","status":"passed","title":"should allow authenticated user to access /tickets","duration":6.630114000000049,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Admin Routes"],"fullName":"Middleware - Admin Routes should block non-admin user from accessing /admin","status":"passed","title":"should block non-admin user from accessing /admin","duration":18.2346399999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Admin Routes"],"fullName":"Middleware - Admin Routes should allow admin user to access /admin","status":"passed","title":"should allow admin user to access /admin","duration":2.0079659999998967,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Admin Routes"],"fullName":"Middleware - Admin Routes should allow tenant_admin to access /admin","status":"passed","title":"should allow tenant_admin to access /admin","duration":1.8717650000000958,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Admin Routes"],"fullName":"Middleware - Admin Routes should allow super_admin to access /admin","status":"passed","title":"should allow super_admin to access /admin","duration":1.3645309999999427,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Admin Routes"],"fullName":"Middleware - Admin Routes should allow team_manager to access /admin","status":"passed","title":"should allow team_manager to access /admin","duration":3.9615610000000743,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Admin Routes"],"fullName":"Middleware - Admin Routes should block agent role from accessing /admin","status":"passed","title":"should block agent role from accessing /admin","duration":9.254920000000084,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Admin Routes"],"fullName":"Middleware - Admin Routes should return 403 for non-admin API request to /api/users","status":"passed","title":"should return 403 for non-admin API request to /api/users","duration":2.2731169999999565,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - JWT Verification"],"fullName":"Middleware - JWT Verification should reject expired JWT token","status":"passed","title":"should reject expired JWT token","duration":1.9011940000000322,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - JWT Verification"],"fullName":"Middleware - JWT Verification should reject JWT with invalid signature","status":"passed","title":"should reject JWT with invalid signature","duration":1.5311219999998684,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - JWT Verification"],"fullName":"Middleware - JWT Verification should reject JWT with wrong issuer","status":"passed","title":"should reject JWT with wrong issuer","duration":1.7888259999999718,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - JWT Verification"],"fullName":"Middleware - JWT Verification should reject JWT with wrong audience","status":"passed","title":"should reject JWT with wrong audience","duration":1.6262839999999414,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - JWT Verification"],"fullName":"Middleware - JWT Verification should reject refresh token (type=refresh) for access","status":"passed","title":"should reject refresh token (type=refresh) for access","duration":1.5668209999998908,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - JWT Verification"],"fullName":"Middleware - JWT Verification should accept JWT from Authorization header","status":"passed","title":"should accept JWT from Authorization header","duration":1.7104900000001635,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - JWT Verification"],"fullName":"Middleware - JWT Verification should reject malformed Authorization header","status":"passed","title":"should reject malformed Authorization header","duration":0.7802500000000236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Tenant Isolation"],"fullName":"Middleware - Tenant Isolation should reject JWT with mismatched organization_id","status":"passed","title":"should reject JWT with mismatched organization_id","duration":1.2999099999999544,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Tenant Isolation"],"fullName":"Middleware - Tenant Isolation should set tenant headers on successful request","status":"passed","title":"should set tenant headers on successful request","duration":3.6578259999998863,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Tenant Isolation"],"fullName":"Middleware - Tenant Isolation should set user headers on authenticated request","status":"passed","title":"should set user headers on authenticated request","duration":6.611371999999847,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Tenant Isolation"],"fullName":"Middleware - Tenant Isolation should set tenant-context cookie","status":"passed","title":"should set tenant-context cookie","duration":0.940791999999874,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - CSRF Protection"],"fullName":"Middleware - CSRF Protection should validate CSRF token for POST requests","status":"passed","title":"should validate CSRF token for POST requests","duration":6.071756999999934,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - CSRF Protection"],"fullName":"Middleware - CSRF Protection should validate CSRF token for PUT requests","status":"passed","title":"should validate CSRF token for PUT requests","duration":1.1985960000001796,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - CSRF Protection"],"fullName":"Middleware - CSRF Protection should validate CSRF token for DELETE requests","status":"passed","title":"should validate CSRF token for DELETE requests","duration":1.0357229999999618,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - CSRF Protection"],"fullName":"Middleware - CSRF Protection should skip CSRF validation for GET requests","status":"passed","title":"should skip CSRF validation for GET requests","duration":1.7938890000000356,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - CSRF Protection"],"fullName":"Middleware - CSRF Protection should exempt SSO callbacks from CSRF validation","status":"passed","title":"should exempt SSO callbacks from CSRF validation","duration":0.45594500000015614,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should set cache-control header for static assets","status":"passed","title":"should set cache-control header for static assets","duration":0.26254199999993943,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should set no-cache for API routes","status":"passed","title":"should set no-cache for API routes","duration":0.25357400000007146,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should set cache-control for landing page","status":"passed","title":"should set cache-control for landing page","duration":1.0610939999999118,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should set Vary header","status":"passed","title":"should set Vary header","duration":0.2608749999999418,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should set ETag for static resources","status":"passed","title":"should set ETag for static resources","duration":0.16330300000004172,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should handle ETag for static resources","status":"passed","title":"should handle ETag for static resources","duration":0.2858000000001084,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should detect Brotli compression support","status":"passed","title":"should detect Brotli compression support","duration":0.17133000000012544,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Performance Optimizations"],"fullName":"Middleware - Performance Optimizations should detect gzip compression support","status":"passed","title":"should detect gzip compression support","duration":0.1414239999999154,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Error Handling"],"fullName":"Middleware - Error Handling should handle missing JWT gracefully","status":"passed","title":"should handle missing JWT gracefully","duration":0.44431299999996554,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Error Handling"],"fullName":"Middleware - Error Handling should handle invalid JWT format gracefully","status":"passed","title":"should handle invalid JWT format gracefully","duration":4.252463999999918,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Error Handling"],"fullName":"Middleware - Error Handling should redirect to /tenant-not-found when tenant cannot be resolved","status":"passed","title":"should redirect to /tenant-not-found when tenant cannot be resolved","duration":2.0382540000000517,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Error Handling"],"fullName":"Middleware - Error Handling should handle tenant validation errors","status":"passed","title":"should handle tenant validation errors","duration":0.9792540000000827,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should block Regular user (user) from accessing /admin","status":"passed","title":"should block Regular user (user) from accessing /admin","duration":5.139108000000078,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should block Support agent (agent) from accessing /admin","status":"passed","title":"should block Support agent (agent) from accessing /admin","duration":0.9684219999999186,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should block Team lead (team_lead) from accessing /admin","status":"passed","title":"should block Team lead (team_lead) from accessing /admin","duration":1.9536749999999756,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should allow Team manager (team_manager) from accessing /admin","status":"passed","title":"should allow Team manager (team_manager) from accessing /admin","duration":1.3900479999999789,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should allow Admin (admin) from accessing /admin","status":"passed","title":"should allow Admin (admin) from accessing /admin","duration":1.9173000000000684,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should allow Tenant admin (tenant_admin) from accessing /admin","status":"passed","title":"should allow Tenant admin (tenant_admin) from accessing /admin","duration":1.2170310000001336,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should allow Super admin (super_admin) from accessing /admin","status":"passed","title":"should allow Super admin (super_admin) from accessing /admin","duration":0.9549499999998261,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Role-Based Access Control"],"fullName":"Middleware - Role-Based Access Control should allow all authenticated users to access /tickets","status":"passed","title":"should allow all authenticated users to access /tickets","duration":6.2561920000000555,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Redirect Logic"],"fullName":"Middleware - Redirect Logic should redirect to /landing with tenant parameter","status":"passed","title":"should redirect to /landing with tenant parameter","duration":0.6644520000002103,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Redirect Logic"],"fullName":"Middleware - Redirect Logic should redirect to /unauthorized for insufficient permissions","status":"passed","title":"should redirect to /unauthorized for insufficient permissions","duration":1.1219150000001719,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Integration Tests"],"fullName":"Middleware - Integration Tests should handle complete authentication flow for admin user","status":"passed","title":"should handle complete authentication flow for admin user","duration":1.167351999999937,"failureMessages":[],"meta":{}},{"ancestorTitles":["Middleware - Integration Tests"],"fullName":"Middleware - Integration Tests should enforce all security checks in correct order","status":"passed","title":"should enforce all security checks in correct order","duration":2.5902249999999185,"failureMessages":[],"meta":{}}],"startTime":1771180418953,"endTime":1771180419115.5903,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/middleware.test.ts"},{"assertionResults":[{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users"],"fullName":"Admin API Integration Tests GET /api/admin/users should list all users (admin only)","status":"failed","title":"should list all users (admin only)","duration":34.11365500000011,"failureMessages":["AssertionError: expected 403 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:33:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users"],"fullName":"Admin API Integration Tests GET /api/admin/users should deny access to non-admin users","status":"passed","title":"should deny access to non-admin users","duration":4.263625000000047,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users"],"fullName":"Admin API Integration Tests GET /api/admin/users should deny access to agents","status":"passed","title":"should deny access to agents","duration":3.73623600000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users"],"fullName":"Admin API Integration Tests GET /api/admin/users should include ticket count per user","status":"failed","title":"should include ticket count per user","duration":6.749858000000131,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:85:20\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users"],"fullName":"Admin API Integration Tests GET /api/admin/users should enforce tenant isolation","status":"passed","title":"should enforce tenant isolation","duration":2.616232000000309,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users"],"fullName":"Admin API Integration Tests GET /api/admin/users should not expose password hashes","status":"passed","title":"should not expose password hashes","duration":6.745148999999856,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users/[id]"],"fullName":"Admin API Integration Tests GET /api/admin/users/[id] should get user by id (admin only)","status":"failed","title":"should get user by id (admin only)","duration":12.927920000000086,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:137:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users/[id]"],"fullName":"Admin API Integration Tests GET /api/admin/users/[id] should return 404 for non-existent user","status":"failed","title":"should return 404 for non-existent user","duration":9.455997000000025,"failureMessages":["AssertionError: expected 401 to be 404 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:154:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/users/[id]"],"fullName":"Admin API Integration Tests GET /api/admin/users/[id] should deny access to non-admin users","status":"failed","title":"should deny access to non-admin users","duration":6.222775999999612,"failureMessages":["AssertionError: expected 401 to be 403 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:168:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","PUT /api/admin/users/[id]"],"fullName":"Admin API Integration Tests PUT /api/admin/users/[id] should update user (admin only)","status":"failed","title":"should update user (admin only)","duration":14.436235000000124,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:190:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","PUT /api/admin/users/[id]"],"fullName":"Admin API Integration Tests PUT /api/admin/users/[id] should deny role escalation by non-admin","status":"failed","title":"should deny role escalation by non-admin","duration":10.416002999999819,"failureMessages":["AssertionError: expected 401 to be 403 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:214:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","PUT /api/admin/users/[id]"],"fullName":"Admin API Integration Tests PUT /api/admin/users/[id] should create audit log on user update","status":"failed","title":"should create audit log on user update","duration":4.57678900000019,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:238:24\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","DELETE /api/admin/users/[id]"],"fullName":"Admin API Integration Tests DELETE /api/admin/users/[id] should deactivate user instead of hard delete","status":"failed","title":"should deactivate user instead of hard delete","duration":23.199118,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:264:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","DELETE /api/admin/users/[id]"],"fullName":"Admin API Integration Tests DELETE /api/admin/users/[id] should prevent self-deletion","status":"failed","title":"should prevent self-deletion","duration":2.7283199999997123,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:284:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","DELETE /api/admin/users/[id]"],"fullName":"Admin API Integration Tests DELETE /api/admin/users/[id] should deny deletion by non-admin","status":"failed","title":"should deny deletion by non-admin","duration":8.484050999999909,"failureMessages":["AssertionError: expected 401 to be 403 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:298:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/reports"],"fullName":"Admin API Integration Tests GET /api/admin/reports should generate ticket reports (admin only)","status":"failed","title":"should generate ticket reports (admin only)","duration":10.375125000000025,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:324:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/reports"],"fullName":"Admin API Integration Tests GET /api/admin/reports should filter reports by date range","status":"failed","title":"should filter reports by date range","duration":2.332875000000058,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:342:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/reports"],"fullName":"Admin API Integration Tests GET /api/admin/reports should deny access to non-admin users","status":"failed","title":"should deny access to non-admin users","duration":9.135549000000083,"failureMessages":["AssertionError: expected 401 to be 403 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:353:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/audit"],"fullName":"Admin API Integration Tests GET /api/admin/audit should retrieve audit logs (admin only)","status":"failed","title":"should retrieve audit logs (admin only)","duration":2.928306000000248,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:374:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/audit"],"fullName":"Admin API Integration Tests GET /api/admin/audit should filter audit logs by entity type","status":"failed","title":"should filter audit logs by entity type","duration":9.013742999999977,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:388:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/audit"],"fullName":"Admin API Integration Tests GET /api/admin/audit should filter audit logs by user","status":"failed","title":"should filter audit logs by user","duration":2.2508200000002034,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:408:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/audit"],"fullName":"Admin API Integration Tests GET /api/admin/audit should paginate audit logs","status":"failed","title":"should paginate audit logs","duration":14.181822000000011,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:434:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/audit"],"fullName":"Admin API Integration Tests GET /api/admin/audit should deny access to non-admin users","status":"failed","title":"should deny access to non-admin users","duration":5.59092499999997,"failureMessages":["AssertionError: expected 401 to be 403 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:447:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/audit"],"fullName":"Admin API Integration Tests GET /api/admin/audit should enforce tenant isolation","status":"passed","title":"should enforce tenant isolation","duration":10.492899000000307,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/sla"],"fullName":"Admin API Integration Tests GET /api/admin/sla should retrieve SLA statistics (admin only)","status":"failed","title":"should retrieve SLA statistics (admin only)","duration":8.089710000000196,"failureMessages":["AssertionError: expected 403 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:478:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/sla"],"fullName":"Admin API Integration Tests GET /api/admin/sla should show SLA compliance metrics","status":"failed","title":"should show SLA compliance metrics","duration":4.79676500000005,"failureMessages":["AssertionError: expected 403 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:491:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/sla"],"fullName":"Admin API Integration Tests GET /api/admin/sla should filter SLA stats by date range","status":"failed","title":"should filter SLA stats by date range","duration":3.353226000000177,"failureMessages":["AssertionError: expected 403 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:512:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","GET /api/admin/sla"],"fullName":"Admin API Integration Tests GET /api/admin/sla should deny access to non-admin users","status":"passed","title":"should deny access to non-admin users","duration":7.353712000000087,"failureMessages":[],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","Admin Security"],"fullName":"Admin API Integration Tests Admin Security should require authentication for all admin endpoints","status":"failed","title":"should require authentication for all admin endpoints","duration":10.970702999999958,"failureMessages":["AssertionError: expected 400 to be 401 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:553:34\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Admin API Integration Tests","Admin Security"],"fullName":"Admin API Integration Tests Admin Security should log all admin actions","status":"failed","title":"should log all admin actions","duration":3.2546439999996437,"failureMessages":["AssertionError: expected 0 to be greater than 0\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts:581:27\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1771180419640,"endTime":1771180419897.2546,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/integration/admin.test.ts"},{"assertionResults":[{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/register"],"fullName":"Auth API Integration Tests POST /api/auth/register should register a new user successfully","status":"failed","title":"should register a new user successfully","duration":28.331190999999762,"failureMessages":["AssertionError: expected 400 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:38:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/register"],"fullName":"Auth API Integration Tests POST /api/auth/register should reject registration with weak password","status":"passed","title":"should reject registration with weak password","duration":1.9052860000001601,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/register"],"fullName":"Auth API Integration Tests POST /api/auth/register should reject registration with invalid email","status":"passed","title":"should reject registration with invalid email","duration":2.4395979999999327,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/register"],"fullName":"Auth API Integration Tests POST /api/auth/register should reject duplicate email registration","status":"failed","title":"should reject duplicate email registration","duration":2.522819000000254,"failureMessages":["AssertionError: expected 400 to be 409 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:104:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/register"],"fullName":"Auth API Integration Tests POST /api/auth/register should reject registration with missing required fields","status":"passed","title":"should reject registration with missing required fields","duration":1.7544590000002245,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/register"],"fullName":"Auth API Integration Tests POST /api/auth/register should sanitize name to prevent XSS","status":"failed","title":"should sanitize name to prevent XSS","duration":8.658176000000367,"failureMessages":["AssertionError: expected 400 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:140:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/register"],"fullName":"Auth API Integration Tests POST /api/auth/register should set authentication cookies on successful registration","status":"failed","title":"should set authentication cookies on successful registration","duration":2.7977930000001834,"failureMessages":["AssertionError: expected 400 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:157:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/login"],"fullName":"Auth API Integration Tests POST /api/auth/login should login with valid credentials","status":"failed","title":"should login with valid credentials","duration":3.7717210000000705,"failureMessages":["AssertionError: expected 400 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:176:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/login"],"fullName":"Auth API Integration Tests POST /api/auth/login should reject login with invalid password","status":"failed","title":"should reject login with invalid password","duration":1.4385419999998703,"failureMessages":["AssertionError: expected 400 to be 401 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:197:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/login"],"fullName":"Auth API Integration Tests POST /api/auth/login should reject login with non-existent email","status":"failed","title":"should reject login with non-existent email","duration":1.28057600000011,"failureMessages":["AssertionError: expected 400 to be 401 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:215:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/login"],"fullName":"Auth API Integration Tests POST /api/auth/login should update last_login_at on successful login","status":"failed","title":"should update last_login_at on successful login","duration":1.365422000000308,"failureMessages":["AssertionError: expected null to be truthy\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:240:40\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/login"],"fullName":"Auth API Integration Tests POST /api/auth/login should create audit log entry on successful login","status":"failed","title":"should create audit log entry on successful login","duration":1.3118549999999232,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:263:24\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/login"],"fullName":"Auth API Integration Tests POST /api/auth/login should lock account after multiple failed login attempts","status":"failed","title":"should lock account after multiple failed login attempts","duration":2.821937000000162,"failureMessages":["SqliteError: no such column: locked_until\n    at Database.prepare (/home/nic20/ProjetosWeb/ServiceDesk/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:284:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/login"],"fullName":"Auth API Integration Tests POST /api/auth/login should reset failed attempts counter on successful login","status":"failed","title":"should reset failed attempts counter on successful login","duration":1.2136470000000372,"failureMessages":["SqliteError: no such column: failed_login_attempts\n    at Database.prepare (/home/nic20/ProjetosWeb/ServiceDesk/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:311:10\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","GET /api/auth/verify"],"fullName":"Auth API Integration Tests GET /api/auth/verify should verify valid token","status":"failed","title":"should verify valid token","duration":14.414440000000013,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:342:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","GET /api/auth/verify"],"fullName":"Auth API Integration Tests GET /api/auth/verify should reject invalid token","status":"failed","title":"should reject invalid token","duration":5.6252770000000965,"failureMessages":["AssertionError: expected undefined to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:360:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","GET /api/auth/profile"],"fullName":"Auth API Integration Tests GET /api/auth/profile should get authenticated user profile","status":"failed","title":"should get authenticated user profile","duration":21.998905000000377,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:374:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","GET /api/auth/profile"],"fullName":"Auth API Integration Tests GET /api/auth/profile should not expose password hash in profile","status":"failed","title":"should not expose password hash in profile","duration":2.4185160000001815,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'password_hash')\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:389:24\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","PUT /api/auth/profile"],"fullName":"Auth API Integration Tests PUT /api/auth/profile should update user profile","status":"failed","title":"should update user profile","duration":3.0282290000000103,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:408:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","PUT /api/auth/profile"],"fullName":"Auth API Integration Tests PUT /api/auth/profile should sanitize profile updates to prevent XSS","status":"failed","title":"should sanitize profile updates to prevent XSS","duration":3.865436999999929,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:431:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/logout"],"fullName":"Auth API Integration Tests POST /api/auth/logout should logout successfully","status":"failed","title":"should logout successfully","duration":2.238546000000042,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:451:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","POST /api/auth/logout"],"fullName":"Auth API Integration Tests POST /api/auth/logout should clear authentication cookies on logout","status":"failed","title":"should clear authentication cookies on logout","duration":1.6874050000001262,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts:463:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","Rate Limiting"],"fullName":"Auth API Integration Tests Rate Limiting should rate limit excessive login attempts","status":"passed","title":"should rate limit excessive login attempts","duration":3.416179999999713,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth API Integration Tests","Rate Limiting"],"fullName":"Auth API Integration Tests Rate Limiting should rate limit excessive registration attempts","status":"passed","title":"should rate limit excessive registration attempts","duration":2.157952000000023,"failureMessages":[],"meta":{}}],"startTime":1771180419189,"endTime":1771180419313.158,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/integration/auth.test.ts"},{"assertionResults":[],"startTime":1771180416391,"endTime":1771180416391,"status":"failed","message":"[vitest] No \"createTransport\" export is defined on the \"nodemailer\" mock. Did you forget to return it from \"vi.mock\"?\nIf you need to partially mock a module, you can use \"importOriginal\" helper inside:\n","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/integration/email-automation.test.ts"},{"assertionResults":[{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles should list all published articles","status":"passed","title":"should list all published articles","duration":5.593808999999965,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles should not show draft articles to non-authors","status":"passed","title":"should not show draft articles to non-authors","duration":2.965672999999697,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles should filter articles by category","status":"passed","title":"should filter articles by category","duration":5.025138999999854,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles should search articles by keyword","status":"failed","title":"should search articles by keyword","duration":10.565016000000014,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:138:21\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles should paginate results","status":"failed","title":"should paginate results","duration":6.9488309999997,"failureMessages":["SqliteError: UNIQUE constraint failed: kb_articles.tenant_id, kb_articles.slug\n    at Module.createTestArticle (/home/nic20/ProjetosWeb/ServiceDesk/tests/integration/setup.ts:274:6)\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:144:9\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles should show featured articles first","status":"failed","title":"should show featured articles first","duration":1.475137999999788,"failureMessages":["SqliteError: UNIQUE constraint failed: kb_articles.tenant_id, kb_articles.slug\n    at Module.createTestArticle (/home/nic20/ProjetosWeb/ServiceDesk/tests/integration/setup.ts:274:6)\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:175:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles should enforce tenant isolation","status":"passed","title":"should enforce tenant isolation","duration":2.2786999999998443,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","POST /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests POST /api/knowledge/articles should create new article (admin/agent only)","status":"failed","title":"should create new article (admin/agent only)","duration":14.941886000000068,"failureMessages":["AssertionError: expected 403 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:234:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","POST /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests POST /api/knowledge/articles should generate unique slug from title","status":"failed","title":"should generate unique slug from title","duration":23.874017000000094,"failureMessages":["AssertionError: expected 403 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:272:32\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","POST /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests POST /api/knowledge/articles should create article with tags","status":"failed","title":"should create article with tags","duration":3.913612999999714,"failureMessages":["AssertionError: expected 403 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:293:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","POST /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests POST /api/knowledge/articles should prevent regular users from creating articles","status":"passed","title":"should prevent regular users from creating articles","duration":2.4666120000001683,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","POST /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests POST /api/knowledge/articles should validate required fields","status":"failed","title":"should validate required fields","duration":8.59124299999985,"failureMessages":["AssertionError: expected 403 to be 400 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:334:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","POST /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests POST /api/knowledge/articles should set published_at when status is published","status":"failed","title":"should set published_at when status is published","duration":7.993909999999687,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'published_at')\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:356:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","POST /api/knowledge/articles"],"fullName":"Knowledge Base API Integration Tests POST /api/knowledge/articles should not set published_at for draft articles","status":"failed","title":"should not set published_at for draft articles","duration":12.749135999999908,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'published_at')\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:377:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles/[slug]"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles/[slug] should get article by slug","status":"failed","title":"should get article by slug","duration":10.632854999999836,"failureMessages":["AssertionError: expected 404 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:401:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles/[slug]"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles/[slug] should increment view count on each view","status":"failed","title":"should increment view count on each view","duration":11.623729999999796,"failureMessages":["AssertionError: expected 0 to be greater than 0\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:432:37\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles/[slug]"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles/[slug] should return 404 for non-existent article","status":"passed","title":"should return 404 for non-existent article","duration":1.1183740000001308,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/articles/[slug]"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/articles/[slug] should include author information","status":"failed","title":"should include author information","duration":6.007337000000007,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'author_name')\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:467:27\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/categories"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/categories should list all active categories","status":"passed","title":"should list all active categories","duration":1.4695019999999204,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/categories"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/categories should include article count per category","status":"passed","title":"should include article count per category","duration":0.7220330000000104,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/categories"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/categories should enforce tenant isolation","status":"failed","title":"should enforce tenant isolation","duration":1.016446999999971,"failureMessages":["AssertionError: expected undefined to be 1 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:511:38\n    at Array.forEach (<anonymous>)\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:510:25\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/search"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/search should search articles by query","status":"failed","title":"should search articles by query","duration":31.81267200000002,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:533:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/search"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/search should search in title, content, and keywords","status":"failed","title":"should search in title, content, and keywords","duration":11.111971999999696,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:560:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/search"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/search should return empty results for non-matching query","status":"failed","title":"should return empty results for non-matching query","duration":6.976474999999937,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:573:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","GET /api/knowledge/search"],"fullName":"Knowledge Base API Integration Tests GET /api/knowledge/search should only search published articles","status":"failed","title":"should only search published articles","duration":6.188505999999961,"failureMessages":["AssertionError: expected undefined to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts:595:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","Article Feedback"],"fullName":"Knowledge Base API Integration Tests Article Feedback should track helpful votes","status":"passed","title":"should track helpful votes","duration":0.863854999999603,"failureMessages":[],"meta":{}},{"ancestorTitles":["Knowledge Base API Integration Tests","Article Feedback"],"fullName":"Knowledge Base API Integration Tests Article Feedback should track not helpful votes","status":"passed","title":"should track not helpful votes","duration":0.3651169999998274,"failureMessages":[],"meta":{}}],"startTime":1771180419624,"endTime":1771180419825.3652,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/integration/knowledge.test.ts"},{"assertionResults":[{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/create"],"fullName":"Tickets API Integration Tests POST /api/tickets/create should create a new ticket successfully","status":"failed","title":"should create a new ticket successfully","duration":38.09796000000006,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:39:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/create"],"fullName":"Tickets API Integration Tests POST /api/tickets/create should require authentication to create ticket","status":"passed","title":"should require authentication to create ticket","duration":9.559925999999905,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/create"],"fullName":"Tickets API Integration Tests POST /api/tickets/create should validate required fields","status":"passed","title":"should validate required fields","duration":6.140768000000207,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/create"],"fullName":"Tickets API Integration Tests POST /api/tickets/create should enforce tenant isolation","status":"failed","title":"should enforce tenant isolation","duration":8.162791000000198,"failureMessages":["AssertionError: expected 500 to be 404 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:100:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/create"],"fullName":"Tickets API Integration Tests POST /api/tickets/create should create audit log entry on ticket creation","status":"failed","title":"should create audit log entry on ticket creation","duration":8.728296999999657,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:126:24\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/create"],"fullName":"Tickets API Integration Tests POST /api/tickets/create should auto-assign ticket based on workflow","status":"failed","title":"should auto-assign ticket based on workflow","duration":5.713842000000113,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:145:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets"],"fullName":"Tickets API Integration Tests GET /api/tickets should list all tickets for authenticated user","status":"failed","title":"should list all tickets for authenticated user","duration":4.383858000000146,"failureMessages":["AssertionError: expected 0 to be greater than or equal to 2\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:175:35\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets"],"fullName":"Tickets API Integration Tests GET /api/tickets should filter tickets by status","status":"passed","title":"should filter tickets by status","duration":2.165461999999934,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets"],"fullName":"Tickets API Integration Tests GET /api/tickets should paginate results","status":"passed","title":"should paginate results","duration":2.855528999999933,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets"],"fullName":"Tickets API Integration Tests GET /api/tickets should enforce tenant isolation","status":"passed","title":"should enforce tenant isolation","duration":2.130424999999832,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets/[id]"],"fullName":"Tickets API Integration Tests GET /api/tickets/[id] should get ticket by id","status":"failed","title":"should get ticket by id","duration":2.8289880000002086,"failureMessages":["AssertionError: expected 404 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:271:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets/[id]"],"fullName":"Tickets API Integration Tests GET /api/tickets/[id] should return 404 for non-existent ticket","status":"passed","title":"should return 404 for non-existent ticket","duration":2.023610999999619,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets/[id]"],"fullName":"Tickets API Integration Tests GET /api/tickets/[id] should include related data (category, priority, status)","status":"failed","title":"should include related data (category, priority, status)","duration":2.268289999999979,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'category_name')\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:309:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","PUT /api/tickets/[id]"],"fullName":"Tickets API Integration Tests PUT /api/tickets/[id] should update ticket","status":"failed","title":"should update ticket","duration":7.200999000000138,"failureMessages":["AssertionError: expected 'Original Title' to be 'Updated Title' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:345:28\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","PUT /api/tickets/[id]"],"fullName":"Tickets API Integration Tests PUT /api/tickets/[id] should create audit log on ticket update","status":"failed","title":"should create audit log on ticket update","duration":3.5429579999999987,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:377:24\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","PUT /api/tickets/[id]"],"fullName":"Tickets API Integration Tests PUT /api/tickets/[id] should enforce permissions - users can only update their own tickets","status":"passed","title":"should enforce permissions - users can only update their own tickets","duration":3.1305209999995895,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/[id]/comments"],"fullName":"Tickets API Integration Tests POST /api/tickets/[id]/comments should add comment to ticket","status":"failed","title":"should add comment to ticket","duration":4.72571199999993,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:478:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","POST /api/tickets/[id]/comments"],"fullName":"Tickets API Integration Tests POST /api/tickets/[id]/comments should prevent empty comments","status":"failed","title":"should prevent empty comments","duration":4.4944799999998395,"failureMessages":["AssertionError: expected 401 to be 400 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:507:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets/[id]/comments"],"fullName":"Tickets API Integration Tests GET /api/tickets/[id]/comments should get all comments for a ticket","status":"failed","title":"should get all comments for a ticket","duration":3.2115410000001248,"failureMessages":["AssertionError: expected 401 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:537:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","GET /api/tickets/[id]/comments"],"fullName":"Tickets API Integration Tests GET /api/tickets/[id]/comments should include user information in comments","status":"failed","title":"should include user information in comments","duration":3.0694980000002943,"failureMessages":["TypeError: Cannot read properties of undefined (reading '0')\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:564:19\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tickets API Integration Tests","SLA Tracking"],"fullName":"Tickets API Integration Tests SLA Tracking should track SLA for new tickets","status":"failed","title":"should track SLA for new tickets","duration":1.189321000000291,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts:582:27\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}}],"startTime":1771180419937,"endTime":1771180420064.1892,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/integration/tickets.test.ts"},{"assertionResults":[{"ancestorTitles":["Rate Limiting System","applyRateLimit"],"fullName":"Rate Limiting System applyRateLimit should allow requests within limit","status":"passed","title":"should allow requests within limit","duration":64.34111699999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting System","applyRateLimit"],"fullName":"Rate Limiting System applyRateLimit should block requests when limit exceeded","status":"passed","title":"should block requests when limit exceeded","duration":41.94898999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting System","applyRateLimit"],"fullName":"Rate Limiting System applyRateLimit should reset limit after window expires","status":"skipped","title":"should reset limit after window expires","failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting System","applyRateLimit"],"fullName":"Rate Limiting System applyRateLimit should handle different IPs independently","status":"passed","title":"should handle different IPs independently","duration":64.98527800000011,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting System","resetRateLimit"],"fullName":"Rate Limiting System resetRateLimit should reset rate limit for specific key","status":"passed","title":"should reset rate limit for specific key","duration":42.138337999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting System","Rate limit configurations"],"fullName":"Rate Limiting System Rate limit configurations should have correct default configurations","status":"passed","title":"should have correct default configurations","duration":25.150507999999945,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting System","Error handling"],"fullName":"Rate Limiting System Error handling should handle errors gracefully","status":"passed","title":"should handle errors gracefully","duration":29.37815999999998,"failureMessages":[],"meta":{}}],"startTime":1771180418987,"endTime":1771180419255.3782,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/lib/rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["Security Headers Tests","HTTP Strict Transport Security (HSTS)"],"fullName":"Security Headers Tests HTTP Strict Transport Security (HSTS) should have HSTS header with proper configuration","status":"passed","title":"should have HSTS header with proper configuration","duration":3.8149550000000545,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","HTTP Strict Transport Security (HSTS)"],"fullName":"Security Headers Tests HTTP Strict Transport Security (HSTS) should have correct HSTS max-age value","status":"passed","title":"should have correct HSTS max-age value","duration":0.6131039999999075,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","X-Frame-Options"],"fullName":"Security Headers Tests X-Frame-Options should have X-Frame-Options header to prevent clickjacking","status":"passed","title":"should have X-Frame-Options header to prevent clickjacking","duration":0.8952090000000226,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","X-Frame-Options"],"fullName":"Security Headers Tests X-Frame-Options should default to DENY for maximum security","status":"passed","title":"should default to DENY for maximum security","duration":0.3180240000000367,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","X-Content-Type-Options"],"fullName":"Security Headers Tests X-Content-Type-Options should have X-Content-Type-Options: nosniff","status":"passed","title":"should have X-Content-Type-Options: nosniff","duration":0.34552499999995234,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","X-Content-Type-Options"],"fullName":"Security Headers Tests X-Content-Type-Options should be enabled in default config","status":"passed","title":"should be enabled in default config","duration":0.2398999999999205,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Content-Security-Policy (CSP)"],"fullName":"Security Headers Tests Content-Security-Policy (CSP) should have Content-Security-Policy header","status":"passed","title":"should have Content-Security-Policy header","duration":0.21756600000003345,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Content-Security-Policy (CSP)"],"fullName":"Security Headers Tests Content-Security-Policy (CSP) should have restrictive default-src directive","status":"passed","title":"should have restrictive default-src directive","duration":0.41028800000003685,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Content-Security-Policy (CSP)"],"fullName":"Security Headers Tests Content-Security-Policy (CSP) should restrict script sources","status":"passed","title":"should restrict script sources","duration":0.38983299999995324,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Content-Security-Policy (CSP)"],"fullName":"Security Headers Tests Content-Security-Policy (CSP) should restrict frame sources to prevent clickjacking","status":"passed","title":"should restrict frame sources to prevent clickjacking","duration":0.4392970000000105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Content-Security-Policy (CSP)"],"fullName":"Security Headers Tests Content-Security-Policy (CSP) should have object-src set to none","status":"passed","title":"should have object-src set to none","duration":0.8490269999999782,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Content-Security-Policy (CSP)"],"fullName":"Security Headers Tests Content-Security-Policy (CSP) should have base-uri restricted","status":"passed","title":"should have base-uri restricted","duration":0.343003000000067,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Referrer-Policy"],"fullName":"Security Headers Tests Referrer-Policy should have Referrer-Policy header","status":"passed","title":"should have Referrer-Policy header","duration":0.2700760000000173,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Referrer-Policy"],"fullName":"Security Headers Tests Referrer-Policy should have restrictive referrer policy","status":"passed","title":"should have restrictive referrer policy","duration":0.5008669999999711,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Referrer-Policy"],"fullName":"Security Headers Tests Referrer-Policy should use strict-origin-when-cross-origin by default","status":"passed","title":"should use strict-origin-when-cross-origin by default","duration":0.22138300000005984,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Permissions-Policy"],"fullName":"Security Headers Tests Permissions-Policy should have Permissions-Policy header","status":"passed","title":"should have Permissions-Policy header","duration":0.2657639999999901,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Permissions-Policy"],"fullName":"Security Headers Tests Permissions-Policy should disable dangerous features","status":"passed","title":"should disable dangerous features","duration":0.38378099999999904,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Permissions-Policy"],"fullName":"Security Headers Tests Permissions-Policy should restrict all configured features","status":"passed","title":"should restrict all configured features","duration":0.45923800000002757,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","X-XSS-Protection"],"fullName":"Security Headers Tests X-XSS-Protection should have X-XSS-Protection header","status":"passed","title":"should have X-XSS-Protection header","duration":0.29885300000000825,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","X-XSS-Protection"],"fullName":"Security Headers Tests X-XSS-Protection should be enabled in default config","status":"passed","title":"should be enabled in default config","duration":0.132577000000083,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","X-Powered-By Header"],"fullName":"Security Headers Tests X-Powered-By Header should not have X-Powered-By header","status":"passed","title":"should not have X-Powered-By header","duration":0.18919099999993705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Server Header"],"fullName":"Security Headers Tests Server Header should not expose server version","status":"passed","title":"should not expose server version","duration":0.09550000000001546,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Comprehensive Header Validation"],"fullName":"Security Headers Tests Comprehensive Header Validation should have all critical security headers","status":"passed","title":"should have all critical security headers","duration":0.5669889999999214,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Comprehensive Header Validation"],"fullName":"Security Headers Tests Comprehensive Header Validation should validate required headers correctly","status":"passed","title":"should validate required headers correctly","duration":0.4581980000000385,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Custom Configuration"],"fullName":"Security Headers Tests Custom Configuration should allow custom CSP directives","status":"passed","title":"should allow custom CSP directives","duration":0.2463319999999385,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Custom Configuration"],"fullName":"Security Headers Tests Custom Configuration should allow custom HSTS settings","status":"passed","title":"should allow custom HSTS settings","duration":0.09473900000000413,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Development vs Production Settings"],"fullName":"Security Headers Tests Development vs Production Settings should have appropriate settings for the environment","status":"passed","title":"should have appropriate settings for the environment","duration":0.09942399999999907,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","CSP Directive Formatting"],"fullName":"Security Headers Tests CSP Directive Formatting should properly format CSP directives","status":"passed","title":"should properly format CSP directives","duration":0.3786800000000312,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Headers Tests","Permissions Policy Formatting"],"fullName":"Security Headers Tests Permissions Policy Formatting should properly format permissions policy","status":"passed","title":"should properly format permissions policy","duration":0.14744400000006408,"failureMessages":[],"meta":{}}],"startTime":1771180420324,"endTime":1771180420339.3787,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/headers.test.ts"},{"assertionResults":[{"ancestorTitles":["Input Validation Tests","Email Validation"],"fullName":"Input Validation Tests Email Validation should reject invalid email formats","status":"passed","title":"should reject invalid email formats","duration":7.624641999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Email Validation"],"fullName":"Input Validation Tests Email Validation should accept valid email formats","status":"passed","title":"should accept valid email formats","duration":0.35131299999989096,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Password Validation"],"fullName":"Input Validation Tests Password Validation should enforce minimum password length","status":"passed","title":"should enforce minimum password length","duration":0.9877570000001015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Password Validation"],"fullName":"Input Validation Tests Password Validation should require password complexity","status":"passed","title":"should require password complexity","duration":0.4561679999999342,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Password Validation"],"fullName":"Input Validation Tests Password Validation should accept strong passwords","status":"passed","title":"should accept strong passwords","duration":0.26795399999991787,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","String Length Validation"],"fullName":"Input Validation Tests String Length Validation should enforce maximum field lengths for tickets","status":"passed","title":"should enforce maximum field lengths for tickets","duration":1.1407339999998385,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","String Length Validation"],"fullName":"Input Validation Tests String Length Validation should handle empty required fields","status":"passed","title":"should handle empty required fields","duration":0.3205920000000333,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","String Length Validation"],"fullName":"Input Validation Tests String Length Validation should enforce minimum lengths","status":"passed","title":"should enforce minimum lengths","duration":0.19210100000009334,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Type Validation"],"fullName":"Input Validation Tests Type Validation should reject wrong data types","status":"passed","title":"should reject wrong data types","duration":0.46935899999994035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Type Validation"],"fullName":"Input Validation Tests Type Validation should validate number ranges","status":"passed","title":"should validate number ranges","duration":0.1997670000000653,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","URL Validation"],"fullName":"Input Validation Tests URL Validation should validate URL formats","status":"passed","title":"should validate URL formats","duration":1.1963819999998577,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","URL Validation"],"fullName":"Input Validation Tests URL Validation should prevent SSRF via URL fields","status":"passed","title":"should prevent SSRF via URL fields","duration":0.7386059999998906,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","File Upload Validation"],"fullName":"Input Validation Tests File Upload Validation should validate file extensions","status":"passed","title":"should validate file extensions","duration":0.8326849999998558,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","File Upload Validation"],"fullName":"Input Validation Tests File Upload Validation should validate file size","status":"passed","title":"should validate file size","duration":0.41967399999998634,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","File Upload Validation"],"fullName":"Input Validation Tests File Upload Validation should validate MIME types","status":"passed","title":"should validate MIME types","duration":0.24764200000004166,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","XSS Prevention - Sanitization"],"fullName":"Input Validation Tests XSS Prevention - Sanitization should sanitize XSS payloads in HTML","status":"passed","title":"should sanitize XSS payloads in HTML","duration":5.154563000000053,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","XSS Prevention - Sanitization"],"fullName":"Input Validation Tests XSS Prevention - Sanitization should sanitize user input strictly","status":"passed","title":"should sanitize user input strictly","duration":1.674011000000064,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","XSS Prevention - Sanitization"],"fullName":"Input Validation Tests XSS Prevention - Sanitization should allow safe HTML tags in markdown","status":"passed","title":"should allow safe HTML tags in markdown","duration":1.1771330000001399,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","SQL Injection Prevention"],"fullName":"Input Validation Tests SQL Injection Prevention should reject SQL injection patterns in text fields","status":"passed","title":"should reject SQL injection patterns in text fields","duration":0.30529599999999846,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Path Traversal Prevention"],"fullName":"Input Validation Tests Path Traversal Prevention should prevent path traversal in filenames","status":"passed","title":"should prevent path traversal in filenames","duration":0.46214899999995396,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Command Injection Prevention"],"fullName":"Input Validation Tests Command Injection Prevention should reject command injection patterns","status":"passed","title":"should reject command injection patterns","duration":0.49350000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Prototype Pollution Prevention"],"fullName":"Input Validation Tests Prototype Pollution Prevention should prevent prototype pollution attacks","status":"passed","title":"should prevent prototype pollution attacks","duration":0.7522840000001452,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","NoSQL Injection Prevention"],"fullName":"Input Validation Tests NoSQL Injection Prevention should prevent NoSQL injection in fields","status":"passed","title":"should prevent NoSQL injection in fields","duration":0.5091440000001057,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Header Injection Prevention"],"fullName":"Input Validation Tests Header Injection Prevention should detect CRLF in header values","status":"passed","title":"should detect CRLF in header values","duration":0.10388600000010229,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Unicode and Special Characters"],"fullName":"Input Validation Tests Unicode and Special Characters should handle Unicode characters safely","status":"passed","title":"should handle Unicode characters safely","duration":0.2811189999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Unicode and Special Characters"],"fullName":"Input Validation Tests Unicode and Special Characters should handle control characters","status":"passed","title":"should handle control characters","duration":0.15581399999996393,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Knowledge Base Validation"],"fullName":"Input Validation Tests Knowledge Base Validation should validate article content length","status":"passed","title":"should validate article content length","duration":0.6615119999999024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Knowledge Base Validation"],"fullName":"Input Validation Tests Knowledge Base Validation should validate article tags","status":"passed","title":"should validate article tags","duration":0.2114050000000134,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Array Length Validation"],"fullName":"Input Validation Tests Array Length Validation should limit array sizes","status":"passed","title":"should limit array sizes","duration":0.2235089999999218,"failureMessages":[],"meta":{}},{"ancestorTitles":["Input Validation Tests","Array Length Validation"],"fullName":"Input Validation Tests Array Length Validation should accept valid array sizes","status":"passed","title":"should accept valid array sizes","duration":0.10318299999994451,"failureMessages":[],"meta":{}}],"startTime":1771180419281,"endTime":1771180419310.2234,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/input-validation.test.ts"},{"assertionResults":[{"ancestorTitles":["JWT Security Tests","Token Generation"],"fullName":"JWT Security Tests Token Generation should generate valid access tokens","status":"passed","title":"should generate valid access tokens","duration":3.1869349999999486,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Generation"],"fullName":"JWT Security Tests Token Generation should generate valid refresh tokens","status":"passed","title":"should generate valid refresh tokens","duration":1.4690530000000308,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Generation"],"fullName":"JWT Security Tests Token Generation should include required claims in access token","status":"passed","title":"should include required claims in access token","duration":1.4478370000001632,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Generation"],"fullName":"JWT Security Tests Token Generation should not include sensitive data in token","status":"passed","title":"should not include sensitive data in token","duration":0.7493190000000141,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Verification"],"fullName":"JWT Security Tests Token Verification should verify valid access tokens","status":"passed","title":"should verify valid access tokens","duration":3.016740000000027,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Verification"],"fullName":"JWT Security Tests Token Verification should reject tokens with invalid signature","status":"passed","title":"should reject tokens with invalid signature","duration":1.314002999999957,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Verification"],"fullName":"JWT Security Tests Token Verification should reject tokens with modified payload","status":"passed","title":"should reject tokens with modified payload","duration":1.184355000000096,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Verification"],"fullName":"JWT Security Tests Token Verification should reject tokens with no signature","status":"passed","title":"should reject tokens with no signature","duration":0.6581069999999727,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Verification"],"fullName":"JWT Security Tests Token Verification should reject malformed tokens","status":"passed","title":"should reject malformed tokens","duration":0.9563020000000506,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","None Algorithm Attack"],"fullName":"JWT Security Tests None Algorithm Attack should reject tokens with \"none\" algorithm","status":"passed","title":"should reject tokens with \"none\" algorithm","duration":0.6609080000000631,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","None Algorithm Attack"],"fullName":"JWT Security Tests None Algorithm Attack should reject tokens with \"None\" algorithm (case variation)","status":"passed","title":"should reject tokens with \"None\" algorithm (case variation)","duration":0.4620989999998528,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","None Algorithm Attack"],"fullName":"JWT Security Tests None Algorithm Attack should reject tokens with \"NONE\" algorithm (uppercase)","status":"passed","title":"should reject tokens with \"NONE\" algorithm (uppercase)","duration":0.34107799999992494,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Expiration"],"fullName":"JWT Security Tests Token Expiration should have expiration claim in tokens","status":"passed","title":"should have expiration claim in tokens","duration":0.7627210000000559,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Expiration"],"fullName":"JWT Security Tests Token Expiration should have reasonable expiration time for access tokens","status":"passed","title":"should have reasonable expiration time for access tokens","duration":0.8294020000000728,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Expiration"],"fullName":"JWT Security Tests Token Expiration should have longer expiration for refresh tokens","status":"passed","title":"should have longer expiration for refresh tokens","duration":0.9446980000000167,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Expiration"],"fullName":"JWT Security Tests Token Expiration should reject expired tokens","status":"passed","title":"should reject expired tokens","duration":0.5748880000001009,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Algorithm Validation"],"fullName":"JWT Security Tests Algorithm Validation should use HS256 algorithm","status":"passed","title":"should use HS256 algorithm","duration":0.6226859999999306,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Algorithm Validation"],"fullName":"JWT Security Tests Algorithm Validation should validate token type","status":"passed","title":"should validate token type","duration":0.6568079999999554,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Device Fingerprinting"],"fullName":"JWT Security Tests Device Fingerprinting should generate consistent device fingerprints","status":"passed","title":"should generate consistent device fingerprints","duration":0.914551000000074,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Device Fingerprinting"],"fullName":"JWT Security Tests Device Fingerprinting should generate different fingerprints for different devices","status":"passed","title":"should generate different fingerprints for different devices","duration":1.2240170000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Device Fingerprinting"],"fullName":"JWT Security Tests Device Fingerprinting should reject tokens with mismatched device fingerprint","status":"passed","title":"should reject tokens with mismatched device fingerprint","duration":10.010305000000017,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Structure Validation"],"fullName":"JWT Security Tests Token Structure Validation should have three parts separated by dots","status":"passed","title":"should have three parts separated by dots","duration":1.3513190000001032,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Structure Validation"],"fullName":"JWT Security Tests Token Structure Validation should have valid base64url encoding","status":"passed","title":"should have valid base64url encoding","duration":0.7466859999999542,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","JWT Claims Validation"],"fullName":"JWT Security Tests JWT Claims Validation should validate required claims","status":"passed","title":"should validate required claims","duration":0.7096540000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","JWT Claims Validation"],"fullName":"JWT Security Tests JWT Claims Validation should include user identity in token","status":"passed","title":"should include user identity in token","duration":0.5165959999999359,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","JWT Claims Validation"],"fullName":"JWT Security Tests JWT Claims Validation should validate issuer claim","status":"passed","title":"should validate issuer claim","duration":0.38692200000014054,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","JWT Claims Validation"],"fullName":"JWT Security Tests JWT Claims Validation should validate audience claim","status":"passed","title":"should validate audience claim","duration":0.4559039999999186,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Type Differentiation"],"fullName":"JWT Security Tests Token Type Differentiation should differentiate between access and refresh tokens","status":"passed","title":"should differentiate between access and refresh tokens","duration":1.035804999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Token Type Differentiation"],"fullName":"JWT Security Tests Token Type Differentiation should reject refresh token as access token","status":"passed","title":"should reject refresh token as access token","duration":0.9867119999998977,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Header Validation"],"fullName":"JWT Security Tests Header Validation should have JWT type in header","status":"passed","title":"should have JWT type in header","duration":1.257520999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Header Validation"],"fullName":"JWT Security Tests Header Validation should reject tokens with invalid type header","status":"passed","title":"should reject tokens with invalid type header","duration":0.5504569999998239,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Security Best Practices"],"fullName":"JWT Security Tests Security Best Practices should use short expiration for access tokens","status":"passed","title":"should use short expiration for access tokens","duration":0.5916939999999613,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Security Best Practices"],"fullName":"JWT Security Tests Security Best Practices should include issued at timestamp","status":"passed","title":"should include issued at timestamp","duration":1.0666220000000521,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Security Tests","Security Best Practices"],"fullName":"JWT Security Tests Security Best Practices should include subject claim","status":"passed","title":"should include subject claim","duration":1.7013160000001335,"failureMessages":[],"meta":{}}],"startTime":1771180419441,"endTime":1771180419485.7014,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/jwt.test.ts"},{"assertionResults":[{"ancestorTitles":["Rate Limiting Tests","Basic Rate Limiting"],"fullName":"Rate Limiting Tests Basic Rate Limiting should allow requests within limit","status":"passed","title":"should allow requests within limit","duration":2.925061000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Basic Rate Limiting"],"fullName":"Rate Limiting Tests Basic Rate Limiting should block requests exceeding limit","status":"passed","title":"should block requests exceeding limit","duration":2.0182529999999588,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Basic Rate Limiting"],"fullName":"Rate Limiting Tests Basic Rate Limiting should track remaining requests correctly","status":"passed","title":"should track remaining requests correctly","duration":6.288148999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","IP-Based Rate Limiting"],"fullName":"Rate Limiting Tests IP-Based Rate Limiting should rate limit per IP address","status":"passed","title":"should rate limit per IP address","duration":1.680545000000052,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","IP-Based Rate Limiting"],"fullName":"Rate Limiting Tests IP-Based Rate Limiting should not allow bypassing with different User-Agent","status":"passed","title":"should not allow bypassing with different User-Agent","duration":6.73594700000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Endpoint-Specific Limits"],"fullName":"Rate Limiting Tests Endpoint-Specific Limits should have different limits for login endpoint","status":"passed","title":"should have different limits for login endpoint","duration":0.476970999999935,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Endpoint-Specific Limits"],"fullName":"Rate Limiting Tests Endpoint-Specific Limits should have different limits for different endpoints","status":"passed","title":"should have different limits for different endpoints","duration":0.73170099999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Check Rate Limit (Non-Incrementing)"],"fullName":"Rate Limiting Tests Check Rate Limit (Non-Incrementing) should check limit without incrementing counter","status":"passed","title":"should check limit without incrementing counter","duration":0.7267320000000836,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Reset Rate Limit"],"fullName":"Rate Limiting Tests Reset Rate Limit should reset rate limit for specific endpoint","status":"passed","title":"should reset rate limit for specific endpoint","duration":4.99833799999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Rate Limit Statistics"],"fullName":"Rate Limiting Tests Rate Limit Statistics should return rate limit statistics","status":"passed","title":"should return rate limit statistics","duration":0.903658000000064,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Rate Limit Window Reset"],"fullName":"Rate Limiting Tests Rate Limit Window Reset should include reset time in response","status":"passed","title":"should include reset time in response","duration":0.7227320000000645,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Rate Limit Window Reset"],"fullName":"Rate Limiting Tests Rate Limit Window Reset should maintain same reset time for subsequent requests","status":"passed","title":"should maintain same reset time for subsequent requests","duration":0.6833010000000286,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Configuration Types"],"fullName":"Rate Limiting Tests Configuration Types should have auth configuration","status":"passed","title":"should have auth configuration","duration":0.40050299999995786,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Configuration Types"],"fullName":"Rate Limiting Tests Configuration Types should have API configuration","status":"passed","title":"should have API configuration","duration":0.38195200000006935,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Configuration Types"],"fullName":"Rate Limiting Tests Configuration Types should have password reset configuration","status":"passed","title":"should have password reset configuration","duration":0.307062999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Configuration Types"],"fullName":"Rate Limiting Tests Configuration Types should have upload configuration","status":"passed","title":"should have upload configuration","duration":0.2605660000000398,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Strict Auth Rate Limiting"],"fullName":"Rate Limiting Tests Strict Auth Rate Limiting should have stricter limits for auth-strict","status":"passed","title":"should have stricter limits for auth-strict","duration":0.2640910000000076,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Custom Key Generator"],"fullName":"Rate Limiting Tests Custom Key Generator should support custom key generators","status":"passed","title":"should support custom key generators","duration":26.989473999999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Error Handling"],"fullName":"Rate Limiting Tests Error Handling should handle errors gracefully","status":"passed","title":"should handle errors gracefully","duration":1.1673260000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting Tests","Concurrent Requests"],"fullName":"Rate Limiting Tests Concurrent Requests should handle concurrent requests correctly","status":"passed","title":"should handle concurrent requests correctly","duration":2.428346000000033,"failureMessages":[],"meta":{}}],"startTime":1771180419921,"endTime":1771180419985.4285,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["Tenant Isolation Security Tests","JWT Token Tenant Extraction"],"fullName":"Tenant Isolation Security Tests JWT Token Tenant Extraction should extract tenant ID from JWT token, not request body","status":"passed","title":"should extract tenant ID from JWT token, not request body","duration":8.550621999999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","JWT Token Tenant Extraction"],"fullName":"Tenant Isolation Security Tests JWT Token Tenant Extraction should extract correct tenant context for user A","status":"passed","title":"should extract correct tenant context for user A","duration":3.346561999999949,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","JWT Token Tenant Extraction"],"fullName":"Tenant Isolation Security Tests JWT Token Tenant Extraction should extract correct tenant context for user B","status":"passed","title":"should extract correct tenant context for user B","duration":1.2983200000001034,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","JWT Token Tenant Extraction"],"fullName":"Tenant Isolation Security Tests JWT Token Tenant Extraction should return null for request without authentication","status":"passed","title":"should return null for request without authentication","duration":0.4542060000001129,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","JWT Token Tenant Extraction"],"fullName":"Tenant Isolation Security Tests JWT Token Tenant Extraction should return null for request with invalid token","status":"passed","title":"should return null for request with invalid token","duration":2.371765000000096,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","AI Endpoints Tenant Isolation"],"fullName":"Tenant Isolation Security Tests AI Endpoints Tenant Isolation should prevent tenant_id injection in /api/ai/detect-duplicates","status":"passed","title":"should prevent tenant_id injection in /api/ai/detect-duplicates","duration":1.4333570000001146,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","AI Endpoints Tenant Isolation"],"fullName":"Tenant Isolation Security Tests AI Endpoints Tenant Isolation should verify all AI endpoints use verifyToken or getUserContextFromRequest","status":"passed","title":"should verify all AI endpoints use verifyToken or getUserContextFromRequest","duration":0.3932279999999082,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Database Query Tenant Isolation"],"fullName":"Tenant Isolation Security Tests Database Query Tenant Isolation should only query tickets from authenticated user tenant","status":"passed","title":"should only query tickets from authenticated user tenant","duration":0.2796640000001389,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Database Query Tenant Isolation"],"fullName":"Tenant Isolation Security Tests Database Query Tenant Isolation should verify tenant_id is from JWT in database queries","status":"passed","title":"should verify tenant_id is from JWT in database queries","duration":2.389881999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Cookie-based Authentication"],"fullName":"Tenant Isolation Security Tests Cookie-based Authentication should extract tenant ID from cookie token","status":"passed","title":"should extract tenant ID from cookie token","duration":1.3287629999999808,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Cookie-based Authentication"],"fullName":"Tenant Isolation Security Tests Cookie-based Authentication should prioritize cookie over header if both present","status":"passed","title":"should prioritize cookie over header if both present","duration":1.0294799999999213,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Security Edge Cases"],"fullName":"Tenant Isolation Security Tests Security Edge Cases should not allow empty tenant_id override","status":"passed","title":"should not allow empty tenant_id override","duration":1.5456490000001395,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Security Edge Cases"],"fullName":"Tenant Isolation Security Tests Security Edge Cases should not allow tenant_id in query parameters","status":"passed","title":"should not allow tenant_id in query parameters","duration":1.526388999999881,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Security Edge Cases"],"fullName":"Tenant Isolation Security Tests Security Edge Cases should not allow tenant switching via header manipulation","status":"passed","title":"should not allow tenant switching via header manipulation","duration":1.166054000000031,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Isolation Security Tests","Audit Trail"],"fullName":"Tenant Isolation Security Tests Audit Trail should log tenant_id from JWT in audit logs","status":"passed","title":"should log tenant_id from JWT in audit logs","duration":1.0102679999999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Tests - API Endpoint Behavior"],"fullName":"Integration Tests - API Endpoint Behavior should document expected behavior for AI endpoints","status":"passed","title":"should document expected behavior for AI endpoints","duration":0.3180449999999837,"failureMessages":[],"meta":{}}],"startTime":1771180420542,"endTime":1771180420571.318,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/tenant-isolation.test.ts"},{"assertionResults":[{"ancestorTitles":["Webhook Signature Validation","Valid Signature"],"fullName":"Webhook Signature Validation Valid Signature should accept valid signature","status":"passed","title":"should accept valid signature","duration":3.0048100000000204,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Valid Signature"],"fullName":"Webhook Signature Validation Valid Signature should accept signature with correct format","status":"passed","title":"should accept signature with correct format","duration":0.678087000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Valid Signature"],"fullName":"Webhook Signature Validation Valid Signature should work with different payload content","status":"passed","title":"should work with different payload content","duration":0.8663510000000088,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Invalid Signature"],"fullName":"Webhook Signature Validation Invalid Signature should reject signature with wrong secret","status":"passed","title":"should reject signature with wrong secret","duration":0.2592290000000048,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Invalid Signature"],"fullName":"Webhook Signature Validation Invalid Signature should reject modified payload","status":"passed","title":"should reject modified payload","duration":0.2077199999999948,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Invalid Signature"],"fullName":"Webhook Signature Validation Invalid Signature should reject malformed signature","status":"passed","title":"should reject malformed signature","duration":0.2791850000000977,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Invalid Signature"],"fullName":"Webhook Signature Validation Invalid Signature should reject signature without sha256 prefix","status":"passed","title":"should reject signature without sha256 prefix","duration":0.2661830000000691,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Invalid Signature"],"fullName":"Webhook Signature Validation Invalid Signature should reject empty signature","status":"passed","title":"should reject empty signature","duration":0.14588000000003376,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Edge Cases"],"fullName":"Webhook Signature Validation Edge Cases should reject empty payload for security","status":"passed","title":"should reject empty payload for security","duration":0.35874300000000403,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Edge Cases"],"fullName":"Webhook Signature Validation Edge Cases should handle very large payloads","status":"passed","title":"should handle very large payloads","duration":0.6570309999999608,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Edge Cases"],"fullName":"Webhook Signature Validation Edge Cases should handle special characters in secret","status":"passed","title":"should handle special characters in secret","duration":0.23159199999997782,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Edge Cases"],"fullName":"Webhook Signature Validation Edge Cases should handle unicode in payload","status":"passed","title":"should handle unicode in payload","duration":0.20261199999993096,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Timing Attack Prevention"],"fullName":"Webhook Signature Validation Timing Attack Prevention should use timing-safe comparison","status":"passed","title":"should use timing-safe comparison","duration":0.39732900000001337,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","WhatsApp Format Compatibility"],"fullName":"Webhook Signature Validation WhatsApp Format Compatibility should validate WhatsApp webhook signature format","status":"passed","title":"should validate WhatsApp webhook signature format","duration":0.4961359999999786,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Security Best Practices"],"fullName":"Webhook Signature Validation Security Best Practices should not leak information on invalid signature","status":"passed","title":"should not leak information on invalid signature","duration":0.22760600000003706,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Security Best Practices"],"fullName":"Webhook Signature Validation Security Best Practices should handle null/undefined gracefully","status":"passed","title":"should handle null/undefined gracefully","duration":0.173204999999939,"failureMessages":[],"meta":{}},{"ancestorTitles":["Webhook Signature Validation","Performance"],"fullName":"Webhook Signature Validation Performance should validate signatures quickly","status":"passed","title":"should validate signatures quickly","duration":17.07488999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Tests","Complete Webhook Flow"],"fullName":"Integration Tests Complete Webhook Flow should simulate full WhatsApp webhook validation","status":"passed","title":"should simulate full WhatsApp webhook validation","duration":0.41853500000001986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Tests","Complete Webhook Flow"],"fullName":"Integration Tests Complete Webhook Flow should reject tampered webhook data","status":"passed","title":"should reject tampered webhook data","duration":0.30304399999999987,"failureMessages":[],"meta":{}}],"startTime":1771180420247,"endTime":1771180420277.303,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/webhook-signature.test.ts"},{"assertionResults":[{"ancestorTitles":["getUserFromRequest"],"fullName":"getUserFromRequest should extract user from request headers","status":"passed","title":"should extract user from request headers","duration":3.424417999999946,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFromRequest"],"fullName":"getUserFromRequest should throw AuthenticationError if headers are missing","status":"passed","title":"should throw AuthenticationError if headers are missing","duration":0.4704910000000382,"failureMessages":[],"meta":{}},{"ancestorTitles":["getUserFromRequest"],"fullName":"getUserFromRequest should throw AuthenticationError if user_id is missing","status":"passed","title":"should throw AuthenticationError if user_id is missing","duration":0.20790899999997237,"failureMessages":[],"meta":{}},{"ancestorTitles":["getTenantFromRequest"],"fullName":"getTenantFromRequest should extract tenant from request headers","status":"passed","title":"should extract tenant from request headers","duration":0.33057499999995343,"failureMessages":[],"meta":{}},{"ancestorTitles":["getTenantFromRequest"],"fullName":"getTenantFromRequest should throw error if tenant headers are missing","status":"passed","title":"should throw error if tenant headers are missing","duration":0.608210999999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["requireAdmin"],"fullName":"requireAdmin should allow admin roles","status":"passed","title":"should allow admin roles","duration":0.33642599999996037,"failureMessages":[],"meta":{}},{"ancestorTitles":["requireAdmin"],"fullName":"requireAdmin should reject non-admin roles","status":"passed","title":"should reject non-admin roles","duration":0.3497570000000678,"failureMessages":[],"meta":{}},{"ancestorTitles":["requireRole"],"fullName":"requireRole should allow users with correct role","status":"passed","title":"should allow users with correct role","duration":0.1504170000000613,"failureMessages":[],"meta":{}},{"ancestorTitles":["requireRole"],"fullName":"requireRole should reject users without correct role","status":"passed","title":"should reject users without correct role","duration":0.3016139999999723,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateTenantAccess"],"fullName":"validateTenantAccess should allow access when organization_ids match","status":"passed","title":"should allow access when organization_ids match","duration":0.19530700000007073,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateTenantAccess"],"fullName":"validateTenantAccess should deny access when organization_ids do not match","status":"passed","title":"should deny access when organization_ids do not match","duration":0.21598400000004858,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseJSONBody"],"fullName":"parseJSONBody should parse and validate JSON body","status":"passed","title":"should parse and validate JSON body","duration":3.4222069999999576,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseJSONBody"],"fullName":"parseJSONBody should throw ValidationError for invalid data","status":"passed","title":"should throw ValidationError for invalid data","duration":1.7165949999998702,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseJSONBody"],"fullName":"parseJSONBody should throw ValidationError for invalid JSON","status":"passed","title":"should throw ValidationError for invalid JSON","duration":0.8099609999999302,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseQueryParams"],"fullName":"parseQueryParams should parse and validate query parameters","status":"passed","title":"should parse and validate query parameters","duration":1.3094539999999597,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseQueryParams"],"fullName":"parseQueryParams should convert numeric strings to numbers","status":"passed","title":"should convert numeric strings to numbers","duration":0.6275519999999233,"failureMessages":[],"meta":{}},{"ancestorTitles":["parseQueryParams"],"fullName":"parseQueryParams should throw ValidationError for invalid params","status":"passed","title":"should throw ValidationError for invalid params","duration":1.0736190000000079,"failureMessages":[],"meta":{}},{"ancestorTitles":["successResponse"],"fullName":"successResponse should create success response","status":"passed","title":"should create success response","duration":0.2662869999999202,"failureMessages":[],"meta":{}},{"ancestorTitles":["successResponse"],"fullName":"successResponse should include optional message and meta","status":"passed","title":"should include optional message and meta","duration":0.14997100000005048,"failureMessages":[],"meta":{}},{"ancestorTitles":["paginatedResponse"],"fullName":"paginatedResponse should create paginated response","status":"passed","title":"should create paginated response","duration":0.28073700000004465,"failureMessages":[],"meta":{}},{"ancestorTitles":["paginatedResponse"],"fullName":"paginatedResponse should calculate total pages correctly","status":"passed","title":"should calculate total pages correctly","duration":0.16769300000009935,"failureMessages":[],"meta":{}},{"ancestorTitles":["getIdFromParams"],"fullName":"getIdFromParams should extract and parse id from params","status":"passed","title":"should extract and parse id from params","duration":0.20247300000005453,"failureMessages":[],"meta":{}},{"ancestorTitles":["getIdFromParams"],"fullName":"getIdFromParams should extract custom param name","status":"passed","title":"should extract custom param name","duration":0.13597100000015416,"failureMessages":[],"meta":{}},{"ancestorTitles":["getIdFromParams"],"fullName":"getIdFromParams should throw ValidationError if params are undefined","status":"passed","title":"should throw ValidationError if params are undefined","duration":0.2477760000001581,"failureMessages":[],"meta":{}},{"ancestorTitles":["getIdFromParams"],"fullName":"getIdFromParams should throw ValidationError if param is missing","status":"passed","title":"should throw ValidationError if param is missing","duration":0.24662899999998444,"failureMessages":[],"meta":{}},{"ancestorTitles":["getIdFromParams"],"fullName":"getIdFromParams should throw ValidationError for invalid id","status":"passed","title":"should throw ValidationError for invalid id","duration":0.3276789999999892,"failureMessages":[],"meta":{}},{"ancestorTitles":["getIdFromParams"],"fullName":"getIdFromParams should throw ValidationError with custom param name","status":"passed","title":"should throw ValidationError with custom param name","duration":0.1510169999999107,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Tests"],"fullName":"Integration Tests should handle complete request flow","status":"passed","title":"should handle complete request flow","duration":1.8730400000001737,"failureMessages":[],"meta":{}},{"ancestorTitles":["Integration Tests"],"fullName":"Integration Tests should handle multi-tenant isolation","status":"passed","title":"should handle multi-tenant isolation","duration":0.18043799999986732,"failureMessages":[],"meta":{}}],"startTime":1771180419183,"endTime":1771180419204.1804,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/api/__tests__/api-helpers.test.ts"},{"assertionResults":[{"ancestorTitles":["API Cache Layer","Cache Operations","get and set"],"fullName":"API Cache Layer Cache Operations get and set should store and retrieve values","status":"passed","title":"should store and retrieve values","duration":4.0103039999999055,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","get and set"],"fullName":"API Cache Layer Cache Operations get and set should return null for non-existent keys","status":"passed","title":"should return null for non-existent keys","duration":0.7731240000000525,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","get and set"],"fullName":"API Cache Layer Cache Operations get and set should overwrite existing values","status":"passed","title":"should overwrite existing values","duration":0.5319150000000263,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","get and set"],"fullName":"API Cache Layer Cache Operations get and set should handle complex objects","status":"passed","title":"should handle complex objects","duration":0.8307099999999537,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","TTL (Time-To-Live)"],"fullName":"API Cache Layer Cache Operations TTL (Time-To-Live) should expire entries after TTL","status":"passed","title":"should expire entries after TTL","duration":151.6281630000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","TTL (Time-To-Live)"],"fullName":"API Cache Layer Cache Operations TTL (Time-To-Live) should use default TTL when not specified","status":"failed","title":"should use default TTL when not specified","duration":9.846538999999893,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ 'default-ttl', 'value', undefined ]\n\nReceived: \n\n  1st spy call:\n\n  [\n    \"default-ttl\",\n    \"value\",\n-   undefined,\n  ]\n\n\nNumber of calls: 1\n\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1686:25)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/api/__tests__/cache.test.ts:78:27\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","TTL (Time-To-Live)"],"fullName":"API Cache Layer Cache Operations TTL (Time-To-Live) should handle very long TTL values","status":"passed","title":"should handle very long TTL values","duration":0.7162969999999405,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","delete"],"fullName":"API Cache Layer Cache Operations delete should delete existing entries","status":"passed","title":"should delete existing entries","duration":0.8547739999999067,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","delete"],"fullName":"API Cache Layer Cache Operations delete should return true when deleting existing key","status":"passed","title":"should return true when deleting existing key","duration":0.8612640000001193,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","delete"],"fullName":"API Cache Layer Cache Operations delete should handle deleting non-existent keys","status":"passed","title":"should handle deleting non-existent keys","duration":0.3653429999999389,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","clear"],"fullName":"API Cache Layer Cache Operations clear should clear all cache entries","status":"passed","title":"should clear all cache entries","duration":0.36285099999986414,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","clear"],"fullName":"API Cache Layer Cache Operations clear should allow new entries after clearing","status":"passed","title":"should allow new entries after clearing","duration":0.33314599999994243,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","has"],"fullName":"API Cache Layer Cache Operations has should return true for existing keys","status":"passed","title":"should return true for existing keys","duration":0.24762200000009216,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","has"],"fullName":"API Cache Layer Cache Operations has should return false for non-existent keys","status":"passed","title":"should return false for non-existent keys","duration":0.9298440000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Operations","has"],"fullName":"API Cache Layer Cache Operations has should return false for expired keys","status":"passed","title":"should return false for expired keys","duration":151.478249,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Key Generation"],"fullName":"API Cache Layer Cache Key Generation should generate consistent keys for same inputs","status":"passed","title":"should generate consistent keys for same inputs","duration":0.34739300000001094,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Key Generation"],"fullName":"API Cache Layer Cache Key Generation should generate different keys for different inputs","status":"passed","title":"should generate different keys for different inputs","duration":0.3463600000000042,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Key Generation"],"fullName":"API Cache Layer Cache Key Generation should handle nested objects consistently","status":"passed","title":"should handle nested objects consistently","duration":0.11708899999985078,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Key Generation"],"fullName":"API Cache Layer Cache Key Generation should handle arrays consistently","status":"passed","title":"should handle arrays consistently","duration":0.08644699999990735,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Invalidation"],"fullName":"API Cache Layer Cache Invalidation should invalidate by exact key","status":"passed","title":"should invalidate by exact key","duration":0.30308899999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Invalidation"],"fullName":"API Cache Layer Cache Invalidation should support tag-based invalidation","status":"passed","title":"should support tag-based invalidation","duration":0.3454239999998663,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Performance"],"fullName":"API Cache Layer Cache Performance should handle rapid sequential sets","status":"passed","title":"should handle rapid sequential sets","duration":0.7319850000001225,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Performance"],"fullName":"API Cache Layer Cache Performance should handle rapid sequential gets","status":"passed","title":"should handle rapid sequential gets","duration":5.5013830000000326,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Performance"],"fullName":"API Cache Layer Cache Performance should handle mixed operations efficiently","status":"passed","title":"should handle mixed operations efficiently","duration":1.6413199999999506,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Edge Cases"],"fullName":"API Cache Layer Cache Edge Cases should handle null values","status":"passed","title":"should handle null values","duration":0.43030700000008437,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Edge Cases"],"fullName":"API Cache Layer Cache Edge Cases should handle undefined values","status":"passed","title":"should handle undefined values","duration":0.3690520000000106,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Edge Cases"],"fullName":"API Cache Layer Cache Edge Cases should handle empty strings","status":"passed","title":"should handle empty strings","duration":0.37979700000005323,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Edge Cases"],"fullName":"API Cache Layer Cache Edge Cases should handle zero as a value","status":"passed","title":"should handle zero as a value","duration":0.8386160000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Edge Cases"],"fullName":"API Cache Layer Cache Edge Cases should handle false as a value","status":"passed","title":"should handle false as a value","duration":0.2637879999999768,"failureMessages":[],"meta":{}},{"ancestorTitles":["API Cache Layer","Cache Edge Cases"],"fullName":"API Cache Layer Cache Edge Cases should handle very large objects","status":"passed","title":"should handle very large objects","duration":1.551875999999993,"failureMessages":[],"meta":{}}],"startTime":1771180417837,"endTime":1771180418175.5518,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/api/__tests__/cache.test.ts"},{"assertionResults":[{"ancestorTitles":["IP Validation","isValidIPv4"],"fullName":"IP Validation isValidIPv4 should validate correct IPv4 addresses","status":"passed","title":"should validate correct IPv4 addresses","duration":1.6311010000000579,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isValidIPv4"],"fullName":"IP Validation isValidIPv4 should reject invalid IPv4 addresses","status":"passed","title":"should reject invalid IPv4 addresses","duration":0.45446800000001986,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isValidIPv6"],"fullName":"IP Validation isValidIPv6 should validate correct IPv6 addresses","status":"passed","title":"should validate correct IPv6 addresses","duration":0.7927839999999833,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isValidIPv6"],"fullName":"IP Validation isValidIPv6 should reject invalid IPv6 addresses","status":"passed","title":"should reject invalid IPv6 addresses","duration":0.22842500000001564,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isValidIP"],"fullName":"IP Validation isValidIP should validate both IPv4 and IPv6","status":"passed","title":"should validate both IPv4 and IPv6","duration":0.26470999999992273,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isValidIP"],"fullName":"IP Validation isValidIP should handle edge cases","status":"passed","title":"should handle edge cases","duration":0.15484600000002047,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isPrivateIP"],"fullName":"IP Validation isPrivateIP should identify private IPv4 addresses","status":"passed","title":"should identify private IPv4 addresses","duration":0.26233300000001236,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isPrivateIP"],"fullName":"IP Validation isPrivateIP should identify public IPv4 addresses","status":"passed","title":"should identify public IPv4 addresses","duration":0.3886410000000069,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isPrivateIP"],"fullName":"IP Validation isPrivateIP should identify private IPv6 addresses","status":"passed","title":"should identify private IPv6 addresses","duration":0.20615800000007312,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isPrivateIP"],"fullName":"IP Validation isPrivateIP should identify public IPv6 addresses","status":"passed","title":"should identify public IPv6 addresses","duration":0.10521299999993516,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","normalizeIP"],"fullName":"IP Validation normalizeIP should normalize IPv6-mapped IPv4 addresses","status":"passed","title":"should normalize IPv6-mapped IPv4 addresses","duration":0.3660290000000259,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","normalizeIP"],"fullName":"IP Validation normalizeIP should not change regular IPs","status":"passed","title":"should not change regular IPs","duration":0.11049500000001444,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isIPInCIDR"],"fullName":"IP Validation isIPInCIDR should correctly check IPv4 CIDR ranges","status":"passed","title":"should correctly check IPv4 CIDR ranges","duration":0.46364600000003975,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isIPInCIDR"],"fullName":"IP Validation isIPInCIDR should handle /32 CIDR (single IP)","status":"passed","title":"should handle /32 CIDR (single IP)","duration":0.2614049999999679,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isIPInCIDR"],"fullName":"IP Validation isIPInCIDR should handle /0 CIDR (all IPs)","status":"passed","title":"should handle /0 CIDR (all IPs)","duration":0.18393700000001445,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isIPInCIDR"],"fullName":"IP Validation isIPInCIDR should reject invalid inputs","status":"passed","title":"should reject invalid inputs","duration":0.18028300000003128,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","isIPInCIDR"],"fullName":"IP Validation isIPInCIDR should handle Cloudflare IP ranges","status":"passed","title":"should handle Cloudflare IP ranges","duration":0.1541700000000219,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","Security Edge Cases"],"fullName":"IP Validation Security Edge Cases should handle malformed IPs safely","status":"passed","title":"should handle malformed IPs safely","duration":0.36942199999998593,"failureMessages":[],"meta":{}},{"ancestorTitles":["IP Validation","Security Edge Cases"],"fullName":"IP Validation Security Edge Cases should not confuse private and public ranges","status":"passed","title":"should not confuse private and public ranges","duration":0.21575499999994463,"failureMessages":[],"meta":{}}],"startTime":1771180420434,"endTime":1771180420444.2158,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/api/__tests__/ip-validation.test.ts"},{"assertionResults":[{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should generate a password of the specified length","status":"passed","title":"should generate a password of the specified length","duration":2.9257149999999683,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should generate a password with at least one lowercase letter","status":"passed","title":"should generate a password with at least one lowercase letter","duration":0.5881860000000643,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should generate a password with at least one uppercase letter","status":"passed","title":"should generate a password with at least one uppercase letter","duration":0.3358329999999796,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should generate a password with at least one number","status":"passed","title":"should generate a password with at least one number","duration":4.794502999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should generate a password with at least one special character when includeSymbols is true","status":"passed","title":"should generate a password with at least one special character when includeSymbols is true","duration":1.1697550000000092,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should not include special characters when includeSymbols is false","status":"passed","title":"should not include special characters when includeSymbols is false","duration":1.5240569999999707,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should generate different passwords each time (crypto randomness)","status":"passed","title":"should generate different passwords each time (crypto randomness)","duration":10.073916999999938,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","generateSecurePassword"],"fullName":"Password Policy Manager generateSecurePassword should handle minimum length requirement","status":"passed","title":"should handle minimum length requirement","duration":0.29140499999994063,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","validatePassword"],"fullName":"Password Policy Manager validatePassword should reject passwords shorter than minimum length","status":"passed","title":"should reject passwords shorter than minimum length","duration":1.952211000000034,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","validatePassword"],"fullName":"Password Policy Manager validatePassword should accept valid passwords","status":"passed","title":"should accept valid passwords","duration":0.7678090000000566,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","validatePassword"],"fullName":"Password Policy Manager validatePassword should reject common passwords","status":"passed","title":"should reject common passwords","duration":0.2652289999999766,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","validatePassword"],"fullName":"Password Policy Manager validatePassword should provide recommendations for weak passwords","status":"passed","title":"should provide recommendations for weak passwords","duration":0.17747700000006716,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","validatePassword"],"fullName":"Password Policy Manager validatePassword should calculate password score","status":"passed","title":"should calculate password score","duration":0.3304090000000315,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","getPasswordStrength"],"fullName":"Password Policy Manager getPasswordStrength should return \"very-weak\" for very short passwords","status":"passed","title":"should return \"very-weak\" for very short passwords","duration":3.5227180000000544,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","getPasswordStrength"],"fullName":"Password Policy Manager getPasswordStrength should return \"strong\" for complex passwords","status":"passed","title":"should return \"strong\" for complex passwords","duration":0.6614120000000412,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","getPasswordStrength"],"fullName":"Password Policy Manager getPasswordStrength should provide feedback for improving password","status":"passed","title":"should provide feedback for improving password","duration":0.30343900000002577,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Policy Manager","getDefaultPolicy"],"fullName":"Password Policy Manager getDefaultPolicy should return a valid default policy","status":"passed","title":"should return a valid default policy","duration":0.4343180000000757,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Lockout Detection"],"fullName":"Account Lockout Logic Lockout Detection should detect when account is locked","status":"passed","title":"should detect when account is locked","duration":0.548806999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Lockout Detection"],"fullName":"Account Lockout Logic Lockout Detection should detect when lockout has expired","status":"passed","title":"should detect when lockout has expired","duration":0.16249100000004546,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Lockout Detection"],"fullName":"Account Lockout Logic Lockout Detection should calculate remaining lockout time correctly","status":"passed","title":"should calculate remaining lockout time correctly","duration":0.34625500000004195,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Failed Attempt Tracking"],"fullName":"Account Lockout Logic Failed Attempt Tracking should increment failed attempts counter","status":"passed","title":"should increment failed attempts counter","duration":0.1585010000000011,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Failed Attempt Tracking"],"fullName":"Account Lockout Logic Failed Attempt Tracking should trigger lockout when max attempts reached","status":"passed","title":"should trigger lockout when max attempts reached","duration":1.202007999999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Failed Attempt Tracking"],"fullName":"Account Lockout Logic Failed Attempt Tracking should not trigger lockout below max attempts","status":"passed","title":"should not trigger lockout below max attempts","duration":0.17707499999994525,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Reset on Successful Login"],"fullName":"Account Lockout Logic Reset on Successful Login should reset failed attempts to zero on success","status":"passed","title":"should reset failed attempts to zero on success","duration":0.13721799999996165,"failureMessages":[],"meta":{}},{"ancestorTitles":["Account Lockout Logic","Reset on Successful Login"],"fullName":"Account Lockout Logic Reset on Successful Login should clear locked_until on success","status":"passed","title":"should clear locked_until on success","duration":0.16901499999994485,"failureMessages":[],"meta":{}}],"startTime":1771180420140,"endTime":1771180420174.202,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/account-lockout.test.ts"},{"assertionResults":[{"ancestorTitles":["Authentication - Password Hashing"],"fullName":"Authentication - Password Hashing should hash password successfully","status":"passed","title":"should hash password successfully","duration":186.77951099999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - Password Hashing"],"fullName":"Authentication - Password Hashing should generate different hashes for same password","status":"passed","title":"should generate different hashes for same password","duration":376.6510740000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - Password Hashing"],"fullName":"Authentication - Password Hashing should hash empty password","status":"passed","title":"should hash empty password","duration":217.9722270000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - Password Hashing"],"fullName":"Authentication - Password Hashing should hash very long password","status":"passed","title":"should hash very long password","duration":178.79474699999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - Password Verification"],"fullName":"Authentication - Password Verification should verify correct password","status":"passed","title":"should verify correct password","duration":375.9450179999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - Password Verification"],"fullName":"Authentication - Password Verification should reject incorrect password","status":"passed","title":"should reject incorrect password","duration":352.32428100000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - Password Verification"],"fullName":"Authentication - Password Verification should reject empty password when hash is not empty","status":"passed","title":"should reject empty password when hash is not empty","duration":359.96538399999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - Password Verification"],"fullName":"Authentication - Password Verification should be case sensitive","status":"passed","title":"should be case sensitive","duration":401.84929500000044,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Generation"],"fullName":"Authentication - JWT Token Generation should generate valid JWT token","status":"passed","title":"should generate valid JWT token","duration":4.928914999999961,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Generation"],"fullName":"Authentication - JWT Token Generation should generate different tokens for different users","status":"passed","title":"should generate different tokens for different users","duration":2.091632000000118,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Generation"],"fullName":"Authentication - JWT Token Generation should include user data in token payload","status":"passed","title":"should include user data in token payload","duration":0.8901479999999538,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Generation"],"fullName":"Authentication - JWT Token Generation should set expiration time","status":"passed","title":"should set expiration time","duration":0.57892800000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Verification"],"fullName":"Authentication - JWT Token Verification should verify valid token and return user data","status":"passed","title":"should verify valid token and return user data","duration":2.0060789999997723,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Verification"],"fullName":"Authentication - JWT Token Verification should reject invalid token format","status":"passed","title":"should reject invalid token format","duration":0.7159109999997781,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Verification"],"fullName":"Authentication - JWT Token Verification should reject empty token","status":"passed","title":"should reject empty token","duration":0.19271500000013475,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Verification"],"fullName":"Authentication - JWT Token Verification should reject token with wrong signature","status":"passed","title":"should reject token with wrong signature","duration":0.9655279999997219,"failureMessages":[],"meta":{}},{"ancestorTitles":["Authentication - JWT Token Verification"],"fullName":"Authentication - JWT Token Verification should validate tenant ID when provided","status":"passed","title":"should validate tenant ID when provided","duration":2.8406410000002325,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries getUserByEmail should return user when found","status":"failed","title":"getUserByEmail should return user when found","duration":8.71885999999995,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:250:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries getUserByEmail should return null when not found","status":"failed","title":"getUserByEmail should return null when not found","duration":1.0050759999999173,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:273:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries getUserById should return user when found","status":"failed","title":"getUserById should return user when found","duration":0.6178829999998925,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:285:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries emailExists should return true when email exists","status":"failed","title":"emailExists should return true when email exists","duration":0.4878720000001522,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:307:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries emailExists should return false when email does not exist","status":"failed","title":"emailExists should return false when email does not exist","duration":0.6067560000001322,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:319:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries getAllUsers should return array of users","status":"failed","title":"getAllUsers should return array of users","duration":0.4914770000000317,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:331:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries deleteUser should return true when user is deleted","status":"failed","title":"deleteUser should return true when user is deleted","duration":0.6223949999998695,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:348:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Queries"],"fullName":"Database - User Queries deleteUser should return false when user is not found","status":"failed","title":"deleteUser should return false when user is not found","duration":1.9495590000001357,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:360:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - User Registration"],"fullName":"Authentication - User Registration createUser should hash password and create user","status":"failed","title":"createUser should hash password and create user","duration":0.8329389999998966,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:378:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - User Registration"],"fullName":"Authentication - User Registration createUser should use default role when not provided","status":"failed","title":"createUser should use default role when not provided","duration":0.4628029999998944,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:408:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - User Authentication"],"fullName":"Authentication - User Authentication authenticateUser should return user on valid credentials","status":"failed","title":"authenticateUser should return user on valid credentials","duration":0.458313999999973,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:442:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - User Authentication"],"fullName":"Authentication - User Authentication authenticateUser should return null on invalid password","status":"failed","title":"authenticateUser should return null on invalid password","duration":0.43208299999969313,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:487:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - User Authentication"],"fullName":"Authentication - User Authentication authenticateUser should return null on non-existent email","status":"failed","title":"authenticateUser should return null on non-existent email","duration":0.3827110000001994,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:516:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - User Authentication"],"fullName":"Authentication - User Authentication authenticateUser should return null when user has no password hash","status":"failed","title":"authenticateUser should return null when user has no password hash","duration":0.4403479999996307,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:533:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - Password Update"],"fullName":"Authentication - Password Update updateUserPassword should hash new password and update","status":"failed","title":"updateUserPassword should hash new password and update","duration":0.4143770000000586,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:567:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Authentication - Password Update"],"fullName":"Authentication - Password Update updateUserPassword should return false when user not found","status":"failed","title":"updateUserPassword should return false when user not found","duration":0.3213780000000952,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:579:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Updates"],"fullName":"Database - User Updates updateUser should update user fields","status":"failed","title":"updateUser should update user fields","duration":0.34471399999983987,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:597:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Database - User Updates"],"fullName":"Database - User Updates updateUser should return false when no fields to update","status":"failed","title":"updateUser should return false when no fields to update","duration":0.34824799999978495,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts:620:16\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}}],"startTime":1771180417863,"endTime":1771180420350.3481,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/sqlite-auth.test.ts"},{"assertionResults":[{"ancestorTitles":["Token Manager","Device Fingerprinting"],"fullName":"Token Manager Device Fingerprinting should generate consistent fingerprint for same headers","status":"passed","title":"should generate consistent fingerprint for same headers","duration":5.513295999999855,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Device Fingerprinting"],"fullName":"Token Manager Device Fingerprinting should generate different fingerprints for different user agents","status":"passed","title":"should generate different fingerprints for different user agents","duration":1.282950000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Device Fingerprinting"],"fullName":"Token Manager Device Fingerprinting should handle missing headers gracefully","status":"passed","title":"should handle missing headers gracefully","duration":0.7813730000000305,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Device Fingerprinting"],"fullName":"Token Manager Device Fingerprinting should create URL-safe base64 fingerprint","status":"passed","title":"should create URL-safe base64 fingerprint","duration":0.5677299999999832,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Device ID Management"],"fullName":"Token Manager Device ID Management should return existing device ID if valid","status":"passed","title":"should return existing device ID if valid","duration":0.744378000000097,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Device ID Management"],"fullName":"Token Manager Device ID Management should create new device ID if none exists","status":"passed","title":"should create new device ID if none exists","duration":0.8833720000000085,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Device ID Management"],"fullName":"Token Manager Device ID Management should reject invalid device ID format","status":"passed","title":"should reject invalid device ID format","duration":0.6191080000000966,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Device ID Management"],"fullName":"Token Manager Device ID Management should create URL-safe device ID","status":"passed","title":"should create URL-safe device ID","duration":0.4314120000001367,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Generation"],"fullName":"Token Manager Access Token Generation should generate valid access token","status":"passed","title":"should generate valid access token","duration":4.009197000000086,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Generation"],"fullName":"Token Manager Access Token Generation should include all required claims","status":"passed","title":"should include all required claims","duration":2.368054999999913,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Generation"],"fullName":"Token Manager Access Token Generation should set correct expiration time (15 minutes)","status":"passed","title":"should set correct expiration time (15 minutes)","duration":1.1569119999999202,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Generation"],"fullName":"Token Manager Access Token Generation should set correct issuer and audience","status":"passed","title":"should set correct issuer and audience","duration":1.0177169999999478,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Generation"],"fullName":"Token Manager Access Token Generation should set subject as user ID","status":"passed","title":"should set subject as user ID","duration":0.6382340000000113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token Generation"],"fullName":"Token Manager Refresh Token Generation should generate valid refresh token","status":"passed","title":"should generate valid refresh token","duration":2.1925810000000183,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token Generation"],"fullName":"Token Manager Refresh Token Generation should include device fingerprint","status":"passed","title":"should include device fingerprint","duration":1.1953410000000986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token Generation"],"fullName":"Token Manager Refresh Token Generation should generate unique token ID","status":"passed","title":"should generate unique token ID","duration":1.8625590000001466,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token Generation"],"fullName":"Token Manager Refresh Token Generation should set correct expiration time (7 days)","status":"passed","title":"should set correct expiration time (7 days)","duration":0.997818000000052,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Verification"],"fullName":"Token Manager Access Token Verification should verify valid access token","status":"passed","title":"should verify valid access token","duration":1.9874899999999798,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Verification"],"fullName":"Token Manager Access Token Verification should reject refresh token as access token","status":"passed","title":"should reject refresh token as access token","duration":5.7712719999999536,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Verification"],"fullName":"Token Manager Access Token Verification should validate device fingerprint if provided","status":"passed","title":"should validate device fingerprint if provided","duration":2.6730509999999867,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Verification"],"fullName":"Token Manager Access Token Verification should return null for expired token","status":"passed","title":"should return null for expired token","duration":1.0479519999998956,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Verification"],"fullName":"Token Manager Access Token Verification should return null for malformed token","status":"passed","title":"should return null for malformed token","duration":2.8798709999998664,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Verification"],"fullName":"Token Manager Access Token Verification should return null for empty token","status":"passed","title":"should return null for empty token","duration":0.4265410000000429,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Access Token Verification"],"fullName":"Token Manager Access Token Verification should validate issuer and audience","status":"passed","title":"should validate issuer and audience","duration":1.2765119999999115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token Verification"],"fullName":"Token Manager Refresh Token Verification should reject access token as refresh token","status":"passed","title":"should reject access token as refresh token","duration":1.8918839999998909,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token Verification"],"fullName":"Token Manager Refresh Token Verification should validate device fingerprint","status":"passed","title":"should validate device fingerprint","duration":2.1086390000000392,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token Verification"],"fullName":"Token Manager Refresh Token Verification should return null for malformed token","status":"passed","title":"should return null for malformed token","duration":0.48170299999992494,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Revocation"],"fullName":"Token Manager Token Revocation should revoke refresh token","status":"passed","title":"should revoke refresh token","duration":0.48456000000010135,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Revocation"],"fullName":"Token Manager Token Revocation should revoke all user tokens","status":"failed","title":"should revoke all user tokens","duration":8.453954000000067,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts:373:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Token Manager","Token Revocation"],"fullName":"Token Manager Token Revocation should handle revocation errors gracefully","status":"failed","title":"should handle revocation errors gracefully","duration":1.9591629999999896,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts:378:18\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Token Manager","Token Cleanup"],"fullName":"Token Manager Token Cleanup should clean up expired tokens","status":"passed","title":"should clean up expired tokens","duration":1.7802210000002106,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Cleanup"],"fullName":"Token Manager Token Cleanup should handle cleanup errors gracefully","status":"failed","title":"should handle cleanup errors gracefully","duration":0.910808999999972,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts:394:18\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should set all authentication cookies","status":"passed","title":"should set all authentication cookies","duration":2.597387000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should set httpOnly flag for access token","status":"passed","title":"should set httpOnly flag for access token","duration":0.7559750000000349,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should set httpOnly flag for refresh token","status":"passed","title":"should set httpOnly flag for refresh token","duration":0.8157599999999547,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should NOT set httpOnly for device ID (client needs access)","status":"passed","title":"should NOT set httpOnly for device ID (client needs access)","duration":0.6115290000000186,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should clear all authentication cookies","status":"passed","title":"should clear all authentication cookies","duration":0.5764710000000832,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should set correct max age for access token (15 min)","status":"passed","title":"should set correct max age for access token (15 min)","duration":0.4152449999999135,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should set correct max age for refresh token (7 days)","status":"passed","title":"should set correct max age for refresh token (7 days)","duration":0.2674329999999827,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Cookie Management"],"fullName":"Token Manager Cookie Management should set sameSite=strict for security","status":"passed","title":"should set sameSite=strict for security","duration":0.32845499999984895,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Extract Tokens from Request"],"fullName":"Token Manager Extract Tokens from Request should extract access token from cookies","status":"passed","title":"should extract access token from cookies","duration":0.8877929999998742,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Extract Tokens from Request"],"fullName":"Token Manager Extract Tokens from Request should extract refresh token from cookies","status":"passed","title":"should extract refresh token from cookies","duration":0.6345710000000508,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Extract Tokens from Request"],"fullName":"Token Manager Extract Tokens from Request should generate device fingerprint","status":"passed","title":"should generate device fingerprint","duration":0.4810939999999846,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Extract Tokens from Request"],"fullName":"Token Manager Extract Tokens from Request should return null for missing tokens","status":"passed","title":"should return null for missing tokens","duration":0.42850300000009156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Table Initialization"],"fullName":"Token Manager Table Initialization should initialize refresh_tokens table","status":"passed","title":"should initialize refresh_tokens table","duration":1.3058869999999843,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Table Initialization"],"fullName":"Token Manager Table Initialization should create required indexes","status":"failed","title":"should create required indexes","duration":0.713074000000006,"failureMessages":["Error: Cannot find module '@/lib/db/connection'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts\n    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:1207:15)\n    at Function.Module._load (node:internal/modules/cjs/loader:1038:27)\n    at Module.require (node:internal/modules/cjs/loader:1289:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts:529:18\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)"],"meta":{}},{"ancestorTitles":["Token Manager","Security Edge Cases"],"fullName":"Token Manager Security Edge Cases should reject token with tampered payload","status":"passed","title":"should reject token with tampered payload","duration":1.6494629999999688,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Security Edge Cases"],"fullName":"Token Manager Security Edge Cases should reject token with invalid signature","status":"passed","title":"should reject token with invalid signature","duration":1.223009999999931,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Security Edge Cases"],"fullName":"Token Manager Security Edge Cases should handle very long tokens gracefully","status":"passed","title":"should handle very long tokens gracefully","duration":0.6567070000000967,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Security Edge Cases"],"fullName":"Token Manager Security Edge Cases should prevent token type confusion","status":"passed","title":"should prevent token type confusion","duration":3.0129799999999705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Rotation"],"fullName":"Token Manager Token Rotation should generate different tokens on each call","status":"failed","title":"should generate different tokens on each call","duration":2.0016950000001543,"failureMessages":["AssertionError: expected 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjox' not to be 'eyJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjox' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts:593:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Token Manager","Token Rotation"],"fullName":"Token Manager Token Rotation should maintain payload consistency across rotations","status":"passed","title":"should maintain payload consistency across rotations","duration":1.8509639999999763,"failureMessages":[],"meta":{}}],"startTime":1771180418090,"endTime":1771180418173.851,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/auth/__tests__/token-manager.test.ts"},{"assertionResults":[{"ancestorTitles":["Database Adapter","Adapter Creation"],"fullName":"Database Adapter Adapter Creation should create SQLite adapter by default","status":"passed","title":"should create SQLite adapter by default","duration":1.6594350000000304,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Adapter Creation"],"fullName":"Database Adapter Adapter Creation should create synchronous adapter for SQLite","status":"passed","title":"should create synchronous adapter for SQLite","duration":0.3371220000000221,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Adapter Creation"],"fullName":"Database Adapter Adapter Creation should return singleton instance","status":"passed","title":"should return singleton instance","duration":0.2153960000000552,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Query Operations"],"fullName":"Database Adapter SQLite Adapter - Query Operations should execute query and return rows","status":"passed","title":"should execute query and return rows","duration":0.5994459999999435,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Query Operations"],"fullName":"Database Adapter SQLite Adapter - Query Operations should execute query with parameters","status":"passed","title":"should execute query with parameters","duration":0.5114700000000312,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Query Operations"],"fullName":"Database Adapter SQLite Adapter - Query Operations should execute single row query","status":"passed","title":"should execute single row query","duration":0.47722299999998086,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Query Operations"],"fullName":"Database Adapter SQLite Adapter - Query Operations should execute all rows query","status":"passed","title":"should execute all rows query","duration":0.37239199999999073,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Query Operations"],"fullName":"Database Adapter SQLite Adapter - Query Operations should execute INSERT/UPDATE/DELETE","status":"passed","title":"should execute INSERT/UPDATE/DELETE","duration":0.4689260000000104,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Prepared Statements"],"fullName":"Database Adapter SQLite Adapter - Prepared Statements should prepare statement","status":"passed","title":"should prepare statement","duration":0.34119299999997565,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Prepared Statements"],"fullName":"Database Adapter SQLite Adapter - Prepared Statements should execute prepared statement get","status":"passed","title":"should execute prepared statement get","duration":0.23046499999998105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Prepared Statements"],"fullName":"Database Adapter SQLite Adapter - Prepared Statements should execute prepared statement all","status":"passed","title":"should execute prepared statement all","duration":0.23259799999993902,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Prepared Statements"],"fullName":"Database Adapter SQLite Adapter - Prepared Statements should execute prepared statement run","status":"passed","title":"should execute prepared statement run","duration":0.2608790000000454,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Transactions"],"fullName":"Database Adapter SQLite Adapter - Transactions should execute transaction","status":"passed","title":"should execute transaction","duration":0.8294309999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Transactions"],"fullName":"Database Adapter SQLite Adapter - Transactions should rollback on error","status":"passed","title":"should rollback on error","duration":1.0431270000000268,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQLite Adapter - Transactions"],"fullName":"Database Adapter SQLite Adapter - Transactions should commit successful transaction","status":"passed","title":"should commit successful transaction","duration":0.309039000000098,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Placeholder Conversion (SQLite  PostgreSQL)"],"fullName":"Database Adapter Placeholder Conversion (SQLite  PostgreSQL) should convert single placeholder","status":"passed","title":"should convert single placeholder","duration":0.9288199999999733,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Placeholder Conversion (SQLite  PostgreSQL)"],"fullName":"Database Adapter Placeholder Conversion (SQLite  PostgreSQL) should convert multiple placeholders in order","status":"passed","title":"should convert multiple placeholders in order","duration":0.3656099999999469,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Placeholder Conversion (SQLite  PostgreSQL)"],"fullName":"Database Adapter Placeholder Conversion (SQLite  PostgreSQL) should handle queries with no placeholders","status":"passed","title":"should handle queries with no placeholders","duration":0.21390100000007806,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Placeholder Conversion (SQLite  PostgreSQL)"],"fullName":"Database Adapter Placeholder Conversion (SQLite  PostgreSQL) should handle complex queries with many placeholders","status":"passed","title":"should handle complex queries with many placeholders","duration":0.18484300000000076,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","SQLite  PostgreSQL"],"fullName":"Database Adapter SQL Dialect Converter SQLite  PostgreSQL should convert AUTOINCREMENT to SERIAL","status":"passed","title":"should convert AUTOINCREMENT to SERIAL","duration":0.4997319999999945,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","SQLite  PostgreSQL"],"fullName":"Database Adapter SQL Dialect Converter SQLite  PostgreSQL should convert DATETIME to TIMESTAMP WITH TIME ZONE","status":"passed","title":"should convert DATETIME to TIMESTAMP WITH TIME ZONE","duration":0.4906780000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","SQLite  PostgreSQL"],"fullName":"Database Adapter SQL Dialect Converter SQLite  PostgreSQL should convert DATETIME('now') to CURRENT_TIMESTAMP","status":"passed","title":"should convert DATETIME('now') to CURRENT_TIMESTAMP","duration":0.25243699999998626,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","SQLite  PostgreSQL"],"fullName":"Database Adapter SQL Dialect Converter SQLite  PostgreSQL should preserve BOOLEAN type","status":"passed","title":"should preserve BOOLEAN type","duration":0.24149399999998877,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","SQLite  PostgreSQL"],"fullName":"Database Adapter SQL Dialect Converter SQLite  PostgreSQL should handle multiple conversions in one query","status":"passed","title":"should handle multiple conversions in one query","duration":0.3752149999999119,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","PostgreSQL  SQLite"],"fullName":"Database Adapter SQL Dialect Converter PostgreSQL  SQLite should convert SERIAL to AUTOINCREMENT","status":"passed","title":"should convert SERIAL to AUTOINCREMENT","duration":0.5088040000000547,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","PostgreSQL  SQLite"],"fullName":"Database Adapter SQL Dialect Converter PostgreSQL  SQLite should convert BIGSERIAL to INTEGER","status":"passed","title":"should convert BIGSERIAL to INTEGER","duration":0.3786529999999857,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","PostgreSQL  SQLite"],"fullName":"Database Adapter SQL Dialect Converter PostgreSQL  SQLite should convert TIMESTAMP WITH TIME ZONE to DATETIME","status":"passed","title":"should convert TIMESTAMP WITH TIME ZONE to DATETIME","duration":0.2678369999999859,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","PostgreSQL  SQLite"],"fullName":"Database Adapter SQL Dialect Converter PostgreSQL  SQLite should convert JSONB to TEXT","status":"passed","title":"should convert JSONB to TEXT","duration":2.202021000000059,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","SQL Dialect Converter","PostgreSQL  SQLite"],"fullName":"Database Adapter SQL Dialect Converter PostgreSQL  SQLite should convert INET to TEXT","status":"passed","title":"should convert INET to TEXT","duration":0.3589960000000474,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Helper Functions"],"fullName":"Database Adapter Helper Functions should execute query helper","status":"passed","title":"should execute query helper","duration":0.5202299999999696,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Helper Functions"],"fullName":"Database Adapter Helper Functions should execute single query helper","status":"passed","title":"should execute single query helper","duration":0.21411599999998998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Helper Functions"],"fullName":"Database Adapter Helper Functions should execute run helper","status":"passed","title":"should execute run helper","duration":0.2490420000000313,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Helper Functions"],"fullName":"Database Adapter Helper Functions should execute transaction helper","status":"passed","title":"should execute transaction helper","duration":0.28490799999997307,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Promise Detection"],"fullName":"Database Adapter Promise Detection should detect Promise instances","status":"passed","title":"should detect Promise instances","duration":0.16552500000000236,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Promise Detection"],"fullName":"Database Adapter Promise Detection should detect non-Promise values","status":"passed","title":"should detect non-Promise values","duration":0.31122099999993225,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Promise Detection"],"fullName":"Database Adapter Promise Detection should detect async function results","status":"passed","title":"should detect async function results","duration":0.1532559999999421,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Type Safety"],"fullName":"Database Adapter Type Safety should preserve type information in query","status":"passed","title":"should preserve type information in query","duration":0.30471299999999246,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Type Safety"],"fullName":"Database Adapter Type Safety should preserve type information in get","status":"passed","title":"should preserve type information in get","duration":0.6015630000000556,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Type Safety"],"fullName":"Database Adapter Type Safety should type run result correctly","status":"passed","title":"should type run result correctly","duration":0.3688120000000481,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Error Handling"],"fullName":"Database Adapter Error Handling should handle query errors gracefully","status":"passed","title":"should handle query errors gracefully","duration":0.5065700000000106,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Error Handling"],"fullName":"Database Adapter Error Handling should handle transaction errors","status":"passed","title":"should handle transaction errors","duration":0.18315399999994497,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Error Handling"],"fullName":"Database Adapter Error Handling should handle prepared statement errors","status":"passed","title":"should handle prepared statement errors","duration":0.3632519999999886,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Edge Cases"],"fullName":"Database Adapter Edge Cases should handle empty result sets","status":"passed","title":"should handle empty result sets","duration":0.3563520000000153,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Edge Cases"],"fullName":"Database Adapter Edge Cases should handle null values","status":"passed","title":"should handle null values","duration":0.2931699999999182,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Edge Cases"],"fullName":"Database Adapter Edge Cases should handle undefined parameters","status":"passed","title":"should handle undefined parameters","duration":0.1194189999999935,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Edge Cases"],"fullName":"Database Adapter Edge Cases should handle empty parameter array","status":"passed","title":"should handle empty parameter array","duration":0.16666800000007242,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Edge Cases"],"fullName":"Database Adapter Edge Cases should handle very long SQL queries","status":"passed","title":"should handle very long SQL queries","duration":0.2336599999999862,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Edge Cases"],"fullName":"Database Adapter Edge Cases should handle special characters in SQL","status":"passed","title":"should handle special characters in SQL","duration":0.2202909999999747,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Edge Cases"],"fullName":"Database Adapter Edge Cases should handle multi-line SQL","status":"passed","title":"should handle multi-line SQL","duration":0.2676850000000286,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Performance"],"fullName":"Database Adapter Performance should execute many queries quickly","status":"passed","title":"should execute many queries quickly","duration":25.618250999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Performance"],"fullName":"Database Adapter Performance should handle concurrent queries","status":"passed","title":"should handle concurrent queries","duration":8.646269999999959,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Performance"],"fullName":"Database Adapter Performance should reuse prepared statements efficiently","status":"passed","title":"should reuse prepared statements efficiently","duration":1.9362840000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Async/Sync Compatibility"],"fullName":"Database Adapter Async/Sync Compatibility should work with sync adapter (SQLite)","status":"passed","title":"should work with sync adapter (SQLite)","duration":1.3475329999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Async/Sync Compatibility"],"fullName":"Database Adapter Async/Sync Compatibility should handle both sync and async in helpers","status":"passed","title":"should handle both sync and async in helpers","duration":1.3346109999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Async/Sync Compatibility"],"fullName":"Database Adapter Async/Sync Compatibility should handle async transactions","status":"passed","title":"should handle async transactions","duration":1.0463920000000826,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Database Metadata"],"fullName":"Database Adapter Database Metadata should report correct database type","status":"passed","title":"should report correct database type","duration":1.048783999999955,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Database Metadata"],"fullName":"Database Adapter Database Metadata should report correct async status","status":"passed","title":"should report correct async status","duration":0.9388289999999415,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Complex Queries"],"fullName":"Database Adapter Complex Queries should handle JOINs","status":"passed","title":"should handle JOINs","duration":1.145381000000043,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Complex Queries"],"fullName":"Database Adapter Complex Queries should handle subqueries","status":"passed","title":"should handle subqueries","duration":1.1280349999999544,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Complex Queries"],"fullName":"Database Adapter Complex Queries should handle aggregations","status":"passed","title":"should handle aggregations","duration":1.4961999999999307,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Adapter","Complex Queries"],"fullName":"Database Adapter Complex Queries should handle CTEs (Common Table Expressions)","status":"passed","title":"should handle CTEs (Common Table Expressions)","duration":1.1020220000000336,"failureMessages":[],"meta":{}}],"startTime":1771180418913,"endTime":1771180418983.102,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/db/__tests__/adapter.test.ts"},{"assertionResults":[{"ancestorTitles":["AppError"],"fullName":"AppError should create error with correct properties","status":"passed","title":"should create error with correct properties","duration":2.4033439999998336,"failureMessages":[],"meta":{}},{"ancestorTitles":["AppError"],"fullName":"AppError should use default values","status":"passed","title":"should use default values","duration":0.36629999999991014,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","ValidationError"],"fullName":"Specific Error Classes ValidationError should create validation error with 400 status","status":"passed","title":"should create validation error with 400 status","duration":0.4796280000000479,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","AuthenticationError"],"fullName":"Specific Error Classes AuthenticationError should create authentication error with 401 status","status":"passed","title":"should create authentication error with 401 status","duration":0.33955999999989217,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","AuthenticationError"],"fullName":"Specific Error Classes AuthenticationError should accept custom message","status":"passed","title":"should accept custom message","duration":0.1573439999999664,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","AuthorizationError"],"fullName":"Specific Error Classes AuthorizationError should create authorization error with 403 status","status":"passed","title":"should create authorization error with 403 status","duration":0.2516479999999319,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","AuthorizationError"],"fullName":"Specific Error Classes AuthorizationError should accept custom message","status":"passed","title":"should accept custom message","duration":0.1613839999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","NotFoundError"],"fullName":"Specific Error Classes NotFoundError should create not found error with 404 status","status":"passed","title":"should create not found error with 404 status","duration":0.27327900000000227,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","ConflictError"],"fullName":"Specific Error Classes ConflictError should create conflict error with 409 status","status":"passed","title":"should create conflict error with 409 status","duration":0.2816089999998894,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","DatabaseError"],"fullName":"Specific Error Classes DatabaseError should create database error with 500 status","status":"passed","title":"should create database error with 500 status","duration":0.29247400000008383,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","RateLimitError"],"fullName":"Specific Error Classes RateLimitError should create rate limit error with 429 status","status":"passed","title":"should create rate limit error with 429 status","duration":0.19361699999990378,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","ExternalAPIError"],"fullName":"Specific Error Classes ExternalAPIError should create external API error with 503 status","status":"passed","title":"should create external API error with 503 status","duration":0.2559889999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["Specific Error Classes","ExternalAPIError"],"fullName":"Specific Error Classes ExternalAPIError should accept custom message","status":"passed","title":"should accept custom message","duration":0.11551200000008066,"failureMessages":[],"meta":{}},{"ancestorTitles":["formatErrorResponse"],"fullName":"formatErrorResponse should format AppError correctly","status":"passed","title":"should format AppError correctly","duration":0.9005609999999251,"failureMessages":[],"meta":{}},{"ancestorTitles":["formatErrorResponse"],"fullName":"formatErrorResponse should format generic Error in production","status":"passed","title":"should format generic Error in production","duration":0.3099740000000111,"failureMessages":[],"meta":{}},{"ancestorTitles":["formatErrorResponse"],"fullName":"formatErrorResponse should format generic Error in development","status":"passed","title":"should format generic Error in development","duration":0.21181499999988773,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStatusCode"],"fullName":"getStatusCode should return status code from AppError","status":"passed","title":"should return status code from AppError","duration":0.45792499999993197,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStatusCode"],"fullName":"getStatusCode should return 400 for Zod errors","status":"passed","title":"should return 400 for Zod errors","duration":2.0794710000000123,"failureMessages":[],"meta":{}},{"ancestorTitles":["getStatusCode"],"fullName":"getStatusCode should return 500 for generic errors","status":"passed","title":"should return 500 for generic errors","duration":0.13485199999990982,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateOrThrow"],"fullName":"validateOrThrow should return validated data on success","status":"passed","title":"should return validated data on success","duration":0.7099160000000211,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateOrThrow"],"fullName":"validateOrThrow should throw ValidationError on failure","status":"passed","title":"should throw ValidationError on failure","duration":0.5229409999999461,"failureMessages":[],"meta":{}},{"ancestorTitles":["validateOrThrow"],"fullName":"validateOrThrow should include field errors in details","status":"passed","title":"should include field errors in details","duration":0.5167469999998957,"failureMessages":[],"meta":{}},{"ancestorTitles":["assert"],"fullName":"assert should not throw on true condition","status":"passed","title":"should not throw on true condition","duration":0.6290309999999408,"failureMessages":[],"meta":{}},{"ancestorTitles":["assert"],"fullName":"assert should throw string error on false condition","status":"passed","title":"should throw string error on false condition","duration":0.26825799999983246,"failureMessages":[],"meta":{}},{"ancestorTitles":["assert"],"fullName":"assert should throw AppError on false condition","status":"passed","title":"should throw AppError on false condition","duration":0.2126860000000761,"failureMessages":[],"meta":{}},{"ancestorTitles":["assert"],"fullName":"assert should act as type guard","status":"passed","title":"should act as type guard","duration":0.07440300000007483,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Integration Tests"],"fullName":"Error Integration Tests should handle error flow from validation to response","status":"passed","title":"should handle error flow from validation to response","duration":1.7342299999997977,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Integration Tests"],"fullName":"Error Integration Tests should preserve error context through error chain","status":"passed","title":"should preserve error context through error chain","duration":0.2302980000001753,"failureMessages":[],"meta":{}}],"startTime":1771180420378,"endTime":1771180420394.2302,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/errors/__tests__/error-handler.test.ts"},{"assertionResults":[{"ancestorTitles":["CSRF Protection","Token Generation"],"fullName":"CSRF Protection Token Generation should generate cryptographically secure token","status":"failed","title":"should generate cryptographically secure token","duration":8.977417999999943,"failureMessages":["AssertionError: expected 'object' to be 'string' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:35:28\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Generation"],"fullName":"CSRF Protection Token Generation should generate unique tokens","status":"passed","title":"should generate unique tokens","duration":13.82841499999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Generation"],"fullName":"CSRF Protection Token Generation should generate URL-safe tokens (base64url)","status":"failed","title":"should generate URL-safe tokens (base64url)","duration":2.904303000000027,"failureMessages":["TypeError: .toMatch() expects to receive a string, but got object\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1165:10)\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1686:25)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:53:21\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Generation"],"fullName":"CSRF Protection Token Generation should generate consistent length tokens","status":"passed","title":"should generate consistent length tokens","duration":3.433089000000109,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should validate matching cookie and header tokens","status":"failed","title":"should validate matching cookie and header tokens","duration":8.22251899999992,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:86:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should reject request with missing cookie token","status":"failed","title":"should reject request with missing cookie token","duration":2.3196130000001176,"failureMessages":["AssertionError: expected Promise{} to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:101:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should reject request with missing header token","status":"failed","title":"should reject request with missing header token","duration":2.134337000000187,"failureMessages":["AssertionError: expected Promise{} to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:117:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should reject request with mismatched tokens","status":"failed","title":"should reject request with mismatched tokens","duration":2.545869000000039,"failureMessages":["AssertionError: expected Promise{} to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:138:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should skip validation for GET requests","status":"failed","title":"should skip validation for GET requests","duration":1.3890180000000782,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:147:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should skip validation for HEAD requests","status":"failed","title":"should skip validation for HEAD requests","duration":1.887858000000051,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:156:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should skip validation for OPTIONS requests","status":"failed","title":"should skip validation for OPTIONS requests","duration":1.6128540000001976,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:165:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should validate POST requests","status":"failed","title":"should validate POST requests","duration":4.764194999999972,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:184:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should validate PUT requests","status":"failed","title":"should validate PUT requests","duration":2.42143800000008,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:203:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should validate PATCH requests","status":"failed","title":"should validate PATCH requests","duration":2.475264000000152,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:222:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should validate DELETE requests","status":"failed","title":"should validate DELETE requests","duration":1.902368000000024,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:241:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Token Validation"],"fullName":"CSRF Protection Token Validation should handle case-insensitive HTTP methods","status":"failed","title":"should handle case-insensitive HTTP methods","duration":4.258859999999913,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:260:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Timing-Safe Comparison"],"fullName":"CSRF Protection Timing-Safe Comparison should use timing-safe comparison","status":"failed","title":"should use timing-safe comparison","duration":8.29757299999983,"failureMessages":["AssertionError: expected Promise{} to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:295:43\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Timing-Safe Comparison"],"fullName":"CSRF Protection Timing-Safe Comparison should reject tokens of different lengths","status":"failed","title":"should reject tokens of different lengths","duration":2.3292200000000776,"failureMessages":["AssertionError: expected Promise{} to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:317:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Timing-Safe Comparison"],"fullName":"CSRF Protection Timing-Safe Comparison should take constant time for comparison (timing attack prevention)","status":"passed","title":"should take constant time for comparison (timing attack prevention)","duration":2.2654939999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Set CSRF Token in Response"],"fullName":"CSRF Protection Set CSRF Token in Response should set CSRF token cookie","status":"failed","title":"should set CSRF token cookie","duration":2.9218610000000353,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:370:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Set CSRF Token in Response"],"fullName":"CSRF Protection Set CSRF Token in Response should set CSRF token header","status":"failed","title":"should set CSRF token header","duration":1.4007629999998699,"failureMessages":["AssertionError: expected null to be truthy\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:379:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Set CSRF Token in Response"],"fullName":"CSRF Protection Set CSRF Token in Response should set cookie with correct attributes","status":"failed","title":"should set cookie with correct attributes","duration":1.1824879999999212,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:387:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Set CSRF Token in Response"],"fullName":"CSRF Protection Set CSRF Token in Response should set cookie with 8 hour expiration","status":"failed","title":"should set cookie with 8 hour expiration","duration":0.9428359999999429,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:398:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Set CSRF Token in Response"],"fullName":"CSRF Protection Set CSRF Token in Response should return the response for chaining","status":"failed","title":"should return the response for chaining","duration":9.417449000000033,"failureMessages":["AssertionError: expected Promise{} to be Response{ (9), (6) } // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:406:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Set CSRF Token in Response"],"fullName":"CSRF Protection Set CSRF Token in Response should set same token in both cookie and header","status":"failed","title":"should set same token in both cookie and header","duration":1.411787000000004,"failureMessages":["AssertionError: expected undefined to be null // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:416:27\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Get CSRF Token from Request"],"fullName":"CSRF Protection Get CSRF Token from Request should get CSRF token from cookie","status":"passed","title":"should get CSRF token from cookie","duration":0.903152000000091,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Get CSRF Token from Request"],"fullName":"CSRF Protection Get CSRF Token from Request should return undefined if no token present","status":"passed","title":"should return undefined if no token present","duration":0.4923629999998411,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Require CSRF Token (throws on invalid)"],"fullName":"CSRF Protection Require CSRF Token (throws on invalid) should not throw for valid token","status":"passed","title":"should not throw for valid token","duration":1.605546000000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Require CSRF Token (throws on invalid)"],"fullName":"CSRF Protection Require CSRF Token (throws on invalid) should throw for invalid token","status":"failed","title":"should throw for invalid token","duration":6.9609260000002,"failureMessages":["AssertionError: expected [Function] to throw an error\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1420:16)\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1686:25)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:469:47\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Require CSRF Token (throws on invalid)"],"fullName":"CSRF Protection Require CSRF Token (throws on invalid) should not throw for GET requests","status":"passed","title":"should not throw for GET requests","duration":0.7598350000000664,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","CSRF Middleware Wrapper"],"fullName":"CSRF Protection CSRF Middleware Wrapper should execute handler for valid CSRF token","status":"failed","title":"should execute handler for valid CSRF token","duration":3.623540000000048,"failureMessages":["AssertionError: expected \"spy\" to be called at least once\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1335:10)\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1686:25)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:501:27\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["CSRF Protection","CSRF Middleware Wrapper"],"fullName":"CSRF Protection CSRF Middleware Wrapper should reject request with invalid CSRF token","status":"passed","title":"should reject request with invalid CSRF token","duration":1.514218000000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","CSRF Middleware Wrapper"],"fullName":"CSRF Protection CSRF Middleware Wrapper should set new CSRF token in response","status":"failed","title":"should set new CSRF token in response","duration":2.0826549999999315,"failureMessages":["AssertionError: expected undefined to be defined\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:540:24\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["CSRF Protection","CSRF Middleware Wrapper"],"fullName":"CSRF Protection CSRF Middleware Wrapper should skip validation for GET requests","status":"passed","title":"should skip validation for GET requests","duration":7.110699999999952,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Public Path Handling"],"fullName":"CSRF Protection Public Path Handling should skip CSRF for /api/auth/login","status":"failed","title":"should skip CSRF for /api/auth/login","duration":5.836954999999989,"failureMessages":["AssertionError: expected \"spy\" to be called at least once\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1335:10)\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1686:25)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:567:27\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["CSRF Protection","Public Path Handling"],"fullName":"CSRF Protection Public Path Handling should skip CSRF for /api/auth/register","status":"failed","title":"should skip CSRF for /api/auth/register","duration":1.431096000000025,"failureMessages":["AssertionError: expected \"spy\" to be called at least once\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1335:10)\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1686:25)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:579:27\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["CSRF Protection","Public Path Handling"],"fullName":"CSRF Protection Public Path Handling should skip CSRF for /api/health","status":"passed","title":"should skip CSRF for /api/health","duration":1.3840970000001107,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Public Path Handling"],"fullName":"CSRF Protection Public Path Handling should skip CSRF for /_next/* paths","status":"passed","title":"should skip CSRF for /_next/* paths","duration":1.6007549999999355,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Public Path Handling"],"fullName":"CSRF Protection Public Path Handling should NOT skip CSRF for protected API routes","status":"passed","title":"should NOT skip CSRF for protected API routes","duration":1.2970940000000155,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","CSRF Middleware Creation"],"fullName":"CSRF Protection CSRF Middleware Creation should create middleware that returns null for valid token","status":"failed","title":"should create middleware that returns null for valid token","duration":4.460795000000189,"failureMessages":["AssertionError: expected Response{ (9), (6) } to be null\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:641:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["CSRF Protection","CSRF Middleware Creation"],"fullName":"CSRF Protection CSRF Middleware Creation should create middleware that returns error for invalid token","status":"passed","title":"should create middleware that returns error for invalid token","duration":1.4173639999999068,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","CSRF Middleware Creation"],"fullName":"CSRF Protection CSRF Middleware Creation should create middleware that skips public paths","status":"failed","title":"should create middleware that skips public paths","duration":3.0625330000000304,"failureMessages":["AssertionError: expected Response{ (9), (6) } to be null\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:666:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["CSRF Protection","Error Messages"],"fullName":"CSRF Protection Error Messages should return descriptive error message","status":"passed","title":"should return descriptive error message","duration":2.3987849999998616,"failureMessages":[],"meta":{}},{"ancestorTitles":["CSRF Protection","Edge Cases"],"fullName":"CSRF Protection Edge Cases should handle empty token strings","status":"failed","title":"should handle empty token strings","duration":1.5949759999998605,"failureMessages":["AssertionError: expected Promise{} to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:703:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Edge Cases"],"fullName":"CSRF Protection Edge Cases should handle whitespace in tokens","status":"failed","title":"should handle whitespace in tokens","duration":1.967873999999938,"failureMessages":["AssertionError: expected Promise{} to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:724:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Edge Cases"],"fullName":"CSRF Protection Edge Cases should handle very long tokens","status":"failed","title":"should handle very long tokens","duration":2.017033000000083,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:744:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["CSRF Protection","Edge Cases"],"fullName":"CSRF Protection Edge Cases should handle special characters in path","status":"failed","title":"should handle special characters in path","duration":1.959957999999915,"failureMessages":["AssertionError: expected Promise{} to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts:763:23\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}}],"startTime":1771180417953,"endTime":1771180418105.96,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/csrf.test.ts"},{"assertionResults":[{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should remove script tags","status":"passed","title":"should remove script tags","duration":5.290334999999914,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should remove event handlers","status":"passed","title":"should remove event handlers","duration":3.910131000000092,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should remove javascript: URLs","status":"passed","title":"should remove javascript: URLs","duration":1.5424520000001394,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should remove data: URLs","status":"passed","title":"should remove data: URLs","duration":0.7975220000000718,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should allow safe HTML","status":"passed","title":"should allow safe HTML","duration":1.0458759999999074,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should allow safe links","status":"passed","title":"should allow safe links","duration":1.0799259999998867,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should handle empty or invalid input","status":"passed","title":"should handle empty or invalid input","duration":0.18478000000004613,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should prevent XSS via style attribute","status":"failed","title":"should prevent XSS via style attribute","duration":8.048025000000052,"failureMessages":["AssertionError: expected '<div style=\"background:url(javascript' not to contain 'javascript:'\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/sanitize.test.ts:54:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeHTML"],"fullName":"XSS Protection sanitizeHTML should prevent XSS via iframe","status":"passed","title":"should prevent XSS via iframe","duration":9.343611999999894,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","stripHTML"],"fullName":"XSS Protection stripHTML should remove all tags","status":"failed","title":"should remove all tags","duration":3.6097259999999096,"failureMessages":["AssertionError: expected 'Hello <strong>world</strong>' to be 'Hello world' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/sanitize.test.ts:67:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["XSS Protection","stripHTML"],"fullName":"XSS Protection stripHTML should remove script tags and content","status":"passed","title":"should remove script tags and content","duration":1.3769959999999628,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","stripHTML"],"fullName":"XSS Protection stripHTML should keep text content","status":"failed","title":"should keep text content","duration":2.3444620000000214,"failureMessages":["AssertionError: expected '<span>Keep</span> this <b>text</b>' to be 'Keep this text' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/sanitize.test.ts:77:22\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["XSS Protection","stripHTML"],"fullName":"XSS Protection stripHTML should handle empty input","status":"passed","title":"should handle empty input","duration":0.34839599999986604,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should block javascript: URLs","status":"passed","title":"should block javascript: URLs","duration":0.42820899999992434,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should block data: URLs","status":"passed","title":"should block data: URLs","duration":0.16024000000015803,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should block vbscript: URLs","status":"passed","title":"should block vbscript: URLs","duration":0.19214199999987613,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should block file: URLs","status":"passed","title":"should block file: URLs","duration":0.12461999999982254,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should allow https URLs","status":"passed","title":"should allow https URLs","duration":0.29449399999998604,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should allow http URLs","status":"passed","title":"should allow http URLs","duration":0.17639200000007804,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should allow mailto URLs","status":"passed","title":"should allow mailto URLs","duration":0.10203699999988203,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should allow tel URLs","status":"passed","title":"should allow tel URLs","duration":0.09159900000008747,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should allow relative paths","status":"passed","title":"should allow relative paths","duration":0.11588299999993978,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeURL"],"fullName":"XSS Protection sanitizeURL should handle empty input","status":"passed","title":"should handle empty input","duration":0.10894999999982247,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeMarkdown"],"fullName":"XSS Protection sanitizeMarkdown should allow markdown-safe HTML","status":"passed","title":"should allow markdown-safe HTML","duration":2.4062779999999293,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeMarkdown"],"fullName":"XSS Protection sanitizeMarkdown should remove dangerous tags","status":"passed","title":"should remove dangerous tags","duration":0.9387759999999616,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeMarkdown"],"fullName":"XSS Protection sanitizeMarkdown should allow images","status":"passed","title":"should allow images","duration":1.0251630000000205,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeMarkdown"],"fullName":"XSS Protection sanitizeMarkdown should allow tables","status":"passed","title":"should allow tables","duration":1.5450039999998353,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeCSS"],"fullName":"XSS Protection sanitizeCSS should remove javascript: in CSS","status":"passed","title":"should remove javascript: in CSS","duration":0.39418399999999565,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeCSS"],"fullName":"XSS Protection sanitizeCSS should remove expression()","status":"passed","title":"should remove expression()","duration":0.21178699999995843,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeCSS"],"fullName":"XSS Protection sanitizeCSS should remove @import","status":"passed","title":"should remove @import","duration":0.12023399999998219,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeCSS"],"fullName":"XSS Protection sanitizeCSS should remove -moz-binding","status":"passed","title":"should remove -moz-binding","duration":0.0955260000000635,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeCSS"],"fullName":"XSS Protection sanitizeCSS should allow safe CSS","status":"passed","title":"should allow safe CSS","duration":0.0915740000000369,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeUserInput"],"fullName":"XSS Protection sanitizeUserInput should only allow very basic formatting","status":"passed","title":"should only allow very basic formatting","duration":0.7728349999999864,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeUserInput"],"fullName":"XSS Protection sanitizeUserInput should remove links","status":"passed","title":"should remove links","duration":1.156351000000086,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","sanitizeUserInput"],"fullName":"XSS Protection sanitizeUserInput should remove script tags","status":"passed","title":"should remove script tags","duration":0.8378700000000663,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","Edge Cases"],"fullName":"XSS Protection Edge Cases should handle nested tags","status":"passed","title":"should handle nested tags","duration":0.6321329999998397,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","Edge Cases"],"fullName":"XSS Protection Edge Cases should handle malformed HTML","status":"passed","title":"should handle malformed HTML","duration":0.9099120000000767,"failureMessages":[],"meta":{}},{"ancestorTitles":["XSS Protection","Edge Cases"],"fullName":"XSS Protection Edge Cases should handle Unicode attacks","status":"failed","title":"should handle Unicode attacks","duration":1.0737550000001193,"failureMessages":["AssertionError: expected 'alert(1)' not to contain 'alert'\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/sanitize.test.ts:235:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["XSS Protection","Edge Cases"],"fullName":"XSS Protection Edge Cases should handle case variations","status":"passed","title":"should handle case variations","duration":0.5662849999998798,"failureMessages":[],"meta":{}}],"startTime":1771180417873,"endTime":1771180417928.5664,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/security/__tests__/sanitize.test.ts"},{"assertionResults":[{"ancestorTitles":["TicketService","createTicket"],"fullName":"TicketService createTicket should create a ticket successfully","status":"passed","title":"should create a ticket successfully","duration":2.127886999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","createTicket"],"fullName":"TicketService createTicket should throw error for invalid user","status":"passed","title":"should throw error for invalid user","duration":1.9401860000000397,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","createTicket"],"fullName":"TicketService createTicket should throw error for inactive user","status":"passed","title":"should throw error for inactive user","duration":0.487480000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","createTicket"],"fullName":"TicketService createTicket should throw error for critical ticket without assignee","status":"passed","title":"should throw error for critical ticket without assignee","duration":0.3528390000000172,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","createTicket"],"fullName":"TicketService createTicket should allow critical ticket with valid assignee","status":"passed","title":"should allow critical ticket with valid assignee","duration":0.319992999999954,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","createTicket"],"fullName":"TicketService createTicket should throw error when agent capacity is exceeded","status":"passed","title":"should throw error when agent capacity is exceeded","duration":0.6479209999999966,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","assignTicket"],"fullName":"TicketService assignTicket should assign ticket to agent successfully","status":"passed","title":"should assign ticket to agent successfully","duration":0.6836549999999306,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","assignTicket"],"fullName":"TicketService assignTicket should throw error when assigning non-existent ticket","status":"passed","title":"should throw error when assigning non-existent ticket","duration":0.310931000000096,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","assignTicket"],"fullName":"TicketService assignTicket should throw error when assigning to non-agent role","status":"passed","title":"should throw error when assigning to non-agent role","duration":0.4389969999999721,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","closeTicket"],"fullName":"TicketService closeTicket should close a resolved ticket","status":"passed","title":"should close a resolved ticket","duration":0.30725299999994604,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","closeTicket"],"fullName":"TicketService closeTicket should throw error when closing non-resolved ticket","status":"passed","title":"should throw error when closing non-resolved ticket","duration":0.24511000000006788,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","deleteTicket"],"fullName":"TicketService deleteTicket should soft delete a ticket","status":"passed","title":"should soft delete a ticket","duration":0.20384599999999864,"failureMessages":[],"meta":{}},{"ancestorTitles":["TicketService","deleteTicket"],"fullName":"TicketService deleteTicket should throw error when deleting old resolved tickets","status":"passed","title":"should throw error when deleting old resolved tickets","duration":0.3764290000000301,"failureMessages":[],"meta":{}}],"startTime":1771180420414,"endTime":1771180420425.3765,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/services/__tests__/ticket-service.test.ts"},{"assertionResults":[{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should create a user with hashed password","status":"passed","title":"should create a user with hashed password","duration":246.58121099999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should throw error for duplicate email","status":"passed","title":"should throw error for duplicate email","duration":282.6103679999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should throw error for invalid email","status":"passed","title":"should throw error for invalid email","duration":0.8532549999999901,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should throw error for short password","status":"passed","title":"should throw error for short password","duration":0.3952639999999974,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should throw error for password without uppercase","status":"passed","title":"should throw error for password without uppercase","duration":0.3401120000000901,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should throw error for password without number","status":"passed","title":"should throw error for password without number","duration":0.4625499999999647,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should throw error for password without special character","status":"passed","title":"should throw error for password without special character","duration":6.701221000000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","createUser"],"fullName":"UserService createUser should throw error for short name","status":"passed","title":"should throw error for short name","duration":0.544198999999935,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","login"],"fullName":"UserService login should authenticate user with correct credentials","status":"passed","title":"should authenticate user with correct credentials","duration":554.1413070000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","login"],"fullName":"UserService login should throw error for non-existent user","status":"passed","title":"should throw error for non-existent user","duration":0.44136200000002646,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","login"],"fullName":"UserService login should throw error for incorrect password","status":"passed","title":"should throw error for incorrect password","duration":517.0885439999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","login"],"fullName":"UserService login should throw error for inactive user","status":"passed","title":"should throw error for inactive user","duration":347.9729890000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","login"],"fullName":"UserService login should throw error for locked account","status":"failed","title":"should throw error for locked account","duration":588.0528730000001,"failureMessages":["Error: promise resolved \"{ id: 1, name: 'John Doe', (13) }\" instead of rejecting\n    at _Assertion.__VITEST_REJECTS__ (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1610:17)\n    at _Assertion.propertyGetter (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1557:27)\n    at Reflect.get (<anonymous>)\n    at Object.proxyGetter [as get] (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1645:22)\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/services/__tests__/user-service.test.ts:373:7\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["UserService","changePassword"],"fullName":"UserService changePassword should change password successfully","status":"passed","title":"should change password successfully","duration":1049.3583799999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","changePassword"],"fullName":"UserService changePassword should throw error for incorrect current password","status":"passed","title":"should throw error for incorrect current password","duration":396.51262700000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","changePassword"],"fullName":"UserService changePassword should throw error when new password same as current","status":"passed","title":"should throw error when new password same as current","duration":588.9415060000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","updateUser"],"fullName":"UserService updateUser should update user successfully","status":"passed","title":"should update user successfully","duration":0.3125289999998131,"failureMessages":[],"meta":{}},{"ancestorTitles":["UserService","updateUser"],"fullName":"UserService updateUser should throw error for duplicate email","status":"passed","title":"should throw error for duplicate email","duration":0.25370099999963713,"failureMessages":[],"meta":{}}],"startTime":1771180417890,"endTime":1771180422476.3125,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/services/__tests__/user-service.test.ts"},{"assertionResults":[{"ancestorTitles":["Tenant Cache","Basic Cache Operations"],"fullName":"Tenant Cache Basic Cache Operations should set and get tenant from cache","status":"passed","title":"should set and get tenant from cache","duration":2.4144939999999906,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Basic Cache Operations"],"fullName":"Tenant Cache Basic Cache Operations should return null for cache miss","status":"passed","title":"should return null for cache miss","duration":0.26251800000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Basic Cache Operations"],"fullName":"Tenant Cache Basic Cache Operations should clear entire cache","status":"passed","title":"should clear entire cache","duration":0.38524199999994835,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Basic Cache Operations"],"fullName":"Tenant Cache Basic Cache Operations should throw error for invalid tenant data","status":"passed","title":"should throw error for invalid tenant data","duration":0.7916320000000496,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Basic Cache Operations"],"fullName":"Tenant Cache Basic Cache Operations should throw error for tenant without slug","status":"passed","title":"should throw error for tenant without slug","duration":0.29608200000006946,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Multi-Key Caching"],"fullName":"Tenant Cache Multi-Key Caching should cache tenant by ID","status":"passed","title":"should cache tenant by ID","duration":0.3874309999999923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Multi-Key Caching"],"fullName":"Tenant Cache Multi-Key Caching should cache tenant by slug","status":"passed","title":"should cache tenant by slug","duration":0.2678919999999607,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Multi-Key Caching"],"fullName":"Tenant Cache Multi-Key Caching should cache tenant by domain if present","status":"passed","title":"should cache tenant by domain if present","duration":0.2018239999999878,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Multi-Key Caching"],"fullName":"Tenant Cache Multi-Key Caching should not cache by domain if domain is null","status":"passed","title":"should not cache by domain if domain is null","duration":0.19074499999999261,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Multi-Key Caching"],"fullName":"Tenant Cache Multi-Key Caching should retrieve same tenant by any key","status":"passed","title":"should retrieve same tenant by any key","duration":0.2586459999999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Invalidation"],"fullName":"Tenant Cache Cache Invalidation should invalidate tenant by all keys","status":"passed","title":"should invalidate tenant by all keys","duration":0.3670909999999594,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Invalidation"],"fullName":"Tenant Cache Cache Invalidation should invalidate only specified tenant","status":"passed","title":"should invalidate only specified tenant","duration":0.2073609999999917,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Invalidation"],"fullName":"Tenant Cache Cache Invalidation should handle invalidation of tenant without domain","status":"passed","title":"should handle invalidation of tenant without domain","duration":0.14978199999995923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Statistics"],"fullName":"Tenant Cache Cache Statistics should track cache hits","status":"passed","title":"should track cache hits","duration":0.44392099999993206,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Statistics"],"fullName":"Tenant Cache Cache Statistics should track cache misses","status":"passed","title":"should track cache misses","duration":0.13483599999995022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Statistics"],"fullName":"Tenant Cache Cache Statistics should track cache size","status":"passed","title":"should track cache size","duration":0.16317300000002888,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Statistics"],"fullName":"Tenant Cache Cache Statistics should calculate hit ratio correctly","status":"passed","title":"should calculate hit ratio correctly","duration":0.20465699999999742,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Statistics"],"fullName":"Tenant Cache Cache Statistics should return 0 hit ratio when no operations","status":"passed","title":"should return 0 hit ratio when no operations","duration":0.07269800000005944,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Statistics"],"fullName":"Tenant Cache Cache Statistics should reset statistics on clearCache","status":"passed","title":"should reset statistics on clearCache","duration":0.10127299999999195,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Entry Metadata"],"fullName":"Tenant Cache Cache Entry Metadata should store cachedAt timestamp","status":"passed","title":"should store cachedAt timestamp","duration":0.34501399999999194,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Entry Metadata"],"fullName":"Tenant Cache Cache Entry Metadata should reject corrupted cache entry","status":"passed","title":"should reject corrupted cache entry","duration":0.20306299999992916,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Entry Metadata"],"fullName":"Tenant Cache Cache Entry Metadata should reject cache entry without cachedAt","status":"passed","title":"should reject cache entry without cachedAt","duration":0.09415500000000065,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","LRU Cache Behavior"],"fullName":"Tenant Cache LRU Cache Behavior should update access time on get (LRU behavior)","status":"passed","title":"should update access time on get (LRU behavior)","duration":0.15536899999995057,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","LRU Cache Behavior"],"fullName":"Tenant Cache LRU Cache Behavior should maintain recently accessed items","status":"passed","title":"should maintain recently accessed items","duration":0.2320399999999836,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Warmup Cache"],"fullName":"Tenant Cache Warmup Cache should warmup cache with multiple tenants","status":"passed","title":"should warmup cache with multiple tenants","duration":1.0756679999999506,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Warmup Cache"],"fullName":"Tenant Cache Warmup Cache should handle errors during warmup","status":"passed","title":"should handle errors during warmup","duration":0.9668130000000019,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Warmup Cache"],"fullName":"Tenant Cache Warmup Cache should handle empty array in warmup","status":"passed","title":"should handle empty array in warmup","duration":0.09684000000004289,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Configuration"],"fullName":"Tenant Cache Cache Configuration should have correct max size configuration","status":"passed","title":"should have correct max size configuration","duration":0.07264099999997597,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Cache Configuration"],"fullName":"Tenant Cache Cache Configuration should respect cache size limits","status":"passed","title":"should respect cache size limits","duration":0.08677699999998367,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Edge Cases"],"fullName":"Tenant Cache Edge Cases should handle special characters in keys","status":"passed","title":"should handle special characters in keys","duration":0.1015580000000682,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Edge Cases"],"fullName":"Tenant Cache Edge Cases should handle concurrent cache operations","status":"passed","title":"should handle concurrent cache operations","duration":1.236554999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Edge Cases"],"fullName":"Tenant Cache Edge Cases should handle cache updates for same tenant","status":"passed","title":"should handle cache updates for same tenant","duration":0.15336300000001302,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Edge Cases"],"fullName":"Tenant Cache Edge Cases should handle null and undefined safely","status":"passed","title":"should handle null and undefined safely","duration":0.2364069999999856,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Edge Cases"],"fullName":"Tenant Cache Edge Cases should handle empty string keys gracefully","status":"passed","title":"should handle empty string keys gracefully","duration":0.09002699999996366,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Performance Characteristics"],"fullName":"Tenant Cache Performance Characteristics should perform cache operations quickly","status":"passed","title":"should perform cache operations quickly","duration":4.468302999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Cache","Performance Characteristics"],"fullName":"Tenant Cache Performance Characteristics should maintain hit ratio with mixed operations","status":"passed","title":"should maintain hit ratio with mixed operations","duration":0.2832270000000108,"failureMessages":[],"meta":{}}],"startTime":1771180419076,"endTime":1771180419094.2832,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/tenant/__tests__/cache.test.ts"},{"assertionResults":[{"ancestorTitles":["Tenant Resolver","Strategy 1: Explicit Headers"],"fullName":"Tenant Resolver Strategy 1: Explicit Headers should resolve tenant by explicit headers (both x-tenant-id and x-tenant-slug)","status":"passed","title":"should resolve tenant by explicit headers (both x-tenant-id and x-tenant-slug)","duration":2.877433999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 1: Explicit Headers"],"fullName":"Tenant Resolver Strategy 1: Explicit Headers should use cache on second call with same headers","status":"passed","title":"should use cache on second call with same headers","duration":0.5953329999999823,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 1: Explicit Headers"],"fullName":"Tenant Resolver Strategy 1: Explicit Headers should reject if only x-tenant-id is provided (security)","status":"passed","title":"should reject if only x-tenant-id is provided (security)","duration":0.5061390000000756,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 1: Explicit Headers"],"fullName":"Tenant Resolver Strategy 1: Explicit Headers should reject if only x-tenant-slug is provided (security)","status":"passed","title":"should reject if only x-tenant-slug is provided (security)","duration":0.36855000000014115,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 1: Explicit Headers"],"fullName":"Tenant Resolver Strategy 1: Explicit Headers should reject invalid tenant ID (non-numeric)","status":"failed","title":"should reject invalid tenant ID (non-numeric)","duration":8.454556000000139,"failureMessages":["AssertionError: expected 'not-found' to be 'explicit-header' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/tenant/__tests__/resolver.test.ts:155:29\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 1: Explicit Headers"],"fullName":"Tenant Resolver Strategy 1: Explicit Headers should reject invalid tenant ID (zero)","status":"failed","title":"should reject invalid tenant ID (zero)","duration":1.1821370000000115,"failureMessages":["AssertionError: expected 'No tenant found for this request' to contain 'Invalid tenant ID'\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/tenant/__tests__/resolver.test.ts:170:28\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 1: Explicit Headers"],"fullName":"Tenant Resolver Strategy 1: Explicit Headers should reject invalid tenant ID (negative)","status":"failed","title":"should reject invalid tenant ID (negative)","duration":0.6533039999999346,"failureMessages":["AssertionError: expected 'No tenant found for this request' to contain 'Invalid tenant ID'\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/tenant/__tests__/resolver.test.ts:184:28\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 2: Subdomain Resolution"],"fullName":"Tenant Resolver Strategy 2: Subdomain Resolution should resolve tenant by subdomain","status":"passed","title":"should resolve tenant by subdomain","duration":0.43222900000000664,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 2: Subdomain Resolution"],"fullName":"Tenant Resolver Strategy 2: Subdomain Resolution should extract subdomain correctly from multi-level domain","status":"passed","title":"should extract subdomain correctly from multi-level domain","duration":0.3009830000000875,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 2: Subdomain Resolution"],"fullName":"Tenant Resolver Strategy 2: Subdomain Resolution should ignore www subdomain","status":"passed","title":"should ignore www subdomain","duration":0.14055200000007062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 2: Subdomain Resolution"],"fullName":"Tenant Resolver Strategy 2: Subdomain Resolution should use cache on second subdomain call","status":"passed","title":"should use cache on second subdomain call","duration":0.16605500000014217,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 2: Subdomain Resolution"],"fullName":"Tenant Resolver Strategy 2: Subdomain Resolution should return null if no subdomain present","status":"passed","title":"should return null if no subdomain present","duration":0.12292999999999665,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 3: Path Prefix Resolution"],"fullName":"Tenant Resolver Strategy 3: Path Prefix Resolution should resolve tenant by path prefix /t/slug","status":"passed","title":"should resolve tenant by path prefix /t/slug","duration":0.33107799999993404,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 3: Path Prefix Resolution"],"fullName":"Tenant Resolver Strategy 3: Path Prefix Resolution should extract slug correctly from path","status":"passed","title":"should extract slug correctly from path","duration":0.2982449999999517,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 3: Path Prefix Resolution"],"fullName":"Tenant Resolver Strategy 3: Path Prefix Resolution should use cache on second path call","status":"passed","title":"should use cache on second path call","duration":0.2619280000001254,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 3: Path Prefix Resolution"],"fullName":"Tenant Resolver Strategy 3: Path Prefix Resolution should return null if path does not match /t/ pattern","status":"passed","title":"should return null if path does not match /t/ pattern","duration":0.14693899999997484,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy 3: Path Prefix Resolution"],"fullName":"Tenant Resolver Strategy 3: Path Prefix Resolution should handle slug with hyphens and numbers","status":"passed","title":"should handle slug with hyphens and numbers","duration":0.13093800000001465,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Tenant Validation"],"fullName":"Tenant Resolver Tenant Validation should reject inactive tenant","status":"passed","title":"should reject inactive tenant","duration":0.23084500000004482,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Tenant Validation"],"fullName":"Tenant Resolver Tenant Validation should reject tenant with expired subscription","status":"passed","title":"should reject tenant with expired subscription","duration":0.12312500000007276,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Tenant Validation"],"fullName":"Tenant Resolver Tenant Validation should reject tenant with subscription_status = cancelled","status":"passed","title":"should reject tenant with subscription_status = cancelled","duration":0.15442299999995157,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Tenant Validation"],"fullName":"Tenant Resolver Tenant Validation should accept tenant with subscription_status = trialing","status":"passed","title":"should accept tenant with subscription_status = trialing","duration":0.23456800000008116,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Tenant Validation"],"fullName":"Tenant Resolver Tenant Validation should reject tenant with expired subscription_expires_at","status":"passed","title":"should reject tenant with expired subscription_expires_at","duration":0.23056399999995847,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy Precedence"],"fullName":"Tenant Resolver Strategy Precedence should prioritize explicit headers over subdomain","status":"passed","title":"should prioritize explicit headers over subdomain","duration":0.18823299999985466,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy Precedence"],"fullName":"Tenant Resolver Strategy Precedence should prioritize subdomain over path","status":"passed","title":"should prioritize subdomain over path","duration":0.25821700000005876,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Strategy Precedence"],"fullName":"Tenant Resolver Strategy Precedence should fall back to path if subdomain not found","status":"passed","title":"should fall back to path if subdomain not found","duration":0.23143099999992955,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Development Default Strategy"],"fullName":"Tenant Resolver Development Default Strategy should use default tenant in dev mode with allowDevDefault","status":"passed","title":"should use default tenant in dev mode with allowDevDefault","duration":1.379818000000114,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Development Default Strategy"],"fullName":"Tenant Resolver Development Default Strategy should NOT use default tenant if allowDevDefault is false","status":"passed","title":"should NOT use default tenant if allowDevDefault is false","duration":0.22701200000005883,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Development Default Strategy"],"fullName":"Tenant Resolver Development Default Strategy should NOT use default tenant for non-localhost hostname","status":"passed","title":"should NOT use default tenant for non-localhost hostname","duration":0.19504299999994146,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Cache Statistics"],"fullName":"Tenant Resolver Cache Statistics should track cache hits and misses","status":"passed","title":"should track cache hits and misses","duration":0.5108600000000934,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Cache Statistics"],"fullName":"Tenant Resolver Cache Statistics should calculate hit ratio correctly","status":"passed","title":"should calculate hit ratio correctly","duration":0.2720950000000357,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Error Handling"],"fullName":"Tenant Resolver Error Handling should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":0.4372399999999743,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Error Handling"],"fullName":"Tenant Resolver Error Handling should return not-found for completely invalid request","status":"failed","title":"should return not-found for completely invalid request","duration":2.485683999999992,"failureMessages":["AssertionError: expected { id: 1, name: 'ACME Corp', (13) } to be null\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/tenant/__tests__/resolver.test.ts:560:29\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Tenant Resolver","Log Tenant Resolution"],"fullName":"Tenant Resolver Log Tenant Resolution should log tenant resolution with full context","status":"passed","title":"should log tenant resolution with full context","duration":1.0478060000000369,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Log Tenant Resolution"],"fullName":"Tenant Resolver Log Tenant Resolution should handle null tenant in logging","status":"passed","title":"should handle null tenant in logging","duration":0.4637560000001031,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Log Tenant Resolution"],"fullName":"Tenant Resolver Log Tenant Resolution should truncate long user agents in logs","status":"passed","title":"should truncate long user agents in logs","duration":0.3494060000000445,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Multi-key Caching"],"fullName":"Tenant Resolver Multi-key Caching should cache tenant by all keys (id, slug, domain)","status":"passed","title":"should cache tenant by all keys (id, slug, domain)","duration":0.24212600000009843,"failureMessages":[],"meta":{}},{"ancestorTitles":["Tenant Resolver","Multi-key Caching"],"fullName":"Tenant Resolver Multi-key Caching should share cache between subdomain and path lookups","status":"passed","title":"should share cache between subdomain and path lookups","duration":0.1926939999998467,"failureMessages":[],"meta":{}}],"startTime":1771180417920,"endTime":1771180417947.2422,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/tenant/__tests__/resolver.test.ts"},{"assertionResults":[{"ancestorTitles":["Duplicate Ticket Detector","Basic Duplicate Detection"],"fullName":"Duplicate Ticket Detector Basic Duplicate Detection should detect exact duplicates","status":"passed","title":"should detect exact duplicates","duration":3.1570670000000973,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Basic Duplicate Detection"],"fullName":"Duplicate Ticket Detector Basic Duplicate Detection should detect near duplicates with minor variations","status":"passed","title":"should detect near duplicates with minor variations","duration":0.5576790000000074,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Basic Duplicate Detection"],"fullName":"Duplicate Ticket Detector Basic Duplicate Detection should not flag completely different tickets as duplicates","status":"failed","title":"should not flag completely different tickets as duplicates","duration":7.843119999999999,"failureMessages":["AssertionError: expected undefined to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/tickets/__tests__/duplicate-detector.test.ts:268:34\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Similarity Scoring"],"fullName":"Duplicate Ticket Detector Similarity Scoring should return higher scores for more similar tickets","status":"passed","title":"should return higher scores for more similar tickets","duration":0.46823799999992843,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Similarity Scoring"],"fullName":"Duplicate Ticket Detector Similarity Scoring should weight title similarity heavily","status":"passed","title":"should weight title similarity heavily","duration":0.33798400000000584,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Match Reasons"],"fullName":"Duplicate Ticket Detector Match Reasons should provide match reasons for duplicates","status":"passed","title":"should provide match reasons for duplicates","duration":0.4194929999998749,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Match Reasons"],"fullName":"Duplicate Ticket Detector Match Reasons should identify exact title matches","status":"passed","title":"should identify exact title matches","duration":0.2541640000001735,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Suggested Actions"],"fullName":"Duplicate Ticket Detector Suggested Actions should suggest auto-merge for very high similarity","status":"passed","title":"should suggest auto-merge for very high similarity","duration":0.4859839999999167,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Suggested Actions"],"fullName":"Duplicate Ticket Detector Suggested Actions should suggest manual review for medium similarity","status":"passed","title":"should suggest manual review for medium similarity","duration":0.29663299999992887,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Suggested Actions"],"fullName":"Duplicate Ticket Detector Suggested Actions should proceed normally for low similarity","status":"passed","title":"should proceed normally for low similarity","duration":0.2916539999998804,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Edge Cases"],"fullName":"Duplicate Ticket Detector Edge Cases should handle empty ticket list","status":"failed","title":"should handle empty ticket list","duration":0.7289690000000064,"failureMessages":["AssertionError: expected undefined to be false // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/tickets/__tests__/duplicate-detector.test.ts:465:34\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Edge Cases"],"fullName":"Duplicate Ticket Detector Edge Cases should handle very short descriptions","status":"passed","title":"should handle very short descriptions","duration":0.2398800000000847,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Edge Cases"],"fullName":"Duplicate Ticket Detector Edge Cases should handle special characters","status":"passed","title":"should handle special characters","duration":0.29815400000006775,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Edge Cases"],"fullName":"Duplicate Ticket Detector Edge Cases should be case-insensitive","status":"passed","title":"should be case-insensitive","duration":0.29670499999997446,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Edge Cases"],"fullName":"Duplicate Ticket Detector Edge Cases should handle large number of existing tickets efficiently","status":"passed","title":"should handle large number of existing tickets efficiently","duration":1.0649879999998575,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Configuration"],"fullName":"Duplicate Ticket Detector Configuration should respect custom duplicate threshold","status":"passed","title":"should respect custom duplicate threshold","duration":0.2663480000001073,"failureMessages":[],"meta":{}},{"ancestorTitles":["Duplicate Ticket Detector","Configuration"],"fullName":"Duplicate Ticket Detector Configuration should allow lenient duplicate detection","status":"passed","title":"should allow lenient duplicate detection","duration":0.2108490000000529,"failureMessages":[],"meta":{}}],"startTime":1771180417836,"endTime":1771180417854.2664,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/tickets/__tests__/duplicate-detector.test.ts"},{"assertionResults":[{"ancestorTitles":["Common Schemas","id"],"fullName":"Common Schemas id should accept positive integers","status":"passed","title":"should accept positive integers","duration":2.010671000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","id"],"fullName":"Common Schemas id should reject zero and negative numbers","status":"passed","title":"should reject zero and negative numbers","duration":1.6851400000000467,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","id"],"fullName":"Common Schemas id should reject non-integers","status":"passed","title":"should reject non-integers","duration":0.6979230000000598,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","email"],"fullName":"Common Schemas email should accept valid emails","status":"passed","title":"should accept valid emails","duration":0.6012309999999843,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","email"],"fullName":"Common Schemas email should reject invalid emails","status":"passed","title":"should reject invalid emails","duration":0.7408429999999271,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","slug"],"fullName":"Common Schemas slug should accept valid slugs","status":"passed","title":"should accept valid slugs","duration":0.3035029999999779,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","slug"],"fullName":"Common Schemas slug should reject invalid slugs","status":"passed","title":"should reject invalid slugs","duration":0.7520629999999073,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","password"],"fullName":"Common Schemas password should accept strong passwords","status":"passed","title":"should accept strong passwords","duration":0.41021599999999125,"failureMessages":[],"meta":{}},{"ancestorTitles":["Common Schemas","password"],"fullName":"Common Schemas password should reject weak passwords","status":"passed","title":"should reject weak passwords","duration":1.0726849999999786,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Schemas","create"],"fullName":"User Schemas create should validate correct user creation data","status":"passed","title":"should validate correct user creation data","duration":2.8360669999999573,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Schemas","create"],"fullName":"User Schemas create should reject invalid role","status":"passed","title":"should reject invalid role","duration":0.7086050000000341,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Schemas","create"],"fullName":"User Schemas create should reject missing required fields","status":"passed","title":"should reject missing required fields","duration":0.5020029999999451,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Schemas","login"],"fullName":"User Schemas login should validate login credentials","status":"passed","title":"should validate login credentials","duration":0.43765700000005836,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Schemas","login"],"fullName":"User Schemas login should reject invalid email","status":"passed","title":"should reject invalid email","duration":0.49326300000006995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","create"],"fullName":"Ticket Schemas create should validate ticket creation","status":"passed","title":"should validate ticket creation","duration":0.8476650000000063,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","create"],"fullName":"Ticket Schemas create should reject empty title","status":"passed","title":"should reject empty title","duration":1.2647590000000264,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","create"],"fullName":"Ticket Schemas create should reject title exceeding max length","status":"passed","title":"should reject title exceeding max length","duration":0.5629900000000134,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","create"],"fullName":"Ticket Schemas create should validate optional tags array","status":"passed","title":"should validate optional tags array","duration":0.39464300000008734,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","create"],"fullName":"Ticket Schemas create should reject too many tags","status":"passed","title":"should reject too many tags","duration":0.38723700000002736,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","update"],"fullName":"Ticket Schemas update should allow partial updates","status":"passed","title":"should allow partial updates","duration":0.8012459999999919,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","update"],"fullName":"Ticket Schemas update should require id","status":"passed","title":"should require id","duration":0.28329299999995783,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","query"],"fullName":"Ticket Schemas query should validate query parameters","status":"passed","title":"should validate query parameters","duration":0.7046890000000303,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","query"],"fullName":"Ticket Schemas query should use default values","status":"passed","title":"should use default values","duration":0.7942239999999856,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Schemas","query"],"fullName":"Ticket Schemas query should enforce limit bounds","status":"passed","title":"should enforce limit bounds","duration":0.6885420000000977,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comment Schemas","create"],"fullName":"Comment Schemas create should validate comment creation","status":"passed","title":"should validate comment creation","duration":0.6975979999999709,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comment Schemas","create"],"fullName":"Comment Schemas create should reject empty content","status":"passed","title":"should reject empty content","duration":0.4131810000000087,"failureMessages":[],"meta":{}},{"ancestorTitles":["Comment Schemas","create"],"fullName":"Comment Schemas create should reject content exceeding max length","status":"passed","title":"should reject content exceeding max length","duration":0.4057709999999588,"failureMessages":[],"meta":{}},{"ancestorTitles":["Category Schemas","create"],"fullName":"Category Schemas create should validate category creation","status":"passed","title":"should validate category creation","duration":0.5940360000000737,"failureMessages":[],"meta":{}},{"ancestorTitles":["Category Schemas","create"],"fullName":"Category Schemas create should validate hex color format","status":"passed","title":"should validate hex color format","duration":0.6298290000000861,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Schemas","create"],"fullName":"Organization Schemas create should validate organization creation","status":"passed","title":"should validate organization creation","duration":0.7247580000000653,"failureMessages":[],"meta":{}},{"ancestorTitles":["Organization Schemas","create"],"fullName":"Organization Schemas create should validate domain format","status":"passed","title":"should validate domain format","duration":1.435069999999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Schemas","create"],"fullName":"SLA Schemas create should validate SLA policy creation","status":"passed","title":"should validate SLA policy creation","duration":0.6139369999999644,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Schemas","create"],"fullName":"SLA Schemas create should enforce positive time values","status":"passed","title":"should enforce positive time values","duration":0.668570999999929,"failureMessages":[],"meta":{}},{"ancestorTitles":["Attachment Schemas","create"],"fullName":"Attachment Schemas create should validate attachment creation","status":"passed","title":"should validate attachment creation","duration":0.5838390000000118,"failureMessages":[],"meta":{}},{"ancestorTitles":["Attachment Schemas","create"],"fullName":"Attachment Schemas create should enforce max file size (50MB)","status":"passed","title":"should enforce max file size (50MB)","duration":0.30168400000002293,"failureMessages":[],"meta":{}},{"ancestorTitles":["Attachment Schemas","create"],"fullName":"Attachment Schemas create should accept files up to 50MB","status":"passed","title":"should accept files up to 50MB","duration":0.4496669999999767,"failureMessages":[],"meta":{}}],"startTime":1771180420114,"endTime":1771180420143.4497,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/validation/__tests__/schemas.test.ts"},{"assertionResults":[{"ancestorTitles":["Workflow Engine","Workflow Registration"],"fullName":"Workflow Engine Workflow Registration should register a workflow","status":"passed","title":"should register a workflow","duration":1.3056779999999435,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Registration"],"fullName":"Workflow Engine Workflow Registration should allow multiple workflows","status":"passed","title":"should allow multiple workflows","duration":0.4163530000000719,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Execution"],"fullName":"Workflow Engine Workflow Execution should execute a simple workflow","status":"passed","title":"should execute a simple workflow","duration":0.3312029999999595,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Execution"],"fullName":"Workflow Engine Workflow Execution should fail for non-existent workflow","status":"passed","title":"should fail for non-existent workflow","duration":0.8583479999999781,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Execution"],"fullName":"Workflow Engine Workflow Execution should fail for inactive workflow","status":"passed","title":"should fail for inactive workflow","duration":0.23797100000001592,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Execution"],"fullName":"Workflow Engine Workflow Execution should pass trigger data to execution","status":"passed","title":"should pass trigger data to execution","duration":0.2338849999998729,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Execution"],"fullName":"Workflow Engine Workflow Execution should handle workflow errors","status":"passed","title":"should handle workflow errors","duration":0.19925399999988258,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Trigger Conditions"],"fullName":"Workflow Engine Trigger Conditions should validate trigger conditions","status":"passed","title":"should validate trigger conditions","duration":0.2076480000000629,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Trigger Conditions"],"fullName":"Workflow Engine Trigger Conditions should support multiple trigger conditions","status":"passed","title":"should support multiple trigger conditions","duration":0.27760699999998906,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Execution Cancellation"],"fullName":"Workflow Engine Execution Cancellation should cancel a running execution","status":"failed","title":"should cancel a running execution","duration":5.326544000000013,"failureMessages":["AssertionError: expected 'completed' to be 'cancelled' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/lib/workflow/__tests__/engine.test.ts:438:33\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Node Execution"],"fullName":"Workflow Engine Workflow Node Execution should execute condition nodes","status":"passed","title":"should execute condition nodes","duration":0.9363370000000941,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Node Execution"],"fullName":"Workflow Engine Workflow Node Execution should execute action nodes","status":"passed","title":"should execute action nodes","duration":0.27164300000004005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Workflow Node Execution"],"fullName":"Workflow Engine Workflow Node Execution should follow conditional edges","status":"passed","title":"should follow conditional edges","duration":0.5870820000000094,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Execution State Management"],"fullName":"Workflow Engine Execution State Management should track execution status","status":"passed","title":"should track execution status","duration":0.36614399999984926,"failureMessages":[],"meta":{}},{"ancestorTitles":["Workflow Engine","Execution State Management"],"fullName":"Workflow Engine Execution State Management should retrieve execution by ID","status":"passed","title":"should retrieve execution by ID","duration":0.19194500000003245,"failureMessages":[],"meta":{}}],"startTime":1771180417763,"endTime":1771180417775.192,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/workflow/__tests__/engine.test.ts"},{"assertionResults":[],"startTime":1771180416391,"endTime":1771180416391,"status":"failed","message":"Cannot find module './persistence-adapter'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/lib/workflow/engine.ts","name":"/home/nic20/ProjetosWeb/ServiceDesk/lib/workflow/__tests__/executors.test.ts"},{"assertionResults":[],"startTime":1771180416391,"endTime":1771180416391,"status":"failed","message":"Cannot find module '@testing-library/dom'\nRequire stack:\n- /home/nic20/ProjetosWeb/ServiceDesk/node_modules/@testing-library/react/dist/pure.js","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/components/ui/Button.test.tsx"},{"assertionResults":[{"ancestorTitles":["AI Classifier - Unit Tests","Classifier Initialization"],"fullName":"AI Classifier - Unit Tests Classifier Initialization should require OpenAI API key","status":"passed","title":"should require OpenAI API key","duration":1.2919090000000324,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classifier Initialization"],"fullName":"AI Classifier - Unit Tests Classifier Initialization should validate API key format","status":"passed","title":"should validate API key format","duration":0.3577470000000176,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Category Classification Logic"],"fullName":"AI Classifier - Unit Tests Category Classification Logic should handle empty category list","status":"passed","title":"should handle empty category list","duration":0.3927439999999933,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Category Classification Logic"],"fullName":"AI Classifier - Unit Tests Category Classification Logic should create category mapping","status":"passed","title":"should create category mapping","duration":0.2823680000000195,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Category Classification Logic"],"fullName":"AI Classifier - Unit Tests Category Classification Logic should handle case-insensitive matching","status":"passed","title":"should handle case-insensitive matching","duration":0.24593700000002627,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Category Classification Logic"],"fullName":"AI Classifier - Unit Tests Category Classification Logic should validate category structure","status":"passed","title":"should validate category structure","duration":0.3754430000000184,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Priority Classification Logic"],"fullName":"AI Classifier - Unit Tests Priority Classification Logic should create priority mapping","status":"passed","title":"should create priority mapping","duration":0.17243899999994028,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Priority Classification Logic"],"fullName":"AI Classifier - Unit Tests Priority Classification Logic should validate priority levels","status":"passed","title":"should validate priority levels","duration":0.2549740000000611,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Priority Classification Logic"],"fullName":"AI Classifier - Unit Tests Priority Classification Logic should sort by priority level","status":"passed","title":"should sort by priority level","duration":0.25278100000002723,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Prompt Generation"],"fullName":"AI Classifier - Unit Tests Prompt Generation should create valid classification prompt","status":"passed","title":"should create valid classification prompt","duration":4.778264000000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Prompt Generation"],"fullName":"AI Classifier - Unit Tests Prompt Generation should handle special characters in prompt","status":"passed","title":"should handle special characters in prompt","duration":0.2306620000000521,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Prompt Generation"],"fullName":"AI Classifier - Unit Tests Prompt Generation should handle unicode in prompt","status":"passed","title":"should handle unicode in prompt","duration":0.13688700000000154,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Prompt Generation"],"fullName":"AI Classifier - Unit Tests Prompt Generation should limit prompt length","status":"passed","title":"should limit prompt length","duration":0.10968600000001061,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification Result Processing"],"fullName":"AI Classifier - Unit Tests Classification Result Processing should parse valid JSON response","status":"passed","title":"should parse valid JSON response","duration":0.3913310000000365,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification Result Processing"],"fullName":"AI Classifier - Unit Tests Classification Result Processing should validate confidence score range","status":"passed","title":"should validate confidence score range","duration":0.37576799999999366,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification Result Processing"],"fullName":"AI Classifier - Unit Tests Classification Result Processing should handle missing fields in response","status":"passed","title":"should handle missing fields in response","duration":0.20663700000000063,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification Result Processing"],"fullName":"AI Classifier - Unit Tests Classification Result Processing should handle malformed JSON","status":"passed","title":"should handle malformed JSON","duration":0.7363730000000714,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification Result Processing"],"fullName":"AI Classifier - Unit Tests Classification Result Processing should map category name to ID","status":"passed","title":"should map category name to ID","duration":0.18019599999990987,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification Result Processing"],"fullName":"AI Classifier - Unit Tests Classification Result Processing should handle category name not found","status":"passed","title":"should handle category name not found","duration":0.10689300000001367,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Confidence Score Analysis"],"fullName":"AI Classifier - Unit Tests Confidence Score Analysis should categorize confidence levels","status":"passed","title":"should categorize confidence levels","duration":0.16194999999993342,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Confidence Score Analysis"],"fullName":"AI Classifier - Unit Tests Confidence Score Analysis should round confidence to 2 decimal places","status":"passed","title":"should round confidence to 2 decimal places","duration":0.1351160000000391,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Confidence Score Analysis"],"fullName":"AI Classifier - Unit Tests Confidence Score Analysis should handle edge cases","status":"passed","title":"should handle edge cases","duration":0.18270099999995182,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Error Handling"],"fullName":"AI Classifier - Unit Tests Error Handling should handle API timeout scenarios","status":"passed","title":"should handle API timeout scenarios","duration":0.13337699999999586,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Error Handling"],"fullName":"AI Classifier - Unit Tests Error Handling should handle rate limit errors","status":"passed","title":"should handle rate limit errors","duration":0.06911200000001827,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Error Handling"],"fullName":"AI Classifier - Unit Tests Error Handling should handle invalid API key errors","status":"passed","title":"should handle invalid API key errors","duration":0.05404299999997875,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Error Handling"],"fullName":"AI Classifier - Unit Tests Error Handling should handle network errors gracefully","status":"passed","title":"should handle network errors gracefully","duration":0.190291000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Performance Metrics"],"fullName":"AI Classifier - Unit Tests Performance Metrics should track processing time","status":"passed","title":"should track processing time","duration":0.09352799999999206,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Performance Metrics"],"fullName":"AI Classifier - Unit Tests Performance Metrics should measure response time in milliseconds","status":"passed","title":"should measure response time in milliseconds","duration":0.13695900000004713,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Performance Metrics"],"fullName":"AI Classifier - Unit Tests Performance Metrics should calculate average processing time","status":"passed","title":"should calculate average processing time","duration":0.09203200000001743,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification History"],"fullName":"AI Classifier - Unit Tests Classification History should structure classification record","status":"passed","title":"should structure classification record","duration":0.535425000000032,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Classification History"],"fullName":"AI Classifier - Unit Tests Classification History should validate record timestamps","status":"passed","title":"should validate record timestamps","duration":0.14098899999999048,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Input Validation"],"fullName":"AI Classifier - Unit Tests Input Validation should reject empty title","status":"passed","title":"should reject empty title","duration":0.09514200000000983,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Input Validation"],"fullName":"AI Classifier - Unit Tests Input Validation should reject empty description","status":"passed","title":"should reject empty description","duration":0.059663000000000466,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Input Validation"],"fullName":"AI Classifier - Unit Tests Input Validation should trim whitespace from inputs","status":"passed","title":"should trim whitespace from inputs","duration":0.07535699999993994,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Input Validation"],"fullName":"AI Classifier - Unit Tests Input Validation should validate organization ID","status":"passed","title":"should validate organization ID","duration":0.18540699999994104,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Input Validation"],"fullName":"AI Classifier - Unit Tests Input Validation should sanitize HTML from inputs","status":"passed","title":"should sanitize HTML from inputs","duration":0.36264300000004823,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Model Configuration"],"fullName":"AI Classifier - Unit Tests Model Configuration should use correct model version","status":"passed","title":"should use correct model version","duration":0.10107200000004468,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Model Configuration"],"fullName":"AI Classifier - Unit Tests Model Configuration should set appropriate temperature","status":"passed","title":"should set appropriate temperature","duration":0.10500200000001314,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Model Configuration"],"fullName":"AI Classifier - Unit Tests Model Configuration should enforce JSON response format","status":"passed","title":"should enforce JSON response format","duration":0.0661169999999629,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Classifier - Unit Tests","Model Configuration"],"fullName":"AI Classifier - Unit Tests Model Configuration should configure system message","status":"passed","title":"should configure system message","duration":0.08685200000002169,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Sentiment Detection"],"fullName":"Sentiment Analysis - Unit Tests Sentiment Detection should identify positive sentiment indicators","status":"passed","title":"should identify positive sentiment indicators","duration":0.11771999999996297,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Sentiment Detection"],"fullName":"Sentiment Analysis - Unit Tests Sentiment Detection should identify negative sentiment indicators","status":"passed","title":"should identify negative sentiment indicators","duration":0.08762400000000525,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Sentiment Detection"],"fullName":"Sentiment Analysis - Unit Tests Sentiment Detection should identify neutral sentiment","status":"passed","title":"should identify neutral sentiment","duration":0.6599200000000565,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Sentiment Scoring"],"fullName":"Sentiment Analysis - Unit Tests Sentiment Scoring should score sentiment between -1 and 1","status":"passed","title":"should score sentiment between -1 and 1","duration":0.2904089999999542,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Sentiment Scoring"],"fullName":"Sentiment Analysis - Unit Tests Sentiment Scoring should categorize sentiment by score","status":"passed","title":"should categorize sentiment by score","duration":0.14041099999997186,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Urgency Detection"],"fullName":"Sentiment Analysis - Unit Tests Urgency Detection should detect urgent keywords","status":"passed","title":"should detect urgent keywords","duration":0.18572499999993397,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Urgency Detection"],"fullName":"Sentiment Analysis - Unit Tests Urgency Detection should detect all caps as urgency indicator","status":"passed","title":"should detect all caps as urgency indicator","duration":0.16921800000000076,"failureMessages":[],"meta":{}},{"ancestorTitles":["Sentiment Analysis - Unit Tests","Urgency Detection"],"fullName":"Sentiment Analysis - Unit Tests Urgency Detection should detect multiple exclamation marks","status":"passed","title":"should detect multiple exclamation marks","duration":0.10620700000004035,"failureMessages":[],"meta":{}}],"startTime":1771180420236,"endTime":1771180420253.1858,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/lib/ai/classifier.test.ts"},{"assertionResults":[{"ancestorTitles":["Base Validation Schemas","Pagination Schema"],"fullName":"Base Validation Schemas Pagination Schema should validate valid pagination params","status":"passed","title":"should validate valid pagination params","duration":2.3150830000000724,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Pagination Schema"],"fullName":"Base Validation Schemas Pagination Schema should use default values","status":"passed","title":"should use default values","duration":0.3916679999999815,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Pagination Schema"],"fullName":"Base Validation Schemas Pagination Schema should reject invalid page number","status":"passed","title":"should reject invalid page number","duration":0.8023689999999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Pagination Schema"],"fullName":"Base Validation Schemas Pagination Schema should reject limit above maximum","status":"passed","title":"should reject limit above maximum","duration":0.31608700000003864,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Pagination Schema"],"fullName":"Base Validation Schemas Pagination Schema should coerce string numbers to integers","status":"passed","title":"should coerce string numbers to integers","duration":0.19033699999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Pagination Schema"],"fullName":"Base Validation Schemas Pagination Schema should validate order enum","status":"passed","title":"should validate order enum","duration":0.39578499999993255,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Search Schema"],"fullName":"Base Validation Schemas Search Schema should validate valid search query","status":"passed","title":"should validate valid search query","duration":0.5353289999999333,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Search Schema"],"fullName":"Base Validation Schemas Search Schema should reject empty query","status":"passed","title":"should reject empty query","duration":0.3320220000000518,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Search Schema"],"fullName":"Base Validation Schemas Search Schema should reject query exceeding max length","status":"passed","title":"should reject query exceeding max length","duration":0.27896499999997104,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Search Schema"],"fullName":"Base Validation Schemas Search Schema should trim whitespace","status":"passed","title":"should trim whitespace","duration":0.20233500000006188,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Search Schema"],"fullName":"Base Validation Schemas Search Schema should allow optional fields and filters","status":"passed","title":"should allow optional fields and filters","duration":0.32097699999997076,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","ID Parameter Schema"],"fullName":"Base Validation Schemas ID Parameter Schema should validate positive integer ID","status":"passed","title":"should validate positive integer ID","duration":0.33571999999992386,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","ID Parameter Schema"],"fullName":"Base Validation Schemas ID Parameter Schema should coerce string to number","status":"passed","title":"should coerce string to number","duration":0.1484090000000151,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","ID Parameter Schema"],"fullName":"Base Validation Schemas ID Parameter Schema should reject zero","status":"passed","title":"should reject zero","duration":0.3950960000000805,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","ID Parameter Schema"],"fullName":"Base Validation Schemas ID Parameter Schema should reject negative numbers","status":"passed","title":"should reject negative numbers","duration":0.24755500000003394,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","ID Parameter Schema"],"fullName":"Base Validation Schemas ID Parameter Schema should reject non-integer","status":"passed","title":"should reject non-integer","duration":0.3130300000000261,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Slug Parameter Schema"],"fullName":"Base Validation Schemas Slug Parameter Schema should validate valid slug","status":"passed","title":"should validate valid slug","duration":0.41593999999997777,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Slug Parameter Schema"],"fullName":"Base Validation Schemas Slug Parameter Schema should reject uppercase letters","status":"passed","title":"should reject uppercase letters","duration":0.325992000000042,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Slug Parameter Schema"],"fullName":"Base Validation Schemas Slug Parameter Schema should reject spaces","status":"passed","title":"should reject spaces","duration":0.22199299999999766,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Slug Parameter Schema"],"fullName":"Base Validation Schemas Slug Parameter Schema should reject special characters","status":"passed","title":"should reject special characters","duration":0.17584499999998116,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Slug Parameter Schema"],"fullName":"Base Validation Schemas Slug Parameter Schema should accept numbers and hyphens","status":"passed","title":"should accept numbers and hyphens","duration":0.10602600000004259,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Slug Parameter Schema"],"fullName":"Base Validation Schemas Slug Parameter Schema should reject empty slug","status":"passed","title":"should reject empty slug","duration":0.23677299999997103,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Slug Parameter Schema"],"fullName":"Base Validation Schemas Slug Parameter Schema should reject slug exceeding max length","status":"passed","title":"should reject slug exceeding max length","duration":0.1736350000001039,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Date Range Schema"],"fullName":"Base Validation Schemas Date Range Schema should validate valid date range","status":"passed","title":"should validate valid date range","duration":9.90179599999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Date Range Schema"],"fullName":"Base Validation Schemas Date Range Schema should allow optional dates","status":"passed","title":"should allow optional dates","duration":0.2996489999999312,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Date Range Schema"],"fullName":"Base Validation Schemas Date Range Schema should reject end date before start date","status":"passed","title":"should reject end date before start date","duration":0.3582690000000639,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Date Range Schema"],"fullName":"Base Validation Schemas Date Range Schema should accept same start and end date","status":"passed","title":"should accept same start and end date","duration":0.15708500000005188,"failureMessages":[],"meta":{}},{"ancestorTitles":["Base Validation Schemas","Date Range Schema"],"fullName":"Base Validation Schemas Date Range Schema should reject invalid date format","status":"passed","title":"should reject invalid date format","duration":0.3689279999999826,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should validate valid registration data","status":"passed","title":"should validate valid registration data","duration":0.7322589999999991,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should reject weak password (no uppercase)","status":"passed","title":"should reject weak password (no uppercase)","duration":0.41451600000004873,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should reject weak password (no special char)","status":"passed","title":"should reject weak password (no special char)","duration":0.20155099999999493,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should reject short password","status":"passed","title":"should reject short password","duration":0.18434700000000248,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should reject invalid email","status":"passed","title":"should reject invalid email","duration":0.22700899999995272,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should convert email to lowercase","status":"passed","title":"should convert email to lowercase","duration":0.17737799999997605,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should trim name whitespace","status":"passed","title":"should trim name whitespace","duration":0.16765700000007655,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should use default role","status":"passed","title":"should use default role","duration":0.1784220000000687,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should reject invalid role","status":"passed","title":"should reject invalid role","duration":0.22893199999998615,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should reject name too short","status":"passed","title":"should reject name too short","duration":0.2541720000000396,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Register Schema"],"fullName":"User Validation Schemas Register Schema should reject name too long","status":"passed","title":"should reject name too long","duration":0.2647389999999632,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Login Schema"],"fullName":"User Validation Schemas Login Schema should validate valid login credentials","status":"passed","title":"should validate valid login credentials","duration":0.4462300000000141,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Login Schema"],"fullName":"User Validation Schemas Login Schema should use default rememberMe","status":"passed","title":"should use default rememberMe","duration":0.17884799999990264,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Login Schema"],"fullName":"User Validation Schemas Login Schema should validate 2FA code if provided","status":"passed","title":"should validate 2FA code if provided","duration":0.18568499999992127,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Login Schema"],"fullName":"User Validation Schemas Login Schema should reject invalid 2FA code length","status":"passed","title":"should reject invalid 2FA code length","duration":0.23854800000003706,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Login Schema"],"fullName":"User Validation Schemas Login Schema should convert email to lowercase","status":"passed","title":"should convert email to lowercase","duration":0.14526999999998225,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Change Password Schema"],"fullName":"User Validation Schemas Change Password Schema should validate matching passwords","status":"passed","title":"should validate matching passwords","duration":0.40741400000001704,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Change Password Schema"],"fullName":"User Validation Schemas Change Password Schema should reject non-matching passwords","status":"passed","title":"should reject non-matching passwords","duration":0.21575900000004822,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Validation Schemas","Change Password Schema"],"fullName":"User Validation Schemas Change Password Schema should enforce strong password requirements","status":"passed","title":"should enforce strong password requirements","duration":0.211755999999923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should validate valid ticket data","status":"passed","title":"should validate valid ticket data","duration":0.5747119999999768,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should reject title too short","status":"passed","title":"should reject title too short","duration":0.3307489999999689,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should reject description too short","status":"passed","title":"should reject description too short","duration":0.2541360000000168,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should validate tags array","status":"passed","title":"should validate tags array","duration":0.22981399999991936,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should reject too many tags","status":"passed","title":"should reject too many tags","duration":0.21887699999990673,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should trim title and description","status":"passed","title":"should trim title and description","duration":0.13149199999998018,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should allow optional assignedTo","status":"passed","title":"should allow optional assignedTo","duration":0.09412800000006882,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Create Ticket Schema"],"fullName":"Ticket Validation Schemas Create Ticket Schema should allow custom fields","status":"passed","title":"should allow custom fields","duration":0.12671899999998004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Bulk Update Schema"],"fullName":"Ticket Validation Schemas Bulk Update Schema should validate bulk update","status":"passed","title":"should validate bulk update","duration":0.6037359999999126,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Bulk Update Schema"],"fullName":"Ticket Validation Schemas Bulk Update Schema should reject empty ticket IDs","status":"passed","title":"should reject empty ticket IDs","duration":0.20142999999995936,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Bulk Update Schema"],"fullName":"Ticket Validation Schemas Bulk Update Schema should reject too many ticket IDs","status":"passed","title":"should reject too many ticket IDs","duration":0.36311399999999594,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Validation Schemas","Bulk Update Schema"],"fullName":"Ticket Validation Schemas Bulk Update Schema should allow nullable assignedTo","status":"passed","title":"should allow nullable assignedTo","duration":0.13953700000001845,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","File Upload Schema"],"fullName":"File Validation Schemas File Upload Schema should validate valid file upload","status":"passed","title":"should validate valid file upload","duration":0.5429040000000214,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","File Upload Schema"],"fullName":"File Validation Schemas File Upload Schema should reject file too large","status":"passed","title":"should reject file too large","duration":0.33039399999995567,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","File Upload Schema"],"fullName":"File Validation Schemas File Upload Schema should reject invalid mime type","status":"passed","title":"should reject invalid mime type","duration":0.24408700000003591,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","File Upload Schema"],"fullName":"File Validation Schemas File Upload Schema should reject invalid filename characters","status":"passed","title":"should reject invalid filename characters","duration":0.17203799999992953,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","File Upload Schema"],"fullName":"File Validation Schemas File Upload Schema should accept valid filename patterns","status":"passed","title":"should accept valid filename patterns","duration":0.38131299999997736,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","File Upload Schema"],"fullName":"File Validation Schemas File Upload Schema should allow optional checksum","status":"passed","title":"should allow optional checksum","duration":0.10445600000002742,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","Batch Upload Schema"],"fullName":"File Validation Schemas Batch Upload Schema should validate batch upload","status":"passed","title":"should validate batch upload","duration":0.4505589999999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","Batch Upload Schema"],"fullName":"File Validation Schemas Batch Upload Schema should reject too many files","status":"passed","title":"should reject too many files","duration":0.4493320000000267,"failureMessages":[],"meta":{}},{"ancestorTitles":["File Validation Schemas","Batch Upload Schema"],"fullName":"File Validation Schemas Batch Upload Schema should reject empty file array","status":"passed","title":"should reject empty file array","duration":0.17984599999999773,"failureMessages":[],"meta":{}},{"ancestorTitles":["Schema Registry"],"fullName":"Schema Registry should expose all schemas","status":"passed","title":"should expose all schemas","duration":0.19468399999993835,"failureMessages":[],"meta":{}},{"ancestorTitles":["Schema Registry"],"fullName":"Schema Registry should match schema definitions","status":"passed","title":"should match schema definitions","duration":0.13040699999999106,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Security"],"fullName":"Edge Cases and Security should sanitize XSS attempts in text fields","status":"passed","title":"should sanitize XSS attempts in text fields","duration":0.27265699999998105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Security"],"fullName":"Edge Cases and Security should handle SQL injection patterns safely","status":"passed","title":"should handle SQL injection patterns safely","duration":0.3222279999999955,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Security"],"fullName":"Edge Cases and Security should handle very large JSON payloads","status":"passed","title":"should handle very large JSON payloads","duration":3.1186989999999923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Security"],"fullName":"Edge Cases and Security should handle unicode and special characters","status":"passed","title":"should handle unicode and special characters","duration":0.2294800000000805,"failureMessages":[],"meta":{}}],"startTime":1771180420001,"endTime":1771180420039.2295,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/lib/api/validation.test.ts"},{"assertionResults":[{"ancestorTitles":["Password Hashing"],"fullName":"Password Hashing should hash password correctly","status":"passed","title":"should hash password correctly","duration":204.57711999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Hashing"],"fullName":"Password Hashing should generate different hashes for same password","status":"passed","title":"should generate different hashes for same password","duration":368.1135830000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Hashing"],"fullName":"Password Hashing should verify correct password","status":"passed","title":"should verify correct password","duration":356.1048430000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Hashing"],"fullName":"Password Hashing should reject incorrect password","status":"passed","title":"should reject incorrect password","duration":433.2625439999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Password Hashing"],"fullName":"Password Hashing should handle empty password","status":"passed","title":"should handle empty password","duration":214.15512200000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Token Generation and Verification"],"fullName":"JWT Token Generation and Verification should generate valid JWT token","status":"passed","title":"should generate valid JWT token","duration":14.893957000000228,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Token Generation and Verification"],"fullName":"JWT Token Generation and Verification should include user data in token payload","status":"passed","title":"should include user data in token payload","duration":1.9330570000001899,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Token Generation and Verification"],"fullName":"JWT Token Generation and Verification should verify valid token and return user","status":"passed","title":"should verify valid token and return user","duration":0.9092160000000149,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Token Generation and Verification"],"fullName":"JWT Token Generation and Verification should reject invalid token format","status":"passed","title":"should reject invalid token format","duration":4.015006000000085,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Token Generation and Verification"],"fullName":"JWT Token Generation and Verification should reject malformed token","status":"passed","title":"should reject malformed token","duration":0.3714119999999639,"failureMessages":[],"meta":{}},{"ancestorTitles":["JWT Token Generation and Verification"],"fullName":"JWT Token Generation and Verification should reject empty token","status":"passed","title":"should reject empty token","duration":0.22676599999977043,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","getUserByEmail"],"fullName":"User CRUD Operations getUserByEmail should return null for non-existent email","status":"passed","title":"should return null for non-existent email","duration":0.4542790000000423,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","getUserByEmail"],"fullName":"User CRUD Operations getUserByEmail should handle invalid email format gracefully","status":"passed","title":"should handle invalid email format gracefully","duration":0.23059799999964525,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","getUserByEmail"],"fullName":"User CRUD Operations getUserByEmail should handle empty email","status":"passed","title":"should handle empty email","duration":0.40696600000001126,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","getUserById"],"fullName":"User CRUD Operations getUserById should return null for non-existent ID","status":"passed","title":"should return null for non-existent ID","duration":0.20759700000007797,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","getUserById"],"fullName":"User CRUD Operations getUserById should handle negative ID","status":"passed","title":"should handle negative ID","duration":0.1466299999997318,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","getUserById"],"fullName":"User CRUD Operations getUserById should handle zero ID","status":"passed","title":"should handle zero ID","duration":0.16999900000018897,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","emailExists"],"fullName":"User CRUD Operations emailExists should return false for non-existent email","status":"passed","title":"should return false for non-existent email","duration":0.1410699999996723,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","emailExists"],"fullName":"User CRUD Operations emailExists should handle invalid email format","status":"passed","title":"should handle invalid email format","duration":0.09643199999982244,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","emailExists"],"fullName":"User CRUD Operations emailExists should handle empty string","status":"passed","title":"should handle empty string","duration":0.13119700000015655,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","emailExists"],"fullName":"User CRUD Operations emailExists should be case-insensitive for email check","status":"passed","title":"should be case-insensitive for email check","duration":0.1920390000000225,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","authenticateUser"],"fullName":"User CRUD Operations authenticateUser should return null for non-existent user","status":"passed","title":"should return null for non-existent user","duration":197.87553400000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","authenticateUser"],"fullName":"User CRUD Operations authenticateUser should return null for empty credentials","status":"passed","title":"should return null for empty credentials","duration":181.54281200000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","authenticateUser"],"fullName":"User CRUD Operations authenticateUser should handle SQL injection attempts safely","status":"passed","title":"should handle SQL injection attempts safely","duration":166.91975200000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","updateUserPassword"],"fullName":"User CRUD Operations updateUserPassword should return false for non-existent user","status":"passed","title":"should return false for non-existent user","duration":159.0484379999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","updateUserPassword"],"fullName":"User CRUD Operations updateUserPassword should handle invalid user ID","status":"passed","title":"should handle invalid user ID","duration":155.28730599999926,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","updateUser"],"fullName":"User CRUD Operations updateUser should return false for non-existent user","status":"passed","title":"should return false for non-existent user","duration":0.4078689999996641,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","updateUser"],"fullName":"User CRUD Operations updateUser should return false for empty updates","status":"passed","title":"should return false for empty updates","duration":0.140784000000167,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","updateUser"],"fullName":"User CRUD Operations updateUser should handle invalid user ID","status":"passed","title":"should handle invalid user ID","duration":0.20092699999986507,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","deleteUser"],"fullName":"User CRUD Operations deleteUser should return false for non-existent user","status":"passed","title":"should return false for non-existent user","duration":1.085613000000194,"failureMessages":[],"meta":{}},{"ancestorTitles":["User CRUD Operations","deleteUser"],"fullName":"User CRUD Operations deleteUser should handle invalid user ID","status":"passed","title":"should handle invalid user ID","duration":0.905547000000297,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Tests"],"fullName":"Security Tests should not expose password hash in user object","status":"passed","title":"should not expose password hash in user object","duration":155.32782599999973,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Tests"],"fullName":"Security Tests should handle SQL injection in getUserByEmail","status":"passed","title":"should handle SQL injection in getUserByEmail","duration":0.30924899999990885,"failureMessages":[],"meta":{}},{"ancestorTitles":["Security Tests"],"fullName":"Security Tests should validate JWT secret is configured","status":"passed","title":"should validate JWT secret is configured","duration":0.12751699999989796,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases"],"fullName":"Edge Cases should handle very long email addresses","status":"passed","title":"should handle very long email addresses","duration":0.16770999999971536,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases"],"fullName":"Edge Cases should handle special characters in name","status":"passed","title":"should handle special characters in name","duration":0.5956059999998615,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases"],"fullName":"Edge Cases should handle unicode characters in user data","status":"passed","title":"should handle unicode characters in user data","duration":0.205602999999428,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases"],"fullName":"Edge Cases should handle concurrent password updates","status":"passed","title":"should handle concurrent password updates","duration":152.94632400000046,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager Integration"],"fullName":"Token Manager Integration should generate tokens with proper expiration","status":"passed","title":"should generate tokens with proper expiration","duration":0.7844840000007025,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager Integration"],"fullName":"Token Manager Integration should include issuer and audience in JWT claims","status":"passed","title":"should include issuer and audience in JWT claims","duration":0.42072400000051857,"failureMessages":[],"meta":{}}],"startTime":1771180418501,"endTime":1771180421280.4207,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/lib/auth/sqlite-auth.test.ts"},{"assertionResults":[{"ancestorTitles":["Token Manager","Token Generation"],"fullName":"Token Manager Token Generation should generate a valid JWT token","status":"passed","title":"should generate a valid JWT token","duration":1.0938260000000355,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Generation"],"fullName":"Token Manager Token Generation should include required claims in token","status":"passed","title":"should include required claims in token","duration":0.3670399999999745,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Generation"],"fullName":"Token Manager Token Generation should set correct expiration time","status":"passed","title":"should set correct expiration time","duration":0.2210659999999507,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Verification"],"fullName":"Token Manager Token Verification should verify a valid token","status":"passed","title":"should verify a valid token","duration":0.17716799999993782,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Verification"],"fullName":"Token Manager Token Verification should reject an expired token","status":"passed","title":"should reject an expired token","duration":0.14894900000001599,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Verification"],"fullName":"Token Manager Token Verification should reject a malformed token","status":"passed","title":"should reject a malformed token","duration":0.5227120000000696,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token"],"fullName":"Token Manager Refresh Token should generate a refresh token","status":"passed","title":"should generate a refresh token","duration":0.2924679999999853,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Refresh Token"],"fullName":"Token Manager Refresh Token should validate refresh token format","status":"passed","title":"should validate refresh token format","duration":0.1254549999999881,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Blacklisting"],"fullName":"Token Manager Token Blacklisting should add token to blacklist on logout","status":"passed","title":"should add token to blacklist on logout","duration":0.08273099999996703,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Token Blacklisting"],"fullName":"Token Manager Token Blacklisting should check if token is blacklisted","status":"passed","title":"should check if token is blacklisted","duration":0.1595429999999851,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Role-Based Claims"],"fullName":"Token Manager Role-Based Claims should include role in token for admin users","status":"passed","title":"should include role in token for admin users","duration":0.6818540000000439,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Role-Based Claims"],"fullName":"Token Manager Role-Based Claims should include role in token for agent users","status":"passed","title":"should include role in token for agent users","duration":0.20176899999989928,"failureMessages":[],"meta":{}},{"ancestorTitles":["Token Manager","Role-Based Claims"],"fullName":"Token Manager Role-Based Claims should include role in token for regular users","status":"passed","title":"should include role in token for regular users","duration":0.13621699999998782,"failureMessages":[],"meta":{}}],"startTime":1771180420456,"endTime":1771180420461.2017,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/lib/auth/token-manager.test.ts"},{"assertionResults":[{"ancestorTitles":["Database Connection"],"fullName":"Database Connection should have a valid database connection","status":"passed","title":"should have a valid database connection","duration":1.397867000000133,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Connection"],"fullName":"Database Connection should execute simple query","status":"passed","title":"should execute simple query","duration":0.30072999999993044,"failureMessages":[],"meta":{}},{"ancestorTitles":["Database Connection"],"fullName":"Database Connection should handle errors gracefully","status":"passed","title":"should handle errors gracefully","duration":0.9097450000001572,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","SELECT operations"],"fullName":"User Queries SELECT operations should query users table structure","status":"passed","title":"should query users table structure","duration":0.5081940000000031,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","SELECT operations"],"fullName":"User Queries SELECT operations should select users with proper columns","status":"passed","title":"should select users with proper columns","duration":0.3219570000001113,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","SELECT operations"],"fullName":"User Queries SELECT operations should handle empty result set","status":"passed","title":"should handle empty result set","duration":0.6892750000001797,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","SELECT operations"],"fullName":"User Queries SELECT operations should parameterize queries safely","status":"passed","title":"should parameterize queries safely","duration":0.3161760000000413,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","SELECT operations"],"fullName":"User Queries SELECT operations should handle NULL values","status":"passed","title":"should handle NULL values","duration":0.19082800000001043,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","JOIN operations"],"fullName":"User Queries JOIN operations should join users with tickets","status":"passed","title":"should join users with tickets","duration":0.36212399999999434,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","JOIN operations"],"fullName":"User Queries JOIN operations should handle missing join relationships","status":"passed","title":"should handle missing join relationships","duration":0.302312000000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","Aggregate functions"],"fullName":"User Queries Aggregate functions should count users","status":"passed","title":"should count users","duration":0.3509030000000166,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","Aggregate functions"],"fullName":"User Queries Aggregate functions should group by role","status":"passed","title":"should group by role","duration":0.23692699999992328,"failureMessages":[],"meta":{}},{"ancestorTitles":["User Queries","Aggregate functions"],"fullName":"User Queries Aggregate functions should calculate max, min, avg","status":"passed","title":"should calculate max, min, avg","duration":0.18188099999997576,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","SELECT operations"],"fullName":"Ticket Queries SELECT operations should query tickets table","status":"passed","title":"should query tickets table","duration":0.4223090000000411,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","SELECT operations"],"fullName":"Ticket Queries SELECT operations should filter tickets by status","status":"passed","title":"should filter tickets by status","duration":0.4471410000001015,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","SELECT operations"],"fullName":"Ticket Queries SELECT operations should filter tickets by priority","status":"passed","title":"should filter tickets by priority","duration":0.4078230000000076,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","SELECT operations"],"fullName":"Ticket Queries SELECT operations should filter by date range","status":"passed","title":"should filter by date range","duration":0.25298700000007557,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","SELECT operations"],"fullName":"Ticket Queries SELECT operations should search tickets by title","status":"passed","title":"should search tickets by title","duration":0.3198029999998653,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","Complex JOIN operations"],"fullName":"Ticket Queries Complex JOIN operations should join tickets with all related tables","status":"passed","title":"should join tickets with all related tables","duration":0.4103569999999763,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","Complex JOIN operations"],"fullName":"Ticket Queries Complex JOIN operations should join tickets with comments count","status":"passed","title":"should join tickets with comments count","duration":0.2839249999999538,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","Complex JOIN operations"],"fullName":"Ticket Queries Complex JOIN operations should join tickets with attachments count","status":"passed","title":"should join tickets with attachments count","duration":0.20547499999997854,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","Pagination"],"fullName":"Ticket Queries Pagination should limit results","status":"passed","title":"should limit results","duration":0.2298439999999573,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","Pagination"],"fullName":"Ticket Queries Pagination should offset results","status":"passed","title":"should offset results","duration":0.5448770000000422,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ticket Queries","Pagination"],"fullName":"Ticket Queries Pagination should order by created_at DESC","status":"passed","title":"should order by created_at DESC","duration":0.35818499999982123,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Queries","SLA Policies"],"fullName":"SLA Tracking Queries SLA Policies should query sla_policies table","status":"passed","title":"should query sla_policies table","duration":0.18393799999989824,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Queries","SLA Policies"],"fullName":"SLA Tracking Queries SLA Policies should filter active policies","status":"passed","title":"should filter active policies","duration":0.24738499999989472,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Queries","SLA Policies"],"fullName":"SLA Tracking Queries SLA Policies should join policies with priorities","status":"passed","title":"should join policies with priorities","duration":0.2637640000000374,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Queries","SLA Tracking"],"fullName":"SLA Tracking Queries SLA Tracking should query sla_tracking table","status":"passed","title":"should query sla_tracking table","duration":0.22238500000003114,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Queries","SLA Tracking"],"fullName":"SLA Tracking Queries SLA Tracking should find breached SLAs","status":"passed","title":"should find breached SLAs","duration":0.4698839999998654,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Queries","SLA Tracking"],"fullName":"SLA Tracking Queries SLA Tracking should calculate SLA metrics","status":"passed","title":"should calculate SLA metrics","duration":0.38216399999987516,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics Queries","Daily Metrics"],"fullName":"Analytics Queries Daily Metrics should query analytics_daily_metrics","status":"passed","title":"should query analytics_daily_metrics","duration":0.3586119999999937,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics Queries","Daily Metrics"],"fullName":"Analytics Queries Daily Metrics should filter metrics by date range","status":"passed","title":"should filter metrics by date range","duration":0.2555879999999888,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics Queries","Agent Performance"],"fullName":"Analytics Queries Agent Performance should query agent performance metrics","status":"passed","title":"should query agent performance metrics","duration":0.2840560000001915,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics Queries","Category Distribution"],"fullName":"Analytics Queries Category Distribution should calculate ticket distribution by category","status":"passed","title":"should calculate ticket distribution by category","duration":0.21019200000000637,"failureMessages":[],"meta":{}},{"ancestorTitles":["Analytics Queries","Priority Distribution"],"fullName":"Analytics Queries Priority Distribution should calculate ticket distribution by priority","status":"passed","title":"should calculate ticket distribution by priority","duration":0.25860899999997855,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transaction Safety"],"fullName":"Transaction Safety should support transactions","status":"passed","title":"should support transactions","duration":0.5420779999999468,"failureMessages":[],"meta":{}},{"ancestorTitles":["Transaction Safety"],"fullName":"Transaction Safety should rollback on error","status":"passed","title":"should rollback on error","duration":0.23115800000005038,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance and Optimization"],"fullName":"Performance and Optimization should use prepared statements efficiently","status":"passed","title":"should use prepared statements efficiently","duration":0.16850399999998444,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance and Optimization"],"fullName":"Performance and Optimization should handle large result sets","status":"passed","title":"should handle large result sets","duration":0.5463720000000194,"failureMessages":[],"meta":{}},{"ancestorTitles":["Performance and Optimization"],"fullName":"Performance and Optimization should use indexes for common queries","status":"passed","title":"should use indexes for common queries","duration":0.32934799999998177,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity"],"fullName":"Data Integrity should enforce foreign key constraints","status":"passed","title":"should enforce foreign key constraints","duration":0.1280659999999898,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity"],"fullName":"Data Integrity should have proper table constraints","status":"passed","title":"should have proper table constraints","duration":0.22787399999992886,"failureMessages":[],"meta":{}},{"ancestorTitles":["Data Integrity"],"fullName":"Data Integrity should have unique constraints where needed","status":"passed","title":"should have unique constraints where needed","duration":0.09957299999996394,"failureMessages":[],"meta":{}},{"ancestorTitles":["Query Safety and Security"],"fullName":"Query Safety and Security should prevent SQL injection in parameterized queries","status":"passed","title":"should prevent SQL injection in parameterized queries","duration":0.18209299999989526,"failureMessages":[],"meta":{}},{"ancestorTitles":["Query Safety and Security"],"fullName":"Query Safety and Security should handle special characters safely","status":"passed","title":"should handle special characters safely","duration":0.18232299999999668,"failureMessages":[],"meta":{}},{"ancestorTitles":["Query Safety and Security"],"fullName":"Query Safety and Security should handle unicode characters","status":"passed","title":"should handle unicode characters","duration":0.07983899999999267,"failureMessages":[],"meta":{}},{"ancestorTitles":["Query Safety and Security"],"fullName":"Query Safety and Security should handle NULL values in parameters","status":"passed","title":"should handle NULL values in parameters","duration":0.2061949999999797,"failureMessages":[],"meta":{}},{"ancestorTitles":["Date and Time Handling"],"fullName":"Date and Time Handling should handle datetime functions","status":"passed","title":"should handle datetime functions","duration":0.21772299999997813,"failureMessages":[],"meta":{}},{"ancestorTitles":["Date and Time Handling"],"fullName":"Date and Time Handling should handle date comparisons","status":"passed","title":"should handle date comparisons","duration":0.15827899999999318,"failureMessages":[],"meta":{}},{"ancestorTitles":["Date and Time Handling"],"fullName":"Date and Time Handling should format dates correctly","status":"passed","title":"should format dates correctly","duration":0.595433999999841,"failureMessages":[],"meta":{}}],"startTime":1771180420324,"endTime":1771180420342.5955,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/lib/db/queries.test.ts"},{"assertionResults":[{"ancestorTitles":["Business Hours Calculations","isBusinessHours"],"fullName":"Business Hours Calculations isBusinessHours should return true for weekday business hours (9 AM)","status":"passed","title":"should return true for weekday business hours (9 AM)","duration":2.125141999999869,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","isBusinessHours"],"fullName":"Business Hours Calculations isBusinessHours should return false for weekend","status":"passed","title":"should return false for weekend","duration":0.3057459999999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","isBusinessHours"],"fullName":"Business Hours Calculations isBusinessHours should return false for after hours (7 PM)","status":"passed","title":"should return false for after hours (7 PM)","duration":0.30847899999980655,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","isBusinessHours"],"fullName":"Business Hours Calculations isBusinessHours should return false for before hours (6 AM)","status":"passed","title":"should return false for before hours (6 AM)","duration":0.24752300000000105,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","isBusinessHours"],"fullName":"Business Hours Calculations isBusinessHours should handle midnight correctly","status":"passed","title":"should handle midnight correctly","duration":0.22417399999994814,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","isBusinessHours"],"fullName":"Business Hours Calculations isBusinessHours should handle edge case at business start time","status":"passed","title":"should handle edge case at business start time","duration":0.10967600000003586,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","isBusinessHours"],"fullName":"Business Hours Calculations isBusinessHours should handle edge case at business end time","status":"passed","title":"should handle edge case at business end time","duration":0.49845299999992676,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","getNextBusinessHour"],"fullName":"Business Hours Calculations getNextBusinessHour should return same time if already in business hours","status":"passed","title":"should return same time if already in business hours","duration":0.3959509999999682,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","getNextBusinessHour"],"fullName":"Business Hours Calculations getNextBusinessHour should advance to next business day from weekend","status":"passed","title":"should advance to next business day from weekend","duration":0.9910419999998794,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","getNextBusinessHour"],"fullName":"Business Hours Calculations getNextBusinessHour should advance to next day business start from after hours","status":"passed","title":"should advance to next day business start from after hours","duration":0.49594600000000355,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","getNextBusinessHour"],"fullName":"Business Hours Calculations getNextBusinessHour should set time to business start when before business hours","status":"passed","title":"should set time to business start when before business hours","duration":0.2206629999998313,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","getNextBusinessHour"],"fullName":"Business Hours Calculations getNextBusinessHour should handle Friday evening correctly (skip to Monday)","status":"passed","title":"should handle Friday evening correctly (skip to Monday)","duration":0.2320119999999406,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","getNextBusinessHour"],"fullName":"Business Hours Calculations getNextBusinessHour should not return a weekend day","status":"passed","title":"should not return a weekend day","duration":0.45080000000007203,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","addBusinessMinutes"],"fullName":"Business Hours Calculations addBusinessMinutes should add minutes within same business day","status":"passed","title":"should add minutes within same business day","duration":0.3156850000000304,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","addBusinessMinutes"],"fullName":"Business Hours Calculations addBusinessMinutes should skip non-business hours when adding minutes","status":"passed","title":"should skip non-business hours when adding minutes","duration":0.1378310000000056,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","addBusinessMinutes"],"fullName":"Business Hours Calculations addBusinessMinutes should handle zero minutes","status":"passed","title":"should handle zero minutes","duration":0.10574599999995371,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","addBusinessMinutes"],"fullName":"Business Hours Calculations addBusinessMinutes should handle large minute values spanning multiple days","status":"passed","title":"should handle large minute values spanning multiple days","duration":0.13068399999997382,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","addBusinessMinutes"],"fullName":"Business Hours Calculations addBusinessMinutes should skip weekends when spanning multiple days","status":"passed","title":"should skip weekends when spanning multiple days","duration":0.268697000000202,"failureMessages":[],"meta":{}},{"ancestorTitles":["Business Hours Calculations","addBusinessMinutes"],"fullName":"Business Hours Calculations addBusinessMinutes should start from next business hour if starting outside business hours","status":"passed","title":"should start from next business hour if starting outside business hours","duration":0.263103000000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","findApplicableSLAPolicy"],"fullName":"SLA Policy Management findApplicableSLAPolicy should return null for invalid priority ID","status":"passed","title":"should return null for invalid priority ID","duration":0.5400139999999283,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","findApplicableSLAPolicy"],"fullName":"SLA Policy Management findApplicableSLAPolicy should accept valid priority and category IDs","status":"passed","title":"should accept valid priority and category IDs","duration":0.3287239999999656,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","findApplicableSLAPolicy"],"fullName":"SLA Policy Management findApplicableSLAPolicy should prioritize specific category policies over general","status":"passed","title":"should prioritize specific category policies over general","duration":0.3193499999999858,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","findApplicableSLAPolicy"],"fullName":"SLA Policy Management findApplicableSLAPolicy should handle missing category gracefully","status":"passed","title":"should handle missing category gracefully","duration":0.19071400000007088,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","getAllSLAPolicies"],"fullName":"SLA Policy Management getAllSLAPolicies should return an array","status":"passed","title":"should return an array","duration":0.4391450000000532,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","getAllSLAPolicies"],"fullName":"SLA Policy Management getAllSLAPolicies should return policies with expected structure","status":"passed","title":"should return policies with expected structure","duration":0.5543099999999868,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","createSLAPolicy"],"fullName":"SLA Policy Management createSLAPolicy should handle valid SLA policy data","status":"passed","title":"should handle valid SLA policy data","duration":0.4472690000000057,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","createSLAPolicy"],"fullName":"SLA Policy Management createSLAPolicy should handle missing optional fields","status":"passed","title":"should handle missing optional fields","duration":0.3364689999998518,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Policy Management","createSLAPolicy"],"fullName":"SLA Policy Management createSLAPolicy should convert hours to minutes for storage","status":"passed","title":"should convert hours to minutes for storage","duration":0.2518240000001697,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","createSLATracking"],"fullName":"SLA Tracking Operations createSLATracking should handle valid ticket and policy","status":"passed","title":"should handle valid ticket and policy","duration":0.5441339999999855,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","createSLATracking"],"fullName":"SLA Tracking Operations createSLATracking should calculate due dates based on business hours setting","status":"passed","title":"should calculate due dates based on business hours setting","duration":0.3268040000000383,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","createSLATracking"],"fullName":"SLA Tracking Operations createSLATracking should handle 24/7 SLA policies","status":"passed","title":"should handle 24/7 SLA policies","duration":0.24321899999995367,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","checkSLABreaches"],"fullName":"SLA Tracking Operations checkSLABreaches should return an array","status":"passed","title":"should return an array","duration":1.1218609999998534,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","checkSLABreaches"],"fullName":"SLA Tracking Operations checkSLABreaches should return tickets with proper structure","status":"passed","title":"should return tickets with proper structure","duration":1.1039929999999458,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","checkSLAWarnings"],"fullName":"SLA Tracking Operations checkSLAWarnings should return an array","status":"passed","title":"should return an array","duration":0.5642880000000332,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","checkSLAWarnings"],"fullName":"SLA Tracking Operations checkSLAWarnings should handle custom warning minutes","status":"passed","title":"should handle custom warning minutes","duration":0.5759809999999561,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","checkSLAWarnings"],"fullName":"SLA Tracking Operations checkSLAWarnings should handle zero warning time","status":"passed","title":"should handle zero warning time","duration":0.36624400000005153,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","checkSLAWarnings"],"fullName":"SLA Tracking Operations checkSLAWarnings should handle very large warning time","status":"passed","title":"should handle very large warning time","duration":0.3991219999998066,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","markFirstResponse"],"fullName":"SLA Tracking Operations markFirstResponse should return boolean for valid ticket","status":"passed","title":"should return boolean for valid ticket","duration":0.39627599999994345,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","markFirstResponse"],"fullName":"SLA Tracking Operations markFirstResponse should handle zero response time","status":"passed","title":"should handle zero response time","duration":0.22551599999997052,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","markFirstResponse"],"fullName":"SLA Tracking Operations markFirstResponse should handle non-existent ticket","status":"passed","title":"should handle non-existent ticket","duration":0.17543799999998555,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","markFirstResponse"],"fullName":"SLA Tracking Operations markFirstResponse should handle negative response time","status":"passed","title":"should handle negative response time","duration":0.17656899999997222,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","markResolution"],"fullName":"SLA Tracking Operations markResolution should return boolean for valid ticket","status":"passed","title":"should return boolean for valid ticket","duration":0.2904040000000805,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","markResolution"],"fullName":"SLA Tracking Operations markResolution should handle non-existent ticket","status":"passed","title":"should handle non-existent ticket","duration":0.18843700000002173,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Tracking Operations","markResolution"],"fullName":"SLA Tracking Operations markResolution should handle zero resolution time","status":"passed","title":"should handle zero resolution time","duration":0.18807499999979882,"failureMessages":[],"meta":{}},{"ancestorTitles":["Escalation Logic","escalateTicket"],"fullName":"Escalation Logic escalateTicket should return boolean","status":"passed","title":"should return boolean","duration":21.75460299999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Escalation Logic","escalateTicket"],"fullName":"Escalation Logic escalateTicket should handle non-existent ticket","status":"passed","title":"should handle non-existent ticket","duration":0.31916800000021794,"failureMessages":[],"meta":{}},{"ancestorTitles":["Escalation Logic","escalateTicket"],"fullName":"Escalation Logic escalateTicket should handle different escalation types","status":"passed","title":"should handle different escalation types","duration":7.512111999999888,"failureMessages":[],"meta":{}},{"ancestorTitles":["Escalation Logic","escalateTicket"],"fullName":"Escalation Logic escalateTicket should handle empty reason","status":"passed","title":"should handle empty reason","duration":1.6632860000001983,"failureMessages":[],"meta":{}},{"ancestorTitles":["Escalation Logic","escalateTicket"],"fullName":"Escalation Logic escalateTicket should handle very long reason","status":"passed","title":"should handle very long reason","duration":2.4799980000000232,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","getSLAMetrics"],"fullName":"SLA Metrics and Reporting getSLAMetrics should return metrics without date filter","status":"passed","title":"should return metrics without date filter","duration":0.5827299999998559,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","getSLAMetrics"],"fullName":"SLA Metrics and Reporting getSLAMetrics should return metrics with date range","status":"passed","title":"should return metrics with date range","duration":0.2784160000001066,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","getSLAMetrics"],"fullName":"SLA Metrics and Reporting getSLAMetrics should include all expected metric fields","status":"passed","title":"should include all expected metric fields","duration":0.315605000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","getSLAMetrics"],"fullName":"SLA Metrics and Reporting getSLAMetrics should calculate compliance percentages correctly","status":"passed","title":"should calculate compliance percentages correctly","duration":0.37111700000014025,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","getSLAMetrics"],"fullName":"SLA Metrics and Reporting getSLAMetrics should handle empty dataset","status":"passed","title":"should handle empty dataset","duration":0.2051880000001347,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","getSLAMetrics"],"fullName":"SLA Metrics and Reporting getSLAMetrics should handle invalid date range","status":"passed","title":"should handle invalid date range","duration":0.18967399999996815,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","processSLAMonitoring"],"fullName":"SLA Metrics and Reporting processSLAMonitoring should execute without throwing errors","status":"passed","title":"should execute without throwing errors","duration":79.28739099999984,"failureMessages":[],"meta":{}},{"ancestorTitles":["SLA Metrics and Reporting","processSLAMonitoring"],"fullName":"SLA Metrics and Reporting processSLAMonitoring should handle empty warning and breach lists","status":"passed","title":"should handle empty warning and breach lists","duration":84.98259699999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Handling"],"fullName":"Edge Cases and Error Handling should handle database connection issues gracefully","status":"passed","title":"should handle database connection issues gracefully","duration":2.621026000000029,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Handling"],"fullName":"Edge Cases and Error Handling should handle concurrent SLA checks","status":"passed","title":"should handle concurrent SLA checks","duration":2.0070009999999456,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Handling"],"fullName":"Edge Cases and Error Handling should handle timezone edge cases","status":"passed","title":"should handle timezone edge cases","duration":0.5188849999999547,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Handling"],"fullName":"Edge Cases and Error Handling should handle daylight saving time transitions","status":"passed","title":"should handle daylight saving time transitions","duration":0.2545870000001287,"failureMessages":[],"meta":{}},{"ancestorTitles":["Edge Cases and Error Handling"],"fullName":"Edge Cases and Error Handling should handle year boundaries","status":"passed","title":"should handle year boundaries","duration":0.15511100000003353,"failureMessages":[],"meta":{}}],"startTime":1771180419003,"endTime":1771180419230.5188,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/lib/sla/index.test.ts"},{"assertionResults":[{"ancestorTitles":["Advanced Injection Tests - Require Running Server"],"fullName":"Advanced Injection Tests - Require Running Server integration tests require running server - see README.md","status":"skipped","title":"integration tests require running server - see README.md","failureMessages":[],"meta":{}}],"startTime":1771180416391,"endTime":1771180416391,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/advanced-injection.test.ts"},{"assertionResults":[{"ancestorTitles":["OWASP Integration Tests - Require Running Server"],"fullName":"OWASP Integration Tests - Require Running Server integration tests require running server - see README.md","status":"skipped","title":"integration tests require running server - see README.md","failureMessages":[],"meta":{}}],"startTime":1771180416391,"endTime":1771180416391,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/auth-bypass.test.ts"},{"assertionResults":[{"ancestorTitles":["OWASP Integration Tests - Require Running Server"],"fullName":"OWASP Integration Tests - Require Running Server integration tests require running server - see README.md","status":"skipped","title":"integration tests require running server - see README.md","failureMessages":[],"meta":{}}],"startTime":1771180416391,"endTime":1771180416391,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/authz-bypass.test.ts"},{"assertionResults":[{"ancestorTitles":["OWASP Integration Tests - Require Running Server"],"fullName":"OWASP Integration Tests - Require Running Server integration tests require running server - see README.md","status":"skipped","title":"integration tests require running server - see README.md","failureMessages":[],"meta":{}}],"startTime":1771180416391,"endTime":1771180416391,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/csrf.test.ts"},{"assertionResults":[{"ancestorTitles":["OWASP Integration Tests - Require Running Server"],"fullName":"OWASP Integration Tests - Require Running Server integration tests require running server - see README.md","status":"skipped","title":"integration tests require running server - see README.md","failureMessages":[],"meta":{}}],"startTime":1771180416391,"endTime":1771180416391,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/sql-injection.test.ts"},{"assertionResults":[{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should remove script tags","status":"passed","title":"should remove script tags","duration":3.662886999999955,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should remove javascript: protocol","status":"passed","title":"should remove javascript: protocol","duration":1.4761069999999563,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should remove event handlers (onclick, onmouseover, etc.)","status":"passed","title":"should remove event handlers (onclick, onmouseover, etc.)","duration":1.4601940000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should remove iframe, object, embed tags","status":"passed","title":"should remove iframe, object, embed tags","duration":1.1426919999998972,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should encode dangerous characters","status":"failed","title":"should encode dangerous characters","duration":10.028289000000086,"failureMessages":["AssertionError: expected '' to contain '&lt;'\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:74:32\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should handle vbscript: protocol","status":"passed","title":"should handle vbscript: protocol","duration":1.363984999999957,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should remove expression() CSS attacks","status":"passed","title":"should remove expression() CSS attacks","duration":3.3898589999998876,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should handle nested script tags","status":"passed","title":"should handle nested script tags","duration":0.6727860000000874,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should handle case variations","status":"passed","title":"should handle case variations","duration":2.1621479999998883,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should handle URL encoded XSS payloads","status":"passed","title":"should handle URL encoded XSS payloads","duration":0.6669349999999667,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should handle unicode/hex encoded payloads","status":"passed","title":"should handle unicode/hex encoded payloads","duration":0.44613699999990786,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - XSS Prevention"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - XSS Prevention should handle null byte injection","status":"failed","title":"should handle null byte injection","duration":3.1800089999999273,"failureMessages":["AssertionError: expected false to be true // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:139:77\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - Object Sanitization"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - Object Sanitization should sanitize nested objects","status":"passed","title":"should sanitize nested objects","duration":1.5255560000000514,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - Object Sanitization"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - Object Sanitization should sanitize arrays","status":"passed","title":"should sanitize arrays","duration":0.6019200000000637,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputSanitizer - Object Sanitization"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputSanitizer - Object Sanitization should preserve non-string values","status":"passed","title":"should preserve non-string values","duration":0.4231289999997898,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputValidator - Combined Validation"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputValidator - Combined Validation should validate and sanitize user input","status":"passed","title":"should validate and sanitize user input","duration":0.6014490000000023,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","InputValidator - Combined Validation"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) InputValidator - Combined Validation should reject invalid email with XSS","status":"passed","title":"should reject invalid email with XSS","duration":0.3640889999999217,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","sanitizeHTML - DOMPurify based"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) sanitizeHTML - DOMPurify based should strip script tags on server-side","status":"passed","title":"should strip script tags on server-side","duration":9.327510999999959,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","sanitizeHTML - DOMPurify based"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) sanitizeHTML - DOMPurify based should handle multiple script tags","status":"failed","title":"should handle multiple script tags","duration":2.832426999999825,"failureMessages":["AssertionError: expected '<script>b</script><script>c</script>' not to contain '<script'\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:247:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","sanitizeUserInput - Strict mode"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) sanitizeUserInput - Strict mode should strip all HTML on server-side","status":"failed","title":"should strip all HTML on server-side","duration":2.869229000000132,"failureMessages":["AssertionError: expected '<p>Hello</p><span>World</span>' not to contain '<'\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:257:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","sanitizeUserInput - Strict mode"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) sanitizeUserInput - Strict mode should handle dangerous HTML","status":"failed","title":"should handle dangerous HTML","duration":6.210887999999841,"failureMessages":["AssertionError: expected '<script>evil()</script>' not to contain '<script'\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:269:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","sanitizeMarkdown"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) sanitizeMarkdown should strip script tags from markdown output","status":"passed","title":"should strip script tags from markdown output","duration":2.3688079999999445,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle SVG-based XSS","status":"passed","title":"should handle SVG-based XSS","duration":0.5792209999999614,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle data: URI XSS","status":"passed","title":"should handle data: URI XSS","duration":0.29442599999993035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle base64 encoded XSS in data URI","status":"passed","title":"should handle base64 encoded XSS in data URI","duration":0.28041299999995317,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle template literal injection","status":"failed","title":"should handle template literal injection","duration":0.8596119999999701,"failureMessages":["AssertionError: expected '${alert(1)}' not to be '${alert(1)}' // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:311:36\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle import() dynamic imports","status":"passed","title":"should handle import() dynamic imports","duration":0.42053599999985636,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle meta refresh redirect","status":"passed","title":"should handle meta refresh redirect","duration":0.26921599999991486,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle link stylesheet injection","status":"passed","title":"should handle link stylesheet injection","duration":0.26125200000001314,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle form action injection","status":"passed","title":"should handle form action injection","duration":2.19290100000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle body onload","status":"passed","title":"should handle body onload","duration":0.43842800000015814,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Edge Cases and Bypass Attempts"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Edge Cases and Bypass Attempts should handle img with both onerror and src","status":"passed","title":"should handle img with both onerror and src","duration":0.2569140000000516,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <img src=x onerror=alert(1)//>","status":"passed","title":"should sanitize real-world payload: <img src=x onerror=alert(1)//>","duration":0.4406010000000151,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <svg><script>alert(1)</script></svg>","status":"passed","title":"should sanitize real-world payload: <svg><script>alert(1)</script></svg>","duration":0.31487300000003415,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <math><mtext><table><mglyph><style><img src=x onerror=alert(1)>","status":"passed","title":"should sanitize real-world payload: <math><mtext><table><mglyph><style><img src=x onerror=alert(1)>","duration":0.24321299999996882,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: \"><script>alert(String.fromCharCode(88,83,83))</script>","status":"passed","title":"should sanitize real-world payload: \"><script>alert(String.fromCharCode(88,83,83))</script>","duration":0.19145300000013776,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <img/src=\"x\"onerror=alert(1)>","status":"passed","title":"should sanitize real-world payload: <img/src=\"x\"onerror=alert(1)>","duration":2.0515760000000682,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <body onpageshow=alert(1)>","status":"passed","title":"should sanitize real-world payload: <body onpageshow=alert(1)>","duration":0.5300720000000183,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <input onfocus=alert(1) autofocus>","status":"failed","title":"should sanitize real-world payload: <input onfocus=alert(1) autofocus>","duration":1.8123909999999341,"failureMessages":["AssertionError: expected '&lt;input alert(1) autofocus&gt;' not to match /alert\\s*\\(/i\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:385:36\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:863:59\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <marquee onstart=alert(1)>","status":"passed","title":"should sanitize real-world payload: <marquee onstart=alert(1)>","duration":0.2931269999999131,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <video><source onerror=alert(1)>","status":"failed","title":"should sanitize real-world payload: <video><source onerror=alert(1)>","duration":0.8915789999998651,"failureMessages":["AssertionError: expected '&lt;video&gt;&lt;source alert(1)&gt;' not to match /alert\\s*\\(/i\n    at /home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts:385:36\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:863:59\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at runSuite (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <audio src=x onerror=alert(1)>","status":"passed","title":"should sanitize real-world payload: <audio src=x onerror=alert(1)>","duration":0.28130800000008094,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <details open ontoggle=alert(1)>","status":"passed","title":"should sanitize real-world payload: <details open ontoggle=alert(1)>","duration":0.20765699999992648,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <object data=\"javascript:alert(1)\">","status":"passed","title":"should sanitize real-world payload: <object data=\"javascript:alert(1)\">","duration":0.186877000000095,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: <embed src=\"javascript:alert(1)\">","status":"passed","title":"should sanitize real-world payload: <embed src=\"javascript:alert(1)\">","duration":0.1542979999999261,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: \"><img src=x onerror=alert(1)><\"","status":"passed","title":"should sanitize real-world payload: \"><img src=x onerror=alert(1)><\"","duration":0.2029099999999744,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Real-world XSS Payloads"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Real-world XSS Payloads should sanitize real-world payload: '><img src=x onerror=alert(1)><'","status":"passed","title":"should sanitize real-world payload: '><img src=x onerror=alert(1)><'","duration":0.1751009999998132,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Performance Tests"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Performance Tests should handle large inputs efficiently","status":"passed","title":"should handle large inputs efficiently","duration":0.3154770000001008,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cross-Site Scripting (XSS) Tests (OWASP A03)","Performance Tests"],"fullName":"Cross-Site Scripting (XSS) Tests (OWASP A03) Performance Tests should handle deeply nested objects","status":"passed","title":"should handle deeply nested objects","duration":0.3292799999999261,"failureMessages":[],"meta":{}}],"startTime":1771180418054,"endTime":1771180418127.3293,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/security/owasp/xss.test.ts"},{"assertionResults":[{"ancestorTitles":["mockAuth - Mock User Creation"],"fullName":"mockAuth - Mock User Creation should create a mock user with default values","status":"passed","title":"should create a mock user with default values","duration":2.634493999999904,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock User Creation"],"fullName":"mockAuth - Mock User Creation should create a mock user with custom values","status":"passed","title":"should create a mock user with custom values","duration":0.4746099999999842,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock User Creation"],"fullName":"mockAuth - Mock User Creation should create a mock admin user","status":"passed","title":"should create a mock admin user","duration":0.2766269999999622,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock User Creation"],"fullName":"mockAuth - Mock User Creation should create a mock agent user","status":"passed","title":"should create a mock agent user","duration":0.20938200000000506,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Token Generation"],"fullName":"mockAuth - Token Generation should generate a valid JWT token","status":"passed","title":"should generate a valid JWT token","duration":4.464850999999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Token Generation"],"fullName":"mockAuth - Token Generation should generate an admin token","status":"passed","title":"should generate an admin token","duration":1.1447840000000724,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Token Generation"],"fullName":"mockAuth - Token Generation should generate an agent token","status":"passed","title":"should generate an agent token","duration":0.8698729999998704,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Token Generation"],"fullName":"mockAuth - Token Generation should include user data in token","status":"passed","title":"should include user data in token","duration":0.8630299999999806,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Auth Headers"],"fullName":"mockAuth - Auth Headers should create auth headers with token","status":"passed","title":"should create auth headers with token","duration":0.5157819999999447,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Requests"],"fullName":"mockAuth - Mock Requests should create a basic mock request","status":"passed","title":"should create a basic mock request","duration":0.5045689999999468,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Requests"],"fullName":"mockAuth - Mock Requests should create mock request with custom options","status":"passed","title":"should create mock request with custom options","duration":0.20804100000009385,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Requests"],"fullName":"mockAuth - Mock Requests should handle headers case-insensitively","status":"passed","title":"should handle headers case-insensitively","duration":0.10446699999988596,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Requests"],"fullName":"mockAuth - Mock Requests should create authenticated request","status":"passed","title":"should create authenticated request","duration":1.0085630000000947,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Requests"],"fullName":"mockAuth - Mock Requests should create admin request","status":"passed","title":"should create admin request","duration":0.9038570000000163,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Response"],"fullName":"mockAuth - Mock Response should create a mock response","status":"passed","title":"should create a mock response","duration":0.3112100000000737,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Response"],"fullName":"mockAuth - Mock Response should create JSON response","status":"passed","title":"should create JSON response","duration":0.6068660000000818,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Response"],"fullName":"mockAuth - Mock Response should create text response","status":"passed","title":"should create text response","duration":0.1758199999999306,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Mock Response"],"fullName":"mockAuth - Mock Response should create redirect response","status":"passed","title":"should create redirect response","duration":0.12028899999995701,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - NextResponse Mock"],"fullName":"mockAuth - NextResponse Mock should mock NextResponse JSON","status":"passed","title":"should mock NextResponse JSON","duration":0.20169699999996737,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - NextResponse Mock"],"fullName":"mockAuth - NextResponse Mock should mock NextResponse with custom status","status":"passed","title":"should mock NextResponse with custom status","duration":0.1154189999999744,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Extract User from Auth"],"fullName":"mockAuth - Extract User from Auth should extract user from valid auth header","status":"passed","title":"should extract user from valid auth header","duration":1.1890889999999672,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Extract User from Auth"],"fullName":"mockAuth - Extract User from Auth should return null for invalid auth header","status":"passed","title":"should return null for invalid auth header","duration":0.13861399999996138,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Extract User from Auth"],"fullName":"mockAuth - Extract User from Auth should return null for missing Bearer prefix","status":"passed","title":"should return null for missing Bearer prefix","duration":0.08313199999997778,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Extract User from Auth"],"fullName":"mockAuth - Extract User from Auth should return null for null header","status":"passed","title":"should return null for null header","duration":0.07590600000003178,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Test Credentials"],"fullName":"mockAuth - Test Credentials should provide test credentials","status":"passed","title":"should provide test credentials","duration":0.17628899999999703,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Auth Context Setup"],"fullName":"mockAuth - Auth Context Setup should setup user auth context","status":"passed","title":"should setup user auth context","duration":0.7324770000000171,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Auth Context Setup"],"fullName":"mockAuth - Auth Context Setup should setup admin auth context","status":"passed","title":"should setup admin auth context","duration":2.6659420000000864,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Auth Context Setup"],"fullName":"mockAuth - Auth Context Setup should setup agent auth context","status":"passed","title":"should setup agent auth context","duration":0.8308520000000499,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Auth Context Setup"],"fullName":"mockAuth - Auth Context Setup should allow custom user overrides","status":"passed","title":"should allow custom user overrides","duration":0.8543890000000829,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Token Verification"],"fullName":"mockAuth - Token Verification should verify valid token structure","status":"passed","title":"should verify valid token structure","duration":0.6817790000000059,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Token Verification"],"fullName":"mockAuth - Token Verification should reject invalid token format","status":"passed","title":"should reject invalid token format","duration":0.09106999999994514,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockAuth - Token Verification"],"fullName":"mockAuth - Token Verification should reject malformed payload","status":"passed","title":"should reject malformed payload","duration":0.09415599999988444,"failureMessages":[],"meta":{}}],"startTime":1771180420635,"endTime":1771180420659.0942,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/utils/__tests__/mockAuth.test.ts"},{"assertionResults":[{"ancestorTitles":["mockDatabase - In-Memory Database"],"fullName":"mockDatabase - In-Memory Database should create an in-memory database","status":"passed","title":"should create an in-memory database","duration":3.982819999999947,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - In-Memory Database"],"fullName":"mockDatabase - In-Memory Database should enable foreign keys","status":"passed","title":"should enable foreign keys","duration":0.5255549999999403,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - In-Memory Database"],"fullName":"mockDatabase - In-Memory Database should cleanup database properly","status":"passed","title":"should cleanup database properly","duration":1.227783000000045,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Schema Initialization"],"fullName":"mockDatabase - Schema Initialization should create users table","status":"passed","title":"should create users table","duration":1.4778509999998732,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Schema Initialization"],"fullName":"mockDatabase - Schema Initialization should create tickets table","status":"passed","title":"should create tickets table","duration":1.4691330000000562,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Schema Initialization"],"fullName":"mockDatabase - Schema Initialization should create statuses table","status":"passed","title":"should create statuses table","duration":0.7598299999999654,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Schema Initialization"],"fullName":"mockDatabase - Schema Initialization should create priorities table","status":"passed","title":"should create priorities table","duration":0.8769489999999678,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Schema Initialization"],"fullName":"mockDatabase - Schema Initialization should create categories table","status":"passed","title":"should create categories table","duration":0.8832170000000588,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Seed Reference Data"],"fullName":"mockDatabase - Seed Reference Data should seed statuses","status":"passed","title":"should seed statuses","duration":1.3638679999999113,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Seed Reference Data"],"fullName":"mockDatabase - Seed Reference Data should seed priorities","status":"passed","title":"should seed priorities","duration":0.6445549999998548,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Seed Reference Data"],"fullName":"mockDatabase - Seed Reference Data should seed categories","status":"passed","title":"should seed categories","duration":0.863254999999981,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Seed Reference Data"],"fullName":"mockDatabase - Seed Reference Data should seed organizations","status":"passed","title":"should seed organizations","duration":0.7784959999999046,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock User"],"fullName":"mockDatabase - Create Mock User should create a mock user with default values","status":"passed","title":"should create a mock user with default values","duration":204.85791700000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock User"],"fullName":"mockDatabase - Create Mock User should create a mock user with custom values","status":"passed","title":"should create a mock user with custom values","duration":202.37824599999976,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock User"],"fullName":"mockDatabase - Create Mock User should hash the password","status":"passed","title":"should hash the password","duration":189.49106699999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock User"],"fullName":"mockDatabase - Create Mock User should generate unique emails for multiple users","status":"passed","title":"should generate unique emails for multiple users","duration":425.0217739999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock Ticket"],"fullName":"mockDatabase - Create Mock Ticket should create a mock ticket with default values","status":"passed","title":"should create a mock ticket with default values","duration":187.96880099999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock Ticket"],"fullName":"mockDatabase - Create Mock Ticket should create a mock ticket with custom values","status":"passed","title":"should create a mock ticket with custom values","duration":171.05742800000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock Comment"],"fullName":"mockDatabase - Create Mock Comment should create a mock comment","status":"passed","title":"should create a mock comment","duration":184.75161500000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock Comment"],"fullName":"mockDatabase - Create Mock Comment should create internal comments","status":"passed","title":"should create internal comments","duration":172.221454,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock Article"],"fullName":"mockDatabase - Create Mock Article should create a mock article","status":"passed","title":"should create a mock article","duration":178.76696200000015,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Create Mock Article"],"fullName":"mockDatabase - Create Mock Article should create unique slugs","status":"passed","title":"should create unique slugs","duration":161.86803599999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Utility Functions"],"fullName":"mockDatabase - Utility Functions should clear test data","status":"passed","title":"should clear test data","duration":312.6837150000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Utility Functions"],"fullName":"mockDatabase - Utility Functions should get record count","status":"passed","title":"should get record count","duration":459.1728579999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["mockDatabase - Setup and Cleanup"],"fullName":"mockDatabase - Setup and Cleanup should setup complete test database","status":"passed","title":"should setup complete test database","duration":0.7267199999996592,"failureMessages":[],"meta":{}}],"startTime":1771180418546,"endTime":1771180421413.7268,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/utils/__tests__/mockDatabase.test.ts"},{"assertionResults":[{"ancestorTitles":["testHelpers - Async Utilities"],"fullName":"testHelpers - Async Utilities should sleep for specified time","status":"passed","title":"should sleep for specified time","duration":101.20373100000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Async Utilities"],"fullName":"testHelpers - Async Utilities should wait for condition to be true","status":"passed","title":"should wait for condition to be true","duration":22.33115500000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Async Utilities"],"fullName":"testHelpers - Async Utilities should timeout if condition not met","status":"passed","title":"should timeout if condition not met","duration":108.12830799999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Async Utilities"],"fullName":"testHelpers - Async Utilities should execute promise with timeout","status":"passed","title":"should execute promise with timeout","duration":55.259009000000106,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Async Utilities"],"fullName":"testHelpers - Async Utilities should timeout slow promise","status":"passed","title":"should timeout slow promise","duration":50.49772400000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Retry Logic"],"fullName":"testHelpers - Retry Logic should retry failed operations","status":"passed","title":"should retry failed operations","duration":33.152630000000045,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Retry Logic"],"fullName":"testHelpers - Retry Logic should throw after max retries","status":"passed","title":"should throw after max retries","duration":11.940711999999849,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Mock Functions"],"fullName":"testHelpers - Mock Functions should create a mock function","status":"passed","title":"should create a mock function","duration":0.770701999999801,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Mock Functions"],"fullName":"testHelpers - Mock Functions should track function calls","status":"passed","title":"should track function calls","duration":2.5628609999998844,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Mock Functions"],"fullName":"testHelpers - Mock Functions should mock return value","status":"passed","title":"should mock return value","duration":0.39513799999986077,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Mock Functions"],"fullName":"testHelpers - Mock Functions should mock implementation","status":"passed","title":"should mock implementation","duration":0.21497599999997874,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Mock Functions"],"fullName":"testHelpers - Mock Functions should reset mock function","status":"passed","title":"should reset mock function","duration":0.4921590000001288,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Random Data Generation"],"fullName":"testHelpers - Random Data Generation should generate random string","status":"passed","title":"should generate random string","duration":0.5568200000000161,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Random Data Generation"],"fullName":"testHelpers - Random Data Generation should generate random email","status":"passed","title":"should generate random email","duration":0.8275820000001204,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Random Data Generation"],"fullName":"testHelpers - Random Data Generation should generate random number","status":"passed","title":"should generate random number","duration":0.2598250000000917,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Random Data Generation"],"fullName":"testHelpers - Random Data Generation should generate random boolean","status":"passed","title":"should generate random boolean","duration":0.13392100000010032,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Random Data Generation"],"fullName":"testHelpers - Random Data Generation should generate random date","status":"passed","title":"should generate random date","duration":0.3392149999999674,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Random Data Generation"],"fullName":"testHelpers - Random Data Generation should generate random UUID","status":"passed","title":"should generate random UUID","duration":0.2309770000001663,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Random Data Generation"],"fullName":"testHelpers - Random Data Generation should generate random array","status":"passed","title":"should generate random array","duration":0.285464999999931,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Schema Assertions"],"fullName":"testHelpers - Schema Assertions should validate object schema","status":"passed","title":"should validate object schema","duration":0.42701199999987693,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Schema Assertions"],"fullName":"testHelpers - Schema Assertions should assert API success response","status":"passed","title":"should assert API success response","duration":0.18045199999983197,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Schema Assertions"],"fullName":"testHelpers - Schema Assertions should assert API error response","status":"passed","title":"should assert API error response","duration":0.16256800000019211,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Error Handling"],"fullName":"testHelpers - Error Handling should expect function to throw","status":"passed","title":"should expect function to throw","duration":0.15840000000002874,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Error Handling"],"fullName":"testHelpers - Error Handling should expect async function to throw","status":"passed","title":"should expect async function to throw","duration":0.13147600000002058,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Error Handling"],"fullName":"testHelpers - Error Handling should fail if function does not throw","status":"passed","title":"should fail if function does not throw","duration":0.1852129999999761,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Date Utilities"],"fullName":"testHelpers - Date Utilities should create consistent test date","status":"passed","title":"should create consistent test date","duration":0.09851800000001276,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Date Utilities"],"fullName":"testHelpers - Date Utilities should create test date with offset","status":"passed","title":"should create test date with offset","duration":0.05372499999998581,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Date Utilities"],"fullName":"testHelpers - Date Utilities should format date for database","status":"passed","title":"should format date for database","duration":0.25142399999981535,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Date Utilities"],"fullName":"testHelpers - Date Utilities should parse database date","status":"passed","title":"should parse database date","duration":0.11685299999999188,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Object Utilities"],"fullName":"testHelpers - Object Utilities should deep clone object","status":"passed","title":"should deep clone object","duration":0.32672200000001794,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Object Utilities"],"fullName":"testHelpers - Object Utilities should compare objects ignoring fields","status":"passed","title":"should compare objects ignoring fields","duration":0.14645800000016607,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Environment Variables"],"fullName":"testHelpers - Environment Variables should get environment variable","status":"passed","title":"should get environment variable","duration":0.08618299999989176,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Environment Variables"],"fullName":"testHelpers - Environment Variables should set environment variable","status":"passed","title":"should set environment variable","duration":0.05794700000001285,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Environment Variables"],"fullName":"testHelpers - Environment Variables should delete environment variable","status":"passed","title":"should delete environment variable","duration":0.07023000000003776,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Environment Variables"],"fullName":"testHelpers - Environment Variables should execute with temporary env vars","status":"passed","title":"should execute with temporary env vars","duration":0.2311059999999543,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Console Capture"],"fullName":"testHelpers - Console Capture should capture console.log","status":"passed","title":"should capture console.log","duration":0.4381909999999607,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Console Capture"],"fullName":"testHelpers - Console Capture should capture console.error","status":"passed","title":"should capture console.error","duration":0.13932500000009895,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Console Capture"],"fullName":"testHelpers - Console Capture should capture console.warn","status":"passed","title":"should capture console.warn","duration":0.12252399999988484,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Console Capture"],"fullName":"testHelpers - Console Capture should clear captured output","status":"passed","title":"should clear captured output","duration":0.17939400000000205,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Performance Timer"],"fullName":"testHelpers - Performance Timer should measure execution time","status":"passed","title":"should measure execution time","duration":50.40848899999992,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Performance Timer"],"fullName":"testHelpers - Performance Timer should measure labeled operations","status":"passed","title":"should measure labeled operations","duration":51.69692400000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Performance Timer"],"fullName":"testHelpers - Performance Timer should measure function execution","status":"passed","title":"should measure function execution","duration":51.64141600000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["testHelpers - Performance Timer"],"fullName":"testHelpers - Performance Timer should calculate statistics","status":"passed","title":"should calculate statistics","duration":52.82720199999994,"failureMessages":[],"meta":{}}],"startTime":1771180418758,"endTime":1771180419358.8271,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/utils/__tests__/testHelpers.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should login with valid credentials","status":"passed","title":"should login with valid credentials","duration":205.77198799999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should set httpOnly auth_token cookie on successful login","status":"passed","title":"should set httpOnly auth_token cookie on successful login","duration":173.80516999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should set tenant-context cookie on successful login","status":"passed","title":"should set tenant-context cookie on successful login","duration":176.64794400000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should update last_login_at timestamp","status":"passed","title":"should update last_login_at timestamp","duration":196.21544700000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should create successful login attempt record","status":"passed","title":"should create successful login attempt record","duration":263.9795260000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should create audit log entry on successful login","status":"passed","title":"should create audit log entry on successful login","duration":265.417183,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should reset failed_login_attempts on successful login","status":"passed","title":"should reset failed_login_attempts on successful login","duration":184.92457299999978,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Successful Login"],"fullName":"POST /api/auth/login Successful Login should allow login for different roles (admin, agent, user)","status":"passed","title":"should allow login for different roles (admin, agent, user)","duration":521.7417070000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Failed Login Attempts"],"fullName":"POST /api/auth/login Failed Login Attempts should reject login with invalid password","status":"passed","title":"should reject login with invalid password","duration":155.54225300000053,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Failed Login Attempts"],"fullName":"POST /api/auth/login Failed Login Attempts should reject login with non-existent email","status":"passed","title":"should reject login with non-existent email","duration":0.9322350000002189,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Failed Login Attempts"],"fullName":"POST /api/auth/login Failed Login Attempts should increment failed_login_attempts on invalid password","status":"passed","title":"should increment failed_login_attempts on invalid password","duration":464.6581849999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Failed Login Attempts"],"fullName":"POST /api/auth/login Failed Login Attempts should create failed login attempt record","status":"passed","title":"should create failed login attempt record","duration":154.58672900000056,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Failed Login Attempts"],"fullName":"POST /api/auth/login Failed Login Attempts should return remaining attempts count","status":"passed","title":"should return remaining attempts count","duration":460.53702499999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Account Lockout"],"fullName":"POST /api/auth/login Account Lockout should lock account after 5 failed login attempts","status":"passed","title":"should lock account after 5 failed login attempts","duration":763.9658980000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Account Lockout"],"fullName":"POST /api/auth/login Account Lockout should reject login when account is locked","status":"passed","title":"should reject login when account is locked","duration":1.0336630000001605,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Account Lockout"],"fullName":"POST /api/auth/login Account Lockout should create login attempt with account_locked reason when locked","status":"passed","title":"should create login attempt with account_locked reason when locked","duration":0.5643110000000888,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Account Lockout"],"fullName":"POST /api/auth/login Account Lockout should unlock account after lock expiry time","status":"passed","title":"should unlock account after lock expiry time","duration":153.62528400000065,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Multi-Tenant Isolation"],"fullName":"POST /api/auth/login Multi-Tenant Isolation should reject login with wrong tenant","status":"passed","title":"should reject login with wrong tenant","duration":0.7310319999996864,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Multi-Tenant Isolation"],"fullName":"POST /api/auth/login Multi-Tenant Isolation should reject login when tenant_slug is missing","status":"passed","title":"should reject login when tenant_slug is missing","duration":157.67253900000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Rate Limiting"],"fullName":"POST /api/auth/login Rate Limiting should rate limit after 5 login attempts","status":"passed","title":"should rate limit after 5 login attempts","duration":2.0512130000006437,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Rate Limiting"],"fullName":"POST /api/auth/login Rate Limiting should track rate limit per IP address","status":"passed","title":"should track rate limit per IP address","duration":305.5865469999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Input Validation"],"fullName":"POST /api/auth/login Input Validation should reject login with missing email","status":"passed","title":"should reject login with missing email","duration":0.525536999999531,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Input Validation"],"fullName":"POST /api/auth/login Input Validation should reject login with missing password","status":"passed","title":"should reject login with missing password","duration":0.3218320000005406,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Input Validation"],"fullName":"POST /api/auth/login Input Validation should handle malformed JSON gracefully","status":"passed","title":"should handle malformed JSON gracefully","duration":5.234595999999328,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Security Features"],"fullName":"POST /api/auth/login Security Features should use constant-time comparison (prevent timing attacks)","status":"passed","title":"should use constant-time comparison (prevent timing attacks)","duration":152.86061900000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/login","Security Features"],"fullName":"POST /api/auth/login Security Features should not expose user existence in error messages","status":"passed","title":"should not expose user existence in error messages","duration":154.60224600000038,"failureMessages":[],"meta":{}}],"startTime":1771180418742,"endTime":1771180423668.6023,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/login.test.ts"},{"assertionResults":[{"ancestorTitles":["Profile Routes","GET /api/auth/profile","Successful Profile Retrieval"],"fullName":"Profile Routes GET /api/auth/profile Successful Profile Retrieval should get authenticated user profile","status":"failed","title":"should get authenticated user profile","duration":19.847508999999718,"failureMessages":["AssertionError: expected 404 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:87:33\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","GET /api/auth/profile","Successful Profile Retrieval"],"fullName":"Profile Routes GET /api/auth/profile Successful Profile Retrieval should not expose sensitive fields","status":"passed","title":"should not expose sensitive fields","duration":4.3836200000000645,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","GET /api/auth/profile","Successful Profile Retrieval"],"fullName":"Profile Routes GET /api/auth/profile Successful Profile Retrieval should work for all user roles","status":"failed","title":"should work for all user roles","duration":3.0410970000002635,"failureMessages":["AssertionError: expected 404 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:130:35\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","GET /api/auth/profile","Authentication Requirement"],"fullName":"Profile Routes GET /api/auth/profile Authentication Requirement should reject request without token","status":"passed","title":"should reject request without token","duration":1.0838039999998728,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","GET /api/auth/profile","Authentication Requirement"],"fullName":"Profile Routes GET /api/auth/profile Authentication Requirement should reject request with invalid token","status":"passed","title":"should reject request with invalid token","duration":1.4353779999996732,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","GET /api/auth/profile","Error Handling"],"fullName":"Profile Routes GET /api/auth/profile Error Handling should return 404 if user not found","status":"passed","title":"should return 404 if user not found","duration":2.878375999999662,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Successful Profile Update"],"fullName":"Profile Routes PUT /api/auth/profile Successful Profile Update should update user name","status":"failed","title":"should update user name","duration":3.7274710000001505,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:211:33\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Successful Profile Update"],"fullName":"Profile Routes PUT /api/auth/profile Successful Profile Update should update user email","status":"failed","title":"should update user email","duration":2.4507180000000517,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:239:33\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Successful Profile Update"],"fullName":"Profile Routes PUT /api/auth/profile Successful Profile Update should update both name and email","status":"failed","title":"should update both name and email","duration":4.808242999999948,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:267:33\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Successful Profile Update"],"fullName":"Profile Routes PUT /api/auth/profile Successful Profile Update should return updated user data","status":"failed","title":"should return updated user data","duration":2.890593000000081,"failureMessages":["AssertionError: expected undefined to be 3 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:290:25\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Validation"],"fullName":"Profile Routes PUT /api/auth/profile Validation should reject update without name","status":"passed","title":"should reject update without name","duration":2.1218009999997776,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Validation"],"fullName":"Profile Routes PUT /api/auth/profile Validation should reject update without email","status":"passed","title":"should reject update without email","duration":2.272621000000072,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Validation"],"fullName":"Profile Routes PUT /api/auth/profile Validation should reject update with empty name","status":"passed","title":"should reject update with empty name","duration":2.3894829999999274,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Validation"],"fullName":"Profile Routes PUT /api/auth/profile Validation should reject update with empty email","status":"passed","title":"should reject update with empty email","duration":1.3342980000002171,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Email Uniqueness"],"fullName":"Profile Routes PUT /api/auth/profile Email Uniqueness should reject email that belongs to another user","status":"failed","title":"should reject email that belongs to another user","duration":1.6252620000000206,"failureMessages":["AssertionError: expected 500 to be 409 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:392:33\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Email Uniqueness"],"fullName":"Profile Routes PUT /api/auth/profile Email Uniqueness should allow keeping same email","status":"failed","title":"should allow keeping same email","duration":1.5740860000000794,"failureMessages":["AssertionError: expected 500 to be 200 // Object.is equality\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:411:33\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","XSS Prevention"],"fullName":"Profile Routes PUT /api/auth/profile XSS Prevention should sanitize name to prevent XSS","status":"failed","title":"should sanitize name to prevent XSS","duration":4.593263999999635,"failureMessages":["AssertionError: the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1191:15)\n    at Proxy.<anonymous> (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/chai/index.js:1686:25)\n    at /home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts:434:31\n    at file:///home/nic20/ProjetosWeb/ServiceDesk/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","XSS Prevention"],"fullName":"Profile Routes PUT /api/auth/profile XSS Prevention should sanitize email to prevent XSS","status":"passed","title":"should sanitize email to prevent XSS","duration":1.9946039999999812,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Authentication Requirement"],"fullName":"Profile Routes PUT /api/auth/profile Authentication Requirement should reject update without token","status":"passed","title":"should reject update without token","duration":0.5102059999999256,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Authentication Requirement"],"fullName":"Profile Routes PUT /api/auth/profile Authentication Requirement should reject update with invalid token","status":"passed","title":"should reject update with invalid token","duration":0.532064999999875,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Security Features"],"fullName":"Profile Routes PUT /api/auth/profile Security Features should not allow updating other user profiles","status":"passed","title":"should not allow updating other user profiles","duration":1.4144619999997303,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Security Features"],"fullName":"Profile Routes PUT /api/auth/profile Security Features should not expose password hash in response","status":"passed","title":"should not expose password hash in response","duration":1.3168550000000323,"failureMessages":[],"meta":{}},{"ancestorTitles":["Profile Routes","PUT /api/auth/profile","Security Features"],"fullName":"Profile Routes PUT /api/auth/profile Security Features should not allow role escalation via profile update","status":"passed","title":"should not allow role escalation via profile update","duration":1.1172520000000077,"failureMessages":[],"meta":{}}],"startTime":1771180419146,"endTime":1771180419216.1172,"status":"failed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/profile.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/auth/register","Successful Registration"],"fullName":"POST /api/auth/register Successful Registration should register a new user with valid data","status":"passed","title":"should register a new user with valid data","duration":229.51573700000017,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Successful Registration"],"fullName":"POST /api/auth/register Successful Registration should create user in database","status":"passed","title":"should create user in database","duration":209.34741500000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Successful Registration"],"fullName":"POST /api/auth/register Successful Registration should hash password before storing","status":"passed","title":"should hash password before storing","duration":261.6794219999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Successful Registration"],"fullName":"POST /api/auth/register Successful Registration should set httpOnly auth_token cookie","status":"passed","title":"should set httpOnly auth_token cookie","duration":252.34189400000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Successful Registration"],"fullName":"POST /api/auth/register Successful Registration should set tenant-context cookie","status":"passed","title":"should set tenant-context cookie","duration":211.51945999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Successful Registration"],"fullName":"POST /api/auth/register Successful Registration should create audit log entry","status":"passed","title":"should create audit log entry","duration":194.79811299999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Successful Registration"],"fullName":"POST /api/auth/register Successful Registration should accept optional fields (job_title, department, phone)","status":"passed","title":"should accept optional fields (job_title, department, phone)","duration":179.95619599999964,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Password Validation"],"fullName":"POST /api/auth/register Password Validation should reject password shorter than 12 characters","status":"passed","title":"should reject password shorter than 12 characters","duration":1.74445999999989,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Password Validation"],"fullName":"POST /api/auth/register Password Validation should reject password without uppercase letter","status":"passed","title":"should reject password without uppercase letter","duration":1.4267589999999473,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Password Validation"],"fullName":"POST /api/auth/register Password Validation should reject password without lowercase letter","status":"passed","title":"should reject password without lowercase letter","duration":1.1499690000000555,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Password Validation"],"fullName":"POST /api/auth/register Password Validation should reject password without number","status":"passed","title":"should reject password without number","duration":1.009473000000071,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Password Validation"],"fullName":"POST /api/auth/register Password Validation should reject password without special character","status":"passed","title":"should reject password without special character","duration":0.8107179999997243,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Password Validation"],"fullName":"POST /api/auth/register Password Validation should accept password with all requirements","status":"passed","title":"should accept password with all requirements","duration":626.7799239999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Email Validation"],"fullName":"POST /api/auth/register Email Validation should reject invalid email format","status":"passed","title":"should reject invalid email format","duration":2.0510880000001634,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Email Validation"],"fullName":"POST /api/auth/register Email Validation should accept valid email formats","status":"passed","title":"should accept valid email formats","duration":621.1436350000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Duplicate Detection"],"fullName":"POST /api/auth/register Duplicate Detection should reject registration with existing email","status":"passed","title":"should reject registration with existing email","duration":0.6619410000002972,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Duplicate Detection"],"fullName":"POST /api/auth/register Duplicate Detection should allow same email in different tenants (tenant isolation)","status":"passed","title":"should allow same email in different tenants (tenant isolation)","duration":0.16462000000046828,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Required Fields Validation"],"fullName":"POST /api/auth/register Required Fields Validation should reject registration without name","status":"passed","title":"should reject registration without name","duration":0.41732499999943684,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Required Fields Validation"],"fullName":"POST /api/auth/register Required Fields Validation should reject registration without email","status":"passed","title":"should reject registration without email","duration":0.41480200000023615,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Required Fields Validation"],"fullName":"POST /api/auth/register Required Fields Validation should reject registration without password","status":"passed","title":"should reject registration without password","duration":0.4331339999998818,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","XSS Prevention"],"fullName":"POST /api/auth/register XSS Prevention should sanitize name to prevent XSS","status":"passed","title":"should sanitize name to prevent XSS","duration":157.01753199999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","XSS Prevention"],"fullName":"POST /api/auth/register XSS Prevention should sanitize job_title to prevent XSS","status":"passed","title":"should sanitize job_title to prevent XSS","duration":154.8956160000007,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Rate Limiting"],"fullName":"POST /api/auth/register Rate Limiting should rate limit excessive registration attempts","status":"passed","title":"should rate limit excessive registration attempts","duration":156.8525840000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Tenant Management"],"fullName":"POST /api/auth/register Tenant Management should reject registration when tenant not found","status":"passed","title":"should reject registration when tenant not found","duration":0.6316790000000765,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Tenant Management"],"fullName":"POST /api/auth/register Tenant Management should respect tenant user limits","status":"passed","title":"should respect tenant user limits","duration":0.14693200000056095,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Security Features"],"fullName":"POST /api/auth/register Security Features should use default role of \"user\" for registration","status":"passed","title":"should use default role of \"user\" for registration","duration":153.54265699999996,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Security Features"],"fullName":"POST /api/auth/register Security Features should not allow privilege escalation via role parameter","status":"passed","title":"should not allow privilege escalation via role parameter","duration":153.51782900000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Security Features"],"fullName":"POST /api/auth/register Security Features should set is_active to 1 by default","status":"passed","title":"should set is_active to 1 by default","duration":153.7073220000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/auth/register","Security Features"],"fullName":"POST /api/auth/register Security Features should set must_change_password to 0 by default","status":"passed","title":"should set must_change_password to 0 by default","duration":153.49959800000033,"failureMessages":[],"meta":{}}],"startTime":1771180419089,"endTime":1771180422973.4995,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/register.test.ts"},{"assertionResults":[{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Valid Token Verification"],"fullName":"Auth Verify Routes GET /api/auth/verify Valid Token Verification should verify valid token from cookie","status":"passed","title":"should verify valid token from cookie","duration":16.783621999999923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Valid Token Verification"],"fullName":"Auth Verify Routes GET /api/auth/verify Valid Token Verification should verify valid token from Authorization header","status":"passed","title":"should verify valid token from Authorization header","duration":3.598337999999785,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Valid Token Verification"],"fullName":"Auth Verify Routes GET /api/auth/verify Valid Token Verification should not expose sensitive user data","status":"passed","title":"should not expose sensitive user data","duration":1.800836000000345,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Valid Token Verification"],"fullName":"Auth Verify Routes GET /api/auth/verify Valid Token Verification should work for all user roles","status":"passed","title":"should work for all user roles","duration":4.387004000000161,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes GET /api/auth/verify Invalid Token Handling should reject request with no token","status":"passed","title":"should reject request with no token","duration":1.1714109999998072,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes GET /api/auth/verify Invalid Token Handling should reject invalid token format","status":"passed","title":"should reject invalid token format","duration":1.1977999999999156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes GET /api/auth/verify Invalid Token Handling should reject expired token","status":"passed","title":"should reject expired token","duration":2.069427999999789,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes GET /api/auth/verify Invalid Token Handling should reject token with wrong signature","status":"passed","title":"should reject token with wrong signature","duration":1.9990950000001249,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes GET /api/auth/verify Invalid Token Handling should reject token for non-existent user","status":"passed","title":"should reject token for non-existent user","duration":2.2309150000000955,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Rate Limiting"],"fullName":"Auth Verify Routes GET /api/auth/verify Rate Limiting should allow reasonable verification requests","status":"passed","title":"should allow reasonable verification requests","duration":10.436011000000235,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","GET /api/auth/verify","Rate Limiting"],"fullName":"Auth Verify Routes GET /api/auth/verify Rate Limiting should rate limit excessive verification requests","status":"passed","title":"should rate limit excessive verification requests","duration":52.76256999999987,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","POST /api/auth/verify","Valid Token Verification"],"fullName":"Auth Verify Routes POST /api/auth/verify Valid Token Verification should verify token from request body","status":"passed","title":"should verify token from request body","duration":2.83882100000028,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","POST /api/auth/verify","Valid Token Verification"],"fullName":"Auth Verify Routes POST /api/auth/verify Valid Token Verification should return user data without sensitive fields","status":"passed","title":"should return user data without sensitive fields","duration":2.235508000000209,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","POST /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes POST /api/auth/verify Invalid Token Handling should reject request without token in body","status":"passed","title":"should reject request without token in body","duration":1.4213079999999536,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","POST /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes POST /api/auth/verify Invalid Token Handling should reject invalid token","status":"passed","title":"should reject invalid token","duration":1.0480750000001535,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","POST /api/auth/verify","Invalid Token Handling"],"fullName":"Auth Verify Routes POST /api/auth/verify Invalid Token Handling should reject expired token","status":"passed","title":"should reject expired token","duration":2.0214740000001257,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","POST /api/auth/verify","Error Handling"],"fullName":"Auth Verify Routes POST /api/auth/verify Error Handling should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":200.23402399999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","POST /api/auth/verify","Error Handling"],"fullName":"Auth Verify Routes POST /api/auth/verify Error Handling should handle malformed JSON gracefully","status":"passed","title":"should handle malformed JSON gracefully","duration":0.9257800000000316,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","Security Features"],"fullName":"Auth Verify Routes Security Features should validate JWT issuer","status":"passed","title":"should validate JWT issuer","duration":10.161204999999882,"failureMessages":[],"meta":{}},{"ancestorTitles":["Auth Verify Routes","Security Features"],"fullName":"Auth Verify Routes Security Features should validate JWT audience","status":"passed","title":"should validate JWT audience","duration":2.8398040000001856,"failureMessages":[],"meta":{}}],"startTime":1771180419145,"endTime":1771180419467.8398,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/app/api/auth/__tests__/verify.test.ts"},{"assertionResults":[{"ancestorTitles":["AITrainingSystem","Constructor and Configuration"],"fullName":"AITrainingSystem Constructor and Configuration should initialize with default config","status":"passed","title":"should initialize with default config","duration":1.8730199999999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","Constructor and Configuration"],"fullName":"AITrainingSystem Constructor and Configuration should accept custom configuration","status":"passed","title":"should accept custom configuration","duration":0.6338739999999916,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","collectTrainingData"],"fullName":"AITrainingSystem collectTrainingData should collect validated training data for classification","status":"passed","title":"should collect validated training data for classification","duration":2.533631000000014,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","collectTrainingData"],"fullName":"AITrainingSystem collectTrainingData should filter by organization ID when provided","status":"passed","title":"should filter by organization ID when provided","duration":1.232670999999982,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","collectTrainingData"],"fullName":"AITrainingSystem collectTrainingData should only include validated high-quality data","status":"passed","title":"should only include validated high-quality data","duration":0.6386459999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","addTrainingData"],"fullName":"AITrainingSystem addTrainingData should add new training data entry","status":"passed","title":"should add new training data entry","duration":2.0591799999999694,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","addTrainingData"],"fullName":"AITrainingSystem addTrainingData should handle unvalidated data","status":"passed","title":"should handle unvalidated data","duration":0.6979649999999538,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","processFeedback"],"fullName":"AITrainingSystem processFeedback should process positive feedback","status":"passed","title":"should process positive feedback","duration":0.9349340000001121,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","processFeedback"],"fullName":"AITrainingSystem processFeedback should process negative feedback with corrections","status":"passed","title":"should process negative feedback with corrections","duration":0.902074999999968,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","processFeedback"],"fullName":"AITrainingSystem processFeedback should throw error for non-existent classification","status":"passed","title":"should throw error for non-existent classification","duration":1.3443099999999504,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","calculatePerformanceMetrics"],"fullName":"AITrainingSystem calculatePerformanceMetrics should calculate accurate performance metrics","status":"passed","title":"should calculate accurate performance metrics","duration":0.6897200000000794,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","calculatePerformanceMetrics"],"fullName":"AITrainingSystem calculatePerformanceMetrics should handle zero feedback gracefully","status":"passed","title":"should handle zero feedback gracefully","duration":0.5380799999999226,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","calculatePerformanceMetrics"],"fullName":"AITrainingSystem calculatePerformanceMetrics should filter by organization ID","status":"passed","title":"should filter by organization ID","duration":0.38688699999988785,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","shouldRetrain"],"fullName":"AITrainingSystem shouldRetrain should return false when auto-retrain is disabled","status":"passed","title":"should return false when auto-retrain is disabled","duration":0.4268890000000738,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","shouldRetrain"],"fullName":"AITrainingSystem shouldRetrain should return true when accuracy is below threshold","status":"passed","title":"should return true when accuracy is below threshold","duration":0.39927299999999377,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","shouldRetrain"],"fullName":"AITrainingSystem shouldRetrain should return true when enough new training data exists","status":"passed","title":"should return true when enough new training data exists","duration":0.4549720000001116,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","trainModel"],"fullName":"AITrainingSystem trainModel should throw error with insufficient training data","status":"passed","title":"should throw error with insufficient training data","duration":0.5174729999999954,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","trainModel"],"fullName":"AITrainingSystem trainModel should successfully train model with sufficient data","status":"passed","title":"should successfully train model with sufficient data","duration":4.839952000000039,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","getDataQualityStats"],"fullName":"AITrainingSystem getDataQualityStats should return comprehensive data quality statistics","status":"passed","title":"should return comprehensive data quality statistics","duration":1.156368999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","getDataQualityStats"],"fullName":"AITrainingSystem getDataQualityStats should handle empty database gracefully","status":"passed","title":"should handle empty database gracefully","duration":0.7770310000000791,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","exportTrainingData"],"fullName":"AITrainingSystem exportTrainingData should export training data in JSON format","status":"passed","title":"should export training data in JSON format","duration":1.2294679999999971,"failureMessages":[],"meta":{}},{"ancestorTitles":["AITrainingSystem","exportTrainingData"],"fullName":"AITrainingSystem exportTrainingData should export training data in CSV format","status":"passed","title":"should export training data in CSV format","duration":0.9892079999999623,"failureMessages":[],"meta":{}}],"startTime":1771180419234,"endTime":1771180419260.9893,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/tests/unit/lib/ai/training-system.test.ts"},{"assertionResults":[{"ancestorTitles":["POST /api/tickets/create","Success Cases"],"fullName":"POST /api/tickets/create Success Cases should create ticket with valid data","status":"passed","title":"should create ticket with valid data","duration":14.339901999999938,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Success Cases"],"fullName":"POST /api/tickets/create Success Cases should use authenticated user ID","status":"passed","title":"should use authenticated user ID","duration":4.075170000000071,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Success Cases"],"fullName":"POST /api/tickets/create Success Cases should include workflow result in response","status":"passed","title":"should include workflow result in response","duration":2.8981830000000173,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Validation Errors"],"fullName":"POST /api/tickets/create Validation Errors should reject missing title","status":"passed","title":"should reject missing title","duration":17.78794300000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Validation Errors"],"fullName":"POST /api/tickets/create Validation Errors should reject missing description","status":"passed","title":"should reject missing description","duration":8.083505999999943,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Validation Errors"],"fullName":"POST /api/tickets/create Validation Errors should reject title exceeding max length","status":"passed","title":"should reject title exceeding max length","duration":4.159666999999899,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Validation Errors"],"fullName":"POST /api/tickets/create Validation Errors should reject description exceeding max length","status":"passed","title":"should reject description exceeding max length","duration":3.053760999999895,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Authentication Errors"],"fullName":"POST /api/tickets/create Authentication Errors should reject unauthenticated requests","status":"passed","title":"should reject unauthenticated requests","duration":2.2971439999998893,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Authentication Errors"],"fullName":"POST /api/tickets/create Authentication Errors should reject requests without user ID","status":"passed","title":"should reject requests without user ID","duration":2.043134000000009,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Multi-Tenant Security"],"fullName":"POST /api/tickets/create Multi-Tenant Security should enforce tenant isolation for ticket_type","status":"passed","title":"should enforce tenant isolation for ticket_type","duration":4.480839999999944,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Multi-Tenant Security"],"fullName":"POST /api/tickets/create Multi-Tenant Security should enforce tenant isolation for category","status":"passed","title":"should enforce tenant isolation for category","duration":5.13719100000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Multi-Tenant Security"],"fullName":"POST /api/tickets/create Multi-Tenant Security should enforce tenant isolation for priority","status":"passed","title":"should enforce tenant isolation for priority","duration":5.706026999999949,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Business Logic"],"fullName":"POST /api/tickets/create Business Logic should include optional fields when provided","status":"passed","title":"should include optional fields when provided","duration":2.859764999999925,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Business Logic"],"fullName":"POST /api/tickets/create Business Logic should use default values for optional fields","status":"passed","title":"should use default values for optional fields","duration":3.4976570000001175,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Error Handling"],"fullName":"POST /api/tickets/create Error Handling should handle workflow processing errors gracefully","status":"passed","title":"should handle workflow processing errors gracefully","duration":7.197411999999986,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Error Handling"],"fullName":"POST /api/tickets/create Error Handling should handle database errors gracefully","status":"passed","title":"should handle database errors gracefully","duration":8.226850000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Response Format"],"fullName":"POST /api/tickets/create Response Format should return consistent success response format","status":"passed","title":"should return consistent success response format","duration":5.708362999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["POST /api/tickets/create","Response Format"],"fullName":"POST /api/tickets/create Response Format should return consistent error response format","status":"passed","title":"should return consistent error response format","duration":5.503253000000086,"failureMessages":[],"meta":{}}],"startTime":1771180419324,"endTime":1771180419433.5032,"status":"passed","message":"","name":"/home/nic20/ProjetosWeb/ServiceDesk/app/api/tickets/create/__tests__/route.test.ts"}]}