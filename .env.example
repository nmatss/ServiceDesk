# ============================================
# ServiceDesk - Environment Variables Template
# ============================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!
#
# For development: Copy to .env.local (see .env.local.example)
# For production: Copy to .env.production (see .env.production.example)

# ============================================
# NODE ENVIRONMENT
# ============================================

# Application environment: development, staging, production
NODE_ENV=development

# Application URL (used for redirects, emails, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# API URL (if different from app URL)
NEXT_PUBLIC_API_URL=http://localhost:3000/api

# Application version (automatically set from package.json or git SHA)
APP_VERSION=1.0.0

# Server port (default: 3000)
PORT=3000

# ============================================
# CRITICAL SECURITY - REQUIRED IN PRODUCTION
# ============================================
#
# SECURITY WARNING: All secrets below MUST be generated before deployment
# NEVER use default values in production environments
# NEVER commit actual secret values to version control
#
# Quick Setup - Generate all secrets at once:
# -----------------------------------------
# export JWT_SECRET=$(openssl rand -hex 64)
# export SESSION_SECRET=$(openssl rand -hex 64)
# export NEXTAUTH_SECRET=$(openssl rand -base64 32)
# export CSRF_SECRET=$(openssl rand -hex 32)
# export MFA_SECRET=$(openssl rand -hex 32)
# export SSO_ENCRYPTION_KEY=$(openssl rand -hex 32)
# export WEBHOOK_SECRET=$(openssl rand -hex 32)
# export WHATSAPP_WEBHOOK_SECRET=$(openssl rand -hex 32)
# export POSTGRES_PASSWORD=$(openssl rand -hex 32)
# export REDIS_PASSWORD=$(openssl rand -hex 32)

# JWT Secret - REQUIRED
# Generate with: openssl rand -hex 64
# MUST be at least 64 characters for production
# Used for signing JSON Web Tokens
JWT_SECRET=

# Session Secret - REQUIRED
# Generate with: openssl rand -hex 64
# Used for encrypting session cookies
# MUST be at least 64 characters for production
SESSION_SECRET=

# NextAuth Secret - REQUIRED (if using NextAuth)
# Generate with: openssl rand -base64 32
# Used by NextAuth.js for JWT encryption
NEXTAUTH_SECRET=

# NextAuth URL - Full URL of your application
# REQUIRED: Yes (production with NextAuth)
NEXTAUTH_URL=http://localhost:3000

# JWT Expiration (in seconds)
# Default: 28800 (8 hours)
JWT_EXPIRES_IN=28800

# Refresh Token Expiration (in days)
# Default: 7 days
REFRESH_TOKEN_DURATION=7

# ============================================
# DATABASE CONFIGURATION
# ============================================

# Database URL (SQLite for development, PostgreSQL for production)
# SQLite example: ./data/servicedesk.db
# PostgreSQL example: postgresql://user:password@localhost:5432/servicedesk
# Neon example: postgresql://user:password@ep-xxx.neon.tech/servicedesk?sslmode=require
# REQUIRED: Optional (defaults to SQLite in development)
DATABASE_URL=./data/servicedesk.db

# PostgreSQL Password (for Docker/Production)
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (when using PostgreSQL)
# SECURITY: Never use weak passwords like "changeme" or "admin"
POSTGRES_PASSWORD=
POSTGRES_USER=servicedesk
POSTGRES_DB=servicedesk
POSTGRES_PORT=5432

# Database Pool Configuration
# Minimum number of connections in pool
DB_POOL_MIN=2

# Maximum number of connections in pool
DB_POOL_MAX=10

# Idle timeout for connections (milliseconds)
DB_POOL_IDLE_TIMEOUT=30000

# Timeout for acquiring connection (milliseconds)
DB_POOL_ACQUIRE_TIMEOUT=5000

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# Password Policy
MIN_PASSWORD_LENGTH=8
REQUIRE_PASSWORD_SPECIAL_CHARS=true
REQUIRE_PASSWORD_NUMBERS=true
REQUIRE_PASSWORD_UPPERCASE=true

# Multi-Factor Authentication
# Enable 2FA enforcement for admin users
ENFORCE_2FA_FOR_ADMIN=false

# MFA Secret (for generating TOTP codes)
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (if MFA is enabled)
MFA_SECRET=

# CSRF Protection Secret
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (production)
# Used for Cross-Site Request Forgery protection
CSRF_SECRET=

# Session Configuration
# Session duration (in seconds)
SESSION_DURATION=28800

# Maximum login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Lockout duration (in minutes)
LOCKOUT_DURATION=30

# ============================================
# SSO CONFIGURATION (Optional)
# ============================================

# Enable SSO
ENABLE_SSO=false

# SSO Encryption Key
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (if SSO is enabled)
# Used to encrypt SSO tokens and session data
SSO_ENCRYPTION_KEY=

# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3000/api/auth/sso/google/callback

# Microsoft Azure AD
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
AZURE_AD_CLIENT_ID=
AZURE_AD_CLIENT_SECRET=
AZURE_AD_TENANT_ID=
AZURE_AD_CALLBACK_URL=http://localhost:3000/api/auth/sso/azure/callback

# GitHub OAuth
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=http://localhost:3000/api/auth/sso/github/callback

# Okta SAML
OKTA_ISSUER=
OKTA_ENTRY_POINT=
OKTA_CALLBACK_URL=http://localhost:3000/api/auth/sso/okta/callback
OKTA_CERT=

# ============================================
# GOV.BR INTEGRATION (Brazilian Government SSO)
# ============================================

# Gov.br OAuth Configuration
# Get credentials at: https://sso.acesso.gov.br
GOVBR_CLIENT_ID=
GOVBR_CLIENT_SECRET=
GOVBR_REDIRECT_URI=http://localhost:3000/api/auth/govbr/callback

# Gov.br environment: production or staging
GOVBR_ENVIRONMENT=staging

# ============================================
# WHATSAPP BUSINESS API INTEGRATION
# ============================================

# WhatsApp Cloud API Configuration
# Get credentials at: https://developers.facebook.com/apps
# REQUIRED: Optional (WhatsApp features disabled if not configured)

# Phone Number ID from WhatsApp Business Manager
WHATSAPP_PHONE_NUMBER_ID=

# Permanent Access Token from WhatsApp Business API
WHATSAPP_ACCESS_TOKEN=

# Business Account ID from WhatsApp Business Manager
WHATSAPP_BUSINESS_ACCOUNT_ID=

# Webhook Verify Token (you define this - must match Facebook webhook config)
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (if using WhatsApp webhooks)
WHATSAPP_WEBHOOK_VERIFY_TOKEN=

# Webhook Secret for signature validation (HMAC-SHA256)
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (production with WhatsApp), Optional: development
# SECURITY: This secret is used to verify that webhook requests are from WhatsApp
# NEVER share this secret or commit it to version control
WHATSAPP_WEBHOOK_SECRET=

# WhatsApp API Version (default: v18.0)
WHATSAPP_API_VERSION=v18.0

# Media Upload Directory (optional - defaults to ./uploads/whatsapp)
UPLOAD_DIR=./uploads/whatsapp

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================

# Email service provider: smtp, sendgrid, mailgun, ses
EMAIL_PROVIDER=smtp

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_PASSWORD=

# Email From Configuration
EMAIL_FROM_NAME=ServiceDesk
EMAIL_FROM_ADDRESS=noreply@servicedesk.com

# SendGrid API Key (if using SendGrid)
SENDGRID_API_KEY=

# Mailgun Configuration (if using Mailgun)
MAILGUN_API_KEY=
MAILGUN_DOMAIN=

# AWS SES Configuration (if using SES)
AWS_SES_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ============================================
# AI / OPENAI CONFIGURATION (Optional)
# ============================================

# OpenAI API Key for AI features (ticket classification, sentiment analysis, etc.)
# Get your key at: https://platform.openai.com/api-keys
# REQUIRED: Optional (AI features disabled if not set)
OPENAI_API_KEY=

# OpenAI Model (gpt-4o-mini, gpt-4o, gpt-4-turbo, gpt-3.5-turbo)
OPENAI_MODEL=gpt-4o-mini

# AI Temperature (0.0 - 2.0, lower = more deterministic)
AI_TEMPERATURE=0.7

# AI Feature Flags
ENABLE_AI_CLASSIFICATION=false
ENABLE_AI_SENTIMENT_ANALYSIS=false
ENABLE_AI_DUPLICATE_DETECTION=false
ENABLE_AI_AUTO_RESPONSE=false

# ============================================
# REDIS CONFIGURATION (Optional - Production Recommended)
# ============================================

# Redis connection (choose one method)
# Method 1: Full Redis URL
REDIS_URL=

# Method 2: Individual components
REDIS_HOST=localhost
REDIS_PORT=6379
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (production), SECURITY: Never use "changeme" or weak passwords
REDIS_PASSWORD=
REDIS_DB=0

# Redis Cluster (for high availability)
REDIS_CLUSTER=false

# Enable Redis caching (auto-enabled in production if Redis configured)
ENABLE_REDIS_CACHE=false

# Cache TTL Configuration (in seconds)
CACHE_TTL=3600
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=1800
CACHE_TTL_LONG=7200
CACHE_TTL_STATIC=86400

# ============================================
# STORAGE CONFIGURATION (Optional)
# ============================================

# Storage provider: local, s3, gcs, azure
STORAGE_PROVIDER=local

# Local storage path
LOCAL_STORAGE_PATH=./uploads

# AWS S3 Configuration
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY=
AWS_S3_SECRET_KEY=

# Google Cloud Storage Configuration
GCS_BUCKET=
GCS_PROJECT_ID=
GCS_CREDENTIALS_PATH=./gcs-credentials.json

# Azure Blob Storage Configuration
AZURE_STORAGE_ACCOUNT=
AZURE_STORAGE_KEY=
AZURE_STORAGE_CONTAINER=

# File Upload Limits
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain

# ============================================
# CDN CONFIGURATION (Optional)
# ============================================

# CDN Configuration
CDN_BASE_URL=
CDN_API_KEY=
CDN_ZONE_ID=

# Cloudflare Configuration
NEXT_PUBLIC_CLOUDFLARE_ACCOUNT_HASH=

# Cloudinary Configuration
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=

# Public CDN URL
NEXT_PUBLIC_CDN_URL=

# ============================================
# SENTRY ERROR TRACKING & SOURCE MAPS
# ============================================

# Sentry DSN for error tracking (public, safe to expose)
# Get from: https://sentry.io/settings/YOUR_ORG/projects/YOUR_PROJECT/keys/
# REQUIRED: Optional (error tracking disabled if not set)
SENTRY_DSN=

# Client-side Sentry DSN (can be same as SENTRY_DSN)
NEXT_PUBLIC_SENTRY_DSN=

# Sentry authentication token for uploading source maps (KEEP SECRET!)
# Generate at: https://sentry.io/settings/account/api/auth-tokens/
# Required scopes: project:read, project:releases, org:read
# WARNING: Never commit this token or expose it publicly!
SENTRY_AUTH_TOKEN=

# Sentry organization slug (found in dashboard URL)
# Example: https://sentry.io/organizations/YOUR_ORG_SLUG/
SENTRY_ORG=

# Sentry project slug (found in project URL)
# Example: https://sentry.io/organizations/YOUR_ORG/projects/YOUR_PROJECT/
SENTRY_PROJECT=

# Sentry environment identifier
SENTRY_ENVIRONMENT=development
NEXT_PUBLIC_SENTRY_ENVIRONMENT=development

# Sentry release identifier (auto-generated from git if not set)
SENTRY_RELEASE=
NEXT_PUBLIC_SENTRY_RELEASE=

# Sentry server URL (only needed for self-hosted Sentry)
SENTRY_URL=

# Enable Sentry source map upload after build
SENTRY_UPLOAD_SOURCEMAPS=false

# Sentry sampling rates (0.0 to 1.0)
SENTRY_ERROR_SAMPLE_RATE=1.0
SENTRY_TRACES_SAMPLE_RATE=0.1
NEXT_PUBLIC_SENTRY_ERROR_SAMPLE_RATE=1.0
NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================
# DATADOG APM & MONITORING
# ============================================

# Datadog Agent Configuration
DD_AGENT_HOST=localhost
DD_TRACE_AGENT_PORT=8126
DD_DOGSTATSD_PORT=8125

# Service Configuration
DD_SERVICE=servicedesk
DD_ENV=development
DD_VERSION=1.0.0

# Datadog API Configuration
# Get your API key at: https://app.datadoghq.com/organization-settings/api-keys
DD_API_KEY=
DD_SITE=datadoghq.com

# APM / Distributed Tracing
DD_TRACE_ENABLED=false
DD_TRACE_DEBUG=false
DD_TRACE_SAMPLE_RATE=1.0
DD_TRACE_ANALYTICS_ENABLED=true

# Logs Integration
DD_LOGS_ENABLED=false
DD_LOGS_INJECTION=true

# Profiling (CPU & Memory)
DD_PROFILING_ENABLED=false

# Real User Monitoring (RUM) - Browser Monitoring
NEXT_PUBLIC_DD_RUM_ENABLED=false
NEXT_PUBLIC_DD_RUM_APPLICATION_ID=
NEXT_PUBLIC_DD_RUM_CLIENT_TOKEN=
NEXT_PUBLIC_DD_RUM_SAMPLE_RATE=100
NEXT_PUBLIC_DD_ENV=development

# Custom Metrics
DD_CUSTOM_METRICS_ENABLED=false

# ============================================
# ANALYTICS & MONITORING (Optional)
# ============================================

# Google Analytics ID
GOOGLE_ANALYTICS_ID=

# Google Site Verification
GOOGLE_SITE_VERIFICATION=

# Bing Verification
BING_VERIFICATION=

# Yandex Verification
YANDEX_VERIFICATION=

# PostHog API Key (product analytics)
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=false

# ============================================
# RATE LIMITING
# ============================================

# Enable rate limiting
ENABLE_RATE_LIMITING=true

# General API rate limit (requests per minute)
RATE_LIMIT_API=60

# Authentication rate limit (requests per 15 minutes)
RATE_LIMIT_AUTH=5

# Public endpoints rate limit (requests per minute)
RATE_LIMIT_PUBLIC=30

# Bypass rate limiting in development
BYPASS_RATE_LIMIT=false

# ============================================
# CORS CONFIGURATION
# ============================================

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# Allowed origins for API requests
ALLOWED_ORIGINS=http://localhost:3000

# Frontend URL (for Socket.io, webhooks, etc.)
FRONTEND_URL=http://localhost:3000

# ============================================
# FEATURE FLAGS
# ============================================

# Enable knowledge base
ENABLE_KNOWLEDGE_BASE=true

# Enable analytics dashboard
ENABLE_ANALYTICS=true

# Enable automation workflows
ENABLE_WORKFLOWS=true

# Enable gamification
ENABLE_GAMIFICATION=false

# Enable PWA (Progressive Web App)
ENABLE_PWA=true

# Enable real-time notifications
ENABLE_REALTIME_NOTIFICATIONS=true

# ============================================
# MULTI-TENANCY
# ============================================

# Enable multi-tenancy
ENABLE_MULTI_TENANCY=true

# Default tenant slug (used for development)
DEFAULT_TENANT_SLUG=empresa-demo

# Allow tenant self-registration
ALLOW_TENANT_REGISTRATION=false

# ============================================
# COMPLIANCE & PRIVACY (LGPD/GDPR)
# ============================================

# Enable data retention policies
ENABLE_DATA_RETENTION=true

# Default data retention period (in days)
DATA_RETENTION_DAYS=365

# Enable audit logging
ENABLE_AUDIT_LOGS=true

# Audit log retention (in days)
AUDIT_LOG_RETENTION_DAYS=730

# Enable consent management
ENABLE_CONSENT_MANAGEMENT=true

# ============================================
# LOCALIZATION
# ============================================

# Default language
DEFAULT_LANGUAGE=pt-BR

# Supported languages (comma-separated)
SUPPORTED_LANGUAGES=pt-BR,en-US,es-ES

# Default timezone
DEFAULT_TIMEZONE=America/Sao_Paulo

# ============================================
# ELASTICSEARCH (Optional - Advanced Search)
# ============================================

# Elasticsearch Configuration
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX=servicedesk_knowledge
ELASTICSEARCH_API_KEY=
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# ============================================
# BACKUP CONFIGURATION
# ============================================

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_RETENTION_HOURS_INCREMENTAL=24
BACKUP_CLOUD_ENABLED=false
BACKUP_CLOUD_PROVIDER=

# ============================================
# WEBHOOKS (Optional)
# ============================================

# Webhook secret for validating incoming webhooks (general)
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (if using webhooks)
# Used to verify webhook authenticity (HMAC signatures)
WEBHOOK_SECRET=

# Email webhook secret (Bearer token authentication)
# Generate with: openssl rand -hex 32
# REQUIRED: Yes (if using email webhooks)
EMAIL_WEBHOOK_SECRET=

# Enable webhook retry on failure
ENABLE_WEBHOOK_RETRY=true

# Webhook timeout (in milliseconds)
WEBHOOK_TIMEOUT=10000

# ============================================
# EXTERNAL INTEGRATIONS (Optional)
# ============================================

# Slack Integration
SLACK_WEBHOOK_URL=
SLACK_BOT_TOKEN=

# Discord Integration
DISCORD_WEBHOOK_URL=

# Jira Integration
JIRA_URL=
JIRA_USERNAME=
JIRA_API_TOKEN=

# Zendesk Integration
ZENDESK_SUBDOMAIN=
ZENDESK_EMAIL=
ZENDESK_API_TOKEN=

# ============================================
# PWA CONFIGURATION
# ============================================

# VAPID keys for push notifications
# Generate with: npx web-push generate-vapid-keys
# REQUIRED: Yes (if using PWA push notifications)
# SECURITY: Keep VAPID_PRIVATE_KEY secret, NEVER expose in client-side code
NEXT_PUBLIC_VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# ============================================
# WEBAUTHN / BIOMETRIC AUTHENTICATION
# ============================================

# WebAuthn Relying Party ID (usually your domain)
WEBAUTHN_RP_ID=localhost

# ============================================
# DEVELOPMENT & TESTING
# ============================================

# Enable debug mode (verbose logging)
DEBUG=false

# Enable SQL query logging
LOG_SQL_QUERIES=false

# Enable mock data seeding
ENABLE_MOCK_DATA=false

# Skip email verification in development
SKIP_EMAIL_VERIFICATION=true

# Logging level: error, warn, info, debug
LOG_LEVEL=info

# ============================================
# ADVANCED CONFIGURATION
# ============================================

# Enable compression (Brotli/Gzip)
ENABLE_COMPRESSION=true

# Enable HTTP/2
ENABLE_HTTP2=false

# Trust proxy (for production behind load balancer)
TRUST_PROXY=false

# Worker threads for background jobs
WORKER_THREADS=2

# Hostname (for distributed systems)
HOSTNAME=
